diff --git a/app/build.gradle.kts b/app/build.gradle.kts
index 221a7d9..208d793 100644
--- a/app/build.gradle.kts
+++ b/app/build.gradle.kts
@@ -3,7 +3,7 @@ plugins {
     alias(libs.plugins.kotlin.android)
     alias(libs.plugins.composable)
     id("com.google.dagger.hilt.android")
-    id("org.jetbrains.kotlin.kapt")
+    id("org.jetbrains.kotlin.kapt") // Kotlin annotation processing tool
 }
 
 android {
@@ -76,4 +76,8 @@ dependencies {
     kapt(libs.hilt.compiler)
     implementation(libs.hilt.navigation.compose)
     testImplementation(kotlin("test"))
+
+    implementation(libs.androidx.room.runtime)
+    kapt(libs.androidx.room.compiler)
+    implementation(libs.androidx.room.ktx)
 }
\ No newline at end of file
diff --git a/app/src/main/AndroidManifest.xml b/app/src/main/AndroidManifest.xml
index d1daddf..4ff9d67 100644
--- a/app/src/main/AndroidManifest.xml
+++ b/app/src/main/AndroidManifest.xml
@@ -10,9 +10,9 @@
         android:allowBackup="true"
         android:dataExtractionRules="@xml/data_extraction_rules"
         android:fullBackupContent="@xml/backup_rules"
-        android:icon="@mipmap/ic_launcher"
+        android:icon="@mipmap/ic_launcher1"
         android:label="@string/app_name"
-        android:roundIcon="@mipmap/ic_launcher_round"
+        android:roundIcon="@mipmap/ic_launcher1"
         android:supportsRtl="true"
         android:theme="@style/Theme.FigerprintConsole">
         <activity
diff --git a/app/src/main/java/com/example/figerprintconsole/app/data/local/dao/AuditLogDao.kt b/app/src/main/java/com/example/figerprintconsole/app/data/local/dao/AuditLogDao.kt
index e7da2c0..9df7e07 100644
--- a/app/src/main/java/com/example/figerprintconsole/app/data/local/dao/AuditLogDao.kt
+++ b/app/src/main/java/com/example/figerprintconsole/app/data/local/dao/AuditLogDao.kt
@@ -1,4 +1,34 @@
 package com.example.figerprintconsole.app.data.local.dao
 
-class AuditLogDao {
-}
\ No newline at end of file
+import androidx.room.Dao
+import androidx.room.Delete
+import androidx.room.Insert
+import androidx.room.OnConflictStrategy
+import androidx.room.Query
+import androidx.room.Upsert
+import com.example.figerprintconsole.app.data.local.entity.AuditLogEntity
+
+@Dao
+interface AuditLogDao {
+
+    @Query("SELECT * FROM audit_logs")
+    suspend fun getAll(): List<AuditLogEntity>
+
+    @Query("SELECT * FROM audit_logs WHERE server_audit_log_id = :id LIMIT 1")
+    suspend fun getById(id: String): AuditLogEntity?
+
+    @Query("SELECT * FROM audit_logs WHERE organization_server_id = :orgId")
+    suspend fun getByOrganization(orgId: String): List<AuditLogEntity>
+
+    @Insert(onConflict = OnConflictStrategy.ABORT)
+    suspend fun insert(entity: AuditLogEntity)
+
+    @Upsert
+    suspend fun upsert(entity: AuditLogEntity)
+
+    @Delete
+    suspend fun delete(entity: AuditLogEntity)
+
+    @Query("DELETE FROM audit_logs")
+    suspend fun deleteAll()
+}
diff --git a/app/src/main/java/com/example/figerprintconsole/app/data/local/dao/AuthenticationLogDao.kt b/app/src/main/java/com/example/figerprintconsole/app/data/local/dao/AuthenticationLogDao.kt
index be9981a..e118226 100644
--- a/app/src/main/java/com/example/figerprintconsole/app/data/local/dao/AuthenticationLogDao.kt
+++ b/app/src/main/java/com/example/figerprintconsole/app/data/local/dao/AuthenticationLogDao.kt
@@ -1,4 +1,31 @@
 package com.example.figerprintconsole.app.data.local.dao
 
-class AuthenticationLogDao {
-}
\ No newline at end of file
+import androidx.room.Dao
+import androidx.room.Delete
+import androidx.room.Insert
+import androidx.room.OnConflictStrategy
+import androidx.room.Query
+import androidx.room.Upsert
+import com.example.figerprintconsole.app.data.local.entity.AuthenticationLogEntity
+
+@Dao
+interface AuthenticationLogDao {
+
+    @Query("SELECT * FROM authenticate_logs")
+    suspend fun getAll(): List<AuthenticationLogEntity>
+
+    @Query("SELECT * FROM authenticate_logs WHERE server_authentication_log_id = :id LIMIT 1")
+    suspend fun getById(id: String): AuthenticationLogEntity?
+
+    @Insert(onConflict = OnConflictStrategy.ABORT)
+    suspend fun insert(entity: AuthenticationLogEntity)
+
+    @Upsert
+    suspend fun upsert(entity: AuthenticationLogEntity)
+
+    @Delete
+    suspend fun delete(entity: AuthenticationLogEntity)
+
+    @Query("DELETE FROM authenticate_logs")
+    suspend fun deleteAll()
+}
diff --git a/app/src/main/java/com/example/figerprintconsole/app/data/local/dao/DeviceDao.kt b/app/src/main/java/com/example/figerprintconsole/app/data/local/dao/DeviceDao.kt
index fc5c11c..c78fc63 100644
--- a/app/src/main/java/com/example/figerprintconsole/app/data/local/dao/DeviceDao.kt
+++ b/app/src/main/java/com/example/figerprintconsole/app/data/local/dao/DeviceDao.kt
@@ -1,4 +1,35 @@
 package com.example.figerprintconsole.app.data.local.dao
 
-class DeviceDao {
-}
\ No newline at end of file
+import androidx.room.Dao
+import androidx.room.Delete
+import androidx.room.Insert
+import androidx.room.OnConflictStrategy
+import androidx.room.Query
+import androidx.room.Upsert
+import com.example.figerprintconsole.app.data.local.entity.DeviceEntity
+import kotlinx.coroutines.flow.Flow
+
+@Dao
+interface DeviceDao {
+
+    @Query("SELECT * FROM devices")
+    fun getAll(): Flow<List<DeviceEntity>>
+
+    @Query("SELECT * FROM devices WHERE server_device_id = :id LIMIT 1")
+    suspend fun getById(id: String): DeviceEntity?
+
+    @Query("SELECT * FROM devices WHERE organization_server_id = :orgId")
+    suspend fun getByOrganization(orgId: String): List<DeviceEntity>
+
+    @Insert(onConflict = OnConflictStrategy.ABORT)
+    suspend fun insert(entity: DeviceEntity)
+
+    @Upsert
+    suspend fun upsert(entity: DeviceEntity)
+
+    @Delete
+    suspend fun delete(entity: DeviceEntity)
+
+    @Query("DELETE FROM devices")
+    suspend fun deleteAll()
+}
diff --git a/app/src/main/java/com/example/figerprintconsole/app/data/local/dao/FingerprintDao.kt b/app/src/main/java/com/example/figerprintconsole/app/data/local/dao/FingerprintDao.kt
index 583da03..23cfeca 100644
--- a/app/src/main/java/com/example/figerprintconsole/app/data/local/dao/FingerprintDao.kt
+++ b/app/src/main/java/com/example/figerprintconsole/app/data/local/dao/FingerprintDao.kt
@@ -1,4 +1,34 @@
 package com.example.figerprintconsole.app.data.local.dao
 
-class FingerprintDao {
-}
\ No newline at end of file
+import androidx.room.Dao
+import androidx.room.Delete
+import androidx.room.Insert
+import androidx.room.OnConflictStrategy
+import androidx.room.Query
+import androidx.room.Upsert
+import com.example.figerprintconsole.app.data.local.entity.FingerprintEntity
+
+@Dao
+interface FingerprintDao {
+
+    @Query("SELECT * FROM fingerprints")
+    suspend fun getAll(): List<FingerprintEntity>
+
+    @Query("SELECT * FROM fingerprints WHERE server_fingerprint_id = :id LIMIT 1")
+    suspend fun getById(id: String): FingerprintEntity?
+
+    @Query("SELECT * FROM fingerprints WHERE user_server_id = :userId")
+    suspend fun getByUser(userId: String): List<FingerprintEntity>
+
+    @Insert(onConflict = OnConflictStrategy.ABORT)
+    suspend fun insert(entity: FingerprintEntity)
+
+    @Upsert
+    suspend fun upsert(entity: FingerprintEntity)
+
+    @Delete
+    suspend fun delete(entity: FingerprintEntity)
+
+    @Query("DELETE FROM fingerprints")
+    suspend fun deleteAll()
+}
diff --git a/app/src/main/java/com/example/figerprintconsole/app/data/local/dao/ManagerDao.kt b/app/src/main/java/com/example/figerprintconsole/app/data/local/dao/ManagerDao.kt
index adf1733..df4e888 100644
--- a/app/src/main/java/com/example/figerprintconsole/app/data/local/dao/ManagerDao.kt
+++ b/app/src/main/java/com/example/figerprintconsole/app/data/local/dao/ManagerDao.kt
@@ -1,4 +1,34 @@
 package com.example.figerprintconsole.app.data.local.dao
 
-class ManagerDao {
-}
\ No newline at end of file
+import androidx.room.Dao
+import androidx.room.Delete
+import androidx.room.Insert
+import androidx.room.OnConflictStrategy
+import androidx.room.Query
+import androidx.room.Upsert
+import com.example.figerprintconsole.app.data.local.entity.ManagerEntity
+
+@Dao
+interface ManagerDao {
+
+    @Query("SELECT * FROM managers")
+    suspend fun getAll(): List<ManagerEntity>
+
+    @Query("SELECT * FROM managers WHERE server_manager_id = :id LIMIT 1")
+    suspend fun getById(id: String): ManagerEntity?
+
+    @Query("SELECT * FROM managers WHERE organization_server_id = :orgId")
+    suspend fun getByOrganization(orgId: String): List<ManagerEntity>
+
+    @Insert(onConflict = OnConflictStrategy.ABORT)
+    suspend fun insert(entity: ManagerEntity)
+
+    @Upsert
+    suspend fun upsert(entity: ManagerEntity)
+
+    @Delete
+    suspend fun delete(entity: ManagerEntity)
+
+    @Query("DELETE FROM managers")
+    suspend fun deleteAll()
+}
diff --git a/app/src/main/java/com/example/figerprintconsole/app/data/local/dao/OrganizationDao.kt b/app/src/main/java/com/example/figerprintconsole/app/data/local/dao/OrganizationDao.kt
index 5ce492e..2bbe967 100644
--- a/app/src/main/java/com/example/figerprintconsole/app/data/local/dao/OrganizationDao.kt
+++ b/app/src/main/java/com/example/figerprintconsole/app/data/local/dao/OrganizationDao.kt
@@ -1,4 +1,31 @@
 package com.example.figerprintconsole.app.data.local.dao
 
-class OrganizationDao {
-}
\ No newline at end of file
+import androidx.room.Dao
+import androidx.room.Delete
+import androidx.room.Insert
+import androidx.room.OnConflictStrategy
+import androidx.room.Query
+import androidx.room.Upsert
+import com.example.figerprintconsole.app.data.local.entity.OrganizationEntity
+
+@Dao
+interface OrganizationDao {
+
+    @Query("SELECT * FROM organizations")
+    suspend fun getAll(): List<OrganizationEntity>
+
+    @Query("SELECT * FROM organizations WHERE server_organization_id = :id LIMIT 1")
+    suspend fun getById(id: String): OrganizationEntity?
+
+    @Insert(onConflict = OnConflictStrategy.ABORT)
+    suspend fun insert(entity: OrganizationEntity)
+
+    @Upsert
+    suspend fun upsert(entity: OrganizationEntity)
+
+    @Delete
+    suspend fun delete(entity: OrganizationEntity)
+
+    @Query("DELETE FROM organizations")
+    suspend fun deleteAll()
+}
diff --git a/app/src/main/java/com/example/figerprintconsole/app/data/local/dao/UserDao.kt b/app/src/main/java/com/example/figerprintconsole/app/data/local/dao/UserDao.kt
index 620c64d..67af574 100644
--- a/app/src/main/java/com/example/figerprintconsole/app/data/local/dao/UserDao.kt
+++ b/app/src/main/java/com/example/figerprintconsole/app/data/local/dao/UserDao.kt
@@ -1,4 +1,41 @@
 package com.example.figerprintconsole.app.data.local.dao
 
-class UserDao {
-}
\ No newline at end of file
+import androidx.room.Dao
+import androidx.room.Delete
+import androidx.room.Insert
+import androidx.room.OnConflictStrategy
+import androidx.room.Query
+import androidx.room.Transaction
+import androidx.room.Upsert
+import com.example.figerprintconsole.app.data.local.entity.UserEntity
+import com.example.figerprintconsole.app.data.local.projection.UserEntityProjection
+import kotlinx.coroutines.flow.Flow
+
+@Dao
+interface UserDao {
+
+    @Transaction
+    @Query("SELECT * FROM users")
+    fun getAllWithDetail(): Flow<List<UserEntityProjection>>
+
+    @Query("SELECT * FROM users")
+    fun getAll(): Flow<List<UserEntity>>
+
+    @Query("SELECT * FROM users WHERE server_user_id = :id LIMIT 1")
+    suspend fun getById(id: String): UserEntity?
+
+    @Query("SELECT * FROM users WHERE organization_server_id = :orgId")
+    suspend fun getByOrganization(orgId: String): List<UserEntity>
+
+    @Insert(onConflict = OnConflictStrategy.ABORT)
+    suspend fun insert(entity: UserEntity)
+
+    @Upsert
+    suspend fun upsert(entity: UserEntity)
+
+    @Delete
+    suspend fun delete(entity: UserEntity)
+
+    @Query("DELETE FROM users")
+    suspend fun deleteAll()
+}
diff --git a/app/src/main/java/com/example/figerprintconsole/app/data/local/entity/AuditLogEntity.kt b/app/src/main/java/com/example/figerprintconsole/app/data/local/entity/AuditLogEntity.kt
index 553d7d5..e131e08 100644
--- a/app/src/main/java/com/example/figerprintconsole/app/data/local/entity/AuditLogEntity.kt
+++ b/app/src/main/java/com/example/figerprintconsole/app/data/local/entity/AuditLogEntity.kt
@@ -1,4 +1,56 @@
 package com.example.figerprintconsole.app.data.local.entity
 
-class AuditLogEntity {
-}
\ No newline at end of file
+import androidx.room.ColumnInfo
+import androidx.room.Entity
+import androidx.room.ForeignKey
+import androidx.room.Index
+import androidx.room.PrimaryKey
+
+@Entity(
+    tableName = "audit_logs",
+    indices = [
+        Index(value = ["organization_server_id"])
+    ],
+    foreignKeys = [
+        ForeignKey(
+            entity = OrganizationEntity::class,
+            parentColumns = ["server_organization_id"],
+            childColumns = ["organization_server_id"],
+            onDelete = ForeignKey.CASCADE
+        )
+    ]
+)
+data class AuditLogEntity(
+    @PrimaryKey
+    @ColumnInfo(name = "server_audit_log_id")
+    val serverAuditLogId: String,
+
+    @ColumnInfo(name = "timestamp")
+    val timestamp: Long,
+
+    @ColumnInfo(name = "action_type")
+    val actionType: ActionType,
+
+    @ColumnInfo(name = "entity_type")
+    val entityType: FromEntity,
+
+    @ColumnInfo(name = "entity_server_id")
+    val entityServerId: String?,
+
+    @ColumnInfo(name = "description")
+    val description: String,
+
+    @ColumnInfo(name = "ip_address")
+    val ipAddress: String?,
+
+    @ColumnInfo(name = "organization_server_id")
+    val organizationServerId: String
+)
+
+enum class ActionType {
+    REPORT_GENERATED, SETTINGS_UPDATED, DELETE, ENABLE, DISABLE, USER_ENROLLED, DEVICE_ENROLLED, FINGERPRINT_ENROLLED, USER_STATUS_CHANGED, DEVICE_STATUS_CHANGED, LOGIN, REVOKE
+}
+
+enum class FromEntity {
+    DEVICE, USER, MANAGER, FINGERPRINT
+}
diff --git a/app/src/main/java/com/example/figerprintconsole/app/data/local/entity/AuthenticationLogEntity.kt b/app/src/main/java/com/example/figerprintconsole/app/data/local/entity/AuthenticationLogEntity.kt
index 4a8acc2..dd0e5ca 100644
--- a/app/src/main/java/com/example/figerprintconsole/app/data/local/entity/AuthenticationLogEntity.kt
+++ b/app/src/main/java/com/example/figerprintconsole/app/data/local/entity/AuthenticationLogEntity.kt
@@ -1,4 +1,68 @@
 package com.example.figerprintconsole.app.data.local.entity
 
-class AuthenticationLogEntity {
-}
\ No newline at end of file
+import androidx.room.ColumnInfo
+import androidx.room.Entity
+import androidx.room.ForeignKey
+import androidx.room.Index
+import androidx.room.PrimaryKey
+
+@Entity(
+    tableName = "authenticate_logs",
+    indices = [
+        Index(value = ["device_server_id"]),
+        Index(value = ["user_server_id"])
+    ],
+    foreignKeys = [
+
+        // Additional
+        // We can also connect the Organization!
+
+        ForeignKey(
+            entity = DeviceEntity::class,
+            parentColumns = ["server_device_id"],
+            childColumns = ["device_server_id"]
+        ),
+        ForeignKey(
+            entity = UserEntity::class,
+            parentColumns = ["server_user_id"],
+            childColumns = ["user_server_id"]
+        )
+    ]
+)
+data class AuthenticationLogEntity(
+    @PrimaryKey
+    @ColumnInfo(name = "server_authentication_log_id")
+    val serverAuthenticationLogId: String,
+
+    @ColumnInfo(name = "timestamp")
+    val timestamp: Long,
+
+    @ColumnInfo(name = "result")
+    val result: AuthResult,
+
+    @ColumnInfo(name = "confidence_score")
+    val confidenceScore: Int,
+
+    @ColumnInfo(name = "attempt_duration_ms")
+    val attemptDurationMs: Long?,
+
+    @ColumnInfo(name = "device_server_id")
+    val deviceServerId: String,
+
+    @ColumnInfo(name = "user_server_id")
+    val userServerId: String?,
+
+    @ColumnInfo(name = "matched_fingerprint_server_id")
+    val matchedFingerprintServerId: String?,
+
+    @ColumnInfo(name = "purpose")
+    val purpose: AuthenticationPurpose
+)
+
+enum class AuthResult {
+    SUCCESS, FAILED, NO_MATCH, LOW_CONFIDENCE, ERROR
+}
+
+enum class AuthenticationPurpose {
+    ATTENDANCE, ACCESS, VERIFICATION
+}
diff --git a/app/src/main/java/com/example/figerprintconsole/app/data/local/entity/DeviceEntity.kt b/app/src/main/java/com/example/figerprintconsole/app/data/local/entity/DeviceEntity.kt
index 9702d8f..86b58cd 100644
--- a/app/src/main/java/com/example/figerprintconsole/app/data/local/entity/DeviceEntity.kt
+++ b/app/src/main/java/com/example/figerprintconsole/app/data/local/entity/DeviceEntity.kt
@@ -1,4 +1,81 @@
 package com.example.figerprintconsole.app.data.local.entity
 
-class DeviceEntity {
-}
\ No newline at end of file
+import androidx.room.ColumnInfo
+import androidx.room.Entity
+import androidx.room.ForeignKey
+import androidx.room.Index
+import androidx.room.PrimaryKey
+
+@Entity(
+    tableName = "devices",
+    indices = [
+        Index(value = ["server_device_id"], unique = true),
+        Index(value = ["organization_server_id"]),
+        Index(value = ["enrolled_by_server_manager_id"])
+    ],
+    foreignKeys = [
+        ForeignKey(
+            entity = OrganizationEntity::class,
+            parentColumns = ["server_organization_id"],
+            childColumns = ["organization_server_id"],
+            onDelete = ForeignKey.CASCADE
+        ),
+        ForeignKey(
+            entity = ManagerEntity::class,
+            parentColumns = ["server_manager_id"],
+            childColumns = ["enrolled_by_server_manager_id"],
+            onDelete = ForeignKey.SET_NULL
+        )
+    ]
+)
+data class DeviceEntity(
+    @PrimaryKey
+    @ColumnInfo(name = "server_device_id")
+    val serverDeviceId: String,
+
+    @ColumnInfo(name = "device_code")
+    val deviceCode: String,
+
+    @ColumnInfo(name = "secret_key")
+    val secretKey: String,
+
+    @ColumnInfo(name = "name")
+    val name: String?,
+
+    @ColumnInfo(name = "location")
+    val location: String?,
+
+    @ColumnInfo(name = "device_status")
+    val deviceStatus: DeviceStatusEntityEnum,
+
+    @ColumnInfo(name = "last_seen_at")
+    val lastSeenAt: Long,
+
+    @ColumnInfo(name = "firmware_version")
+    val firmwareVersion: Long,
+
+    @ColumnInfo(name = "battery_level")
+    val batteryLevel: Int?,
+
+    @ColumnInfo(name = "enrolled_at")
+    val enrolledAt: Long,
+
+    @ColumnInfo(name = "organization_server_id")
+    val organizationServerId: String,
+
+    @ColumnInfo(name = "enrolled_by_server_manager_id")
+    val enrolledByServerManagerId: String?,
+
+    @ColumnInfo(name = "vendor")
+    val vendor: String,
+
+    @ColumnInfo(name = "supported_algorithms")
+    val supportedAlgorithms: String,
+
+    @ColumnInfo(name = "template_version")
+    val templateVersion: String
+)
+
+enum class DeviceStatusEntityEnum {
+    ACTIVE, INACTIVE, MAINTENANCE, OFFLINE
+}
diff --git a/app/src/main/java/com/example/figerprintconsole/app/data/local/entity/FingerprintsEntity.kt b/app/src/main/java/com/example/figerprintconsole/app/data/local/entity/FingerprintsEntity.kt
index d045a24..1e03015 100644
--- a/app/src/main/java/com/example/figerprintconsole/app/data/local/entity/FingerprintsEntity.kt
+++ b/app/src/main/java/com/example/figerprintconsole/app/data/local/entity/FingerprintsEntity.kt
@@ -1,4 +1,59 @@
 package com.example.figerprintconsole.app.data.local.entity
 
-class FingerprintsEntity {
-}
\ No newline at end of file
+import androidx.room.ColumnInfo
+import androidx.room.Entity
+import androidx.room.ForeignKey
+import androidx.room.Index
+import androidx.room.PrimaryKey
+
+@Entity(
+    tableName = "fingerprints",
+    indices = [
+        Index(value = ["user_server_id"]),
+        Index(value = ["device_server_id"])
+    ],
+    foreignKeys = [
+        ForeignKey(
+            entity = UserEntity::class,
+            parentColumns = ["server_user_id"],
+            childColumns = ["user_server_id"],
+            onDelete = ForeignKey.CASCADE
+        ),
+        ForeignKey(
+            entity = DeviceEntity::class,
+            parentColumns = ["server_device_id"],
+            childColumns = ["device_server_id"],
+            onDelete = ForeignKey.CASCADE
+        )
+    ]
+)
+data class FingerprintEntity(
+    @PrimaryKey
+    @ColumnInfo(name = "server_fingerprint_id")
+    val serverFingerprintId: String,
+
+    @ColumnInfo(name = "finger_index")
+    val fingerIndex: Int,
+
+    @ColumnInfo(name = "hand_type")
+    val handType: HandType,
+
+    @ColumnInfo(name = "quality_score")
+    val qualityScore: Int?,
+
+    @ColumnInfo(name = "enrolled_at")
+    val enrolledAt: Long,
+
+    @ColumnInfo(name = "enrolled_on_device_code")
+    val enrolledOnDeviceCode: String,
+
+    @ColumnInfo(name = "user_server_id")
+    val userServerId: String,
+
+    @ColumnInfo(name = "device_server_id")
+    val deviceServerId: String
+)
+
+enum class HandType {
+    LEFT, RIGHT
+}
diff --git a/app/src/main/java/com/example/figerprintconsole/app/data/local/entity/ManagerEntity.kt b/app/src/main/java/com/example/figerprintconsole/app/data/local/entity/ManagerEntity.kt
index 811e5b6..cb5f017 100644
--- a/app/src/main/java/com/example/figerprintconsole/app/data/local/entity/ManagerEntity.kt
+++ b/app/src/main/java/com/example/figerprintconsole/app/data/local/entity/ManagerEntity.kt
@@ -1,4 +1,52 @@
 package com.example.figerprintconsole.app.data.local.entity
 
-class ManagerEntity {
-}
\ No newline at end of file
+import androidx.room.ColumnInfo
+import androidx.room.Entity
+import androidx.room.ForeignKey
+import androidx.room.Index
+import androidx.room.PrimaryKey
+
+@Entity(
+    tableName = "managers",
+    indices = [
+        Index(value = ["server_manager_id"], unique = true),
+        Index(value = ["organization_server_id"])
+    ],
+    foreignKeys = [
+        ForeignKey(
+            entity = OrganizationEntity::class,
+            parentColumns = ["server_organization_id"],
+            childColumns = ["organization_server_id"],
+            onDelete = ForeignKey.CASCADE
+        )
+    ]
+)
+data class ManagerEntity(
+    @PrimaryKey
+    @ColumnInfo(name = "server_manager_id")
+    val serverManagerId: String,
+
+    @ColumnInfo(name = "username")
+    val username: String,
+
+    @ColumnInfo(name = "full_name")
+    val fullName: String,
+
+    @ColumnInfo(name = "email")
+    val email: String,
+
+    @ColumnInfo(name = "is_superior")
+    val isSuperior: Boolean,
+
+    @ColumnInfo(name = "is_active")
+    val isActive: Boolean,
+
+    @ColumnInfo(name = "last_login_at")
+    val lastLoginAt: Long,
+
+    @ColumnInfo(name = "created_at")
+    val createdAt: Long,
+
+    @ColumnInfo(name = "organization_server_id")
+    val organizationServerId: String
+)
diff --git a/app/src/main/java/com/example/figerprintconsole/app/data/local/entity/OrganizationEntity.kt b/app/src/main/java/com/example/figerprintconsole/app/data/local/entity/OrganizationEntity.kt
index b8cec28..0c4bd9a 100644
--- a/app/src/main/java/com/example/figerprintconsole/app/data/local/entity/OrganizationEntity.kt
+++ b/app/src/main/java/com/example/figerprintconsole/app/data/local/entity/OrganizationEntity.kt
@@ -1,4 +1,39 @@
 package com.example.figerprintconsole.app.data.local.entity
 
-class OrganizationEntity {
-}
\ No newline at end of file
+import androidx.room.ColumnInfo
+import androidx.room.Entity
+import androidx.room.Index
+import androidx.room.PrimaryKey
+
+@Entity(
+    tableName = "organizations",
+    indices = [
+        Index(value = ["server_organization_id"], unique = true)
+    ]
+)
+data class OrganizationEntity(
+    @PrimaryKey
+    @ColumnInfo(name = "server_organization_id")
+    val serverOrganizationId: String,
+
+    @ColumnInfo(name = "name")
+    val name: String,
+
+    @ColumnInfo(name = "contact_email")
+    val contactEmail: String,
+
+    @ColumnInfo(name = "license_key")
+    val licenseKey: String,
+
+    @ColumnInfo(name = "total_devices")
+    val totalDevices: Int,
+
+    @ColumnInfo(name = "total_users")
+    val totalUsers: Int,
+
+    @ColumnInfo(name = "is_active")
+    val isActive: Boolean,
+
+    @ColumnInfo(name = "created_at")
+    val createdAt: Long
+)
diff --git a/app/src/main/java/com/example/figerprintconsole/app/data/local/entity/UserEntity.kt b/app/src/main/java/com/example/figerprintconsole/app/data/local/entity/UserEntity.kt
index e97e65e..6ed82cb 100644
--- a/app/src/main/java/com/example/figerprintconsole/app/data/local/entity/UserEntity.kt
+++ b/app/src/main/java/com/example/figerprintconsole/app/data/local/entity/UserEntity.kt
@@ -1,4 +1,65 @@
 package com.example.figerprintconsole.app.data.local.entity
 
-class UserEntity {
-}
\ No newline at end of file
+import androidx.room.ColumnInfo
+import androidx.room.Entity
+import androidx.room.ForeignKey
+import androidx.room.Index
+import androidx.room.PrimaryKey
+
+@Entity(
+    tableName = "users",
+    indices = [
+        Index(value = ["server_user_id"], unique = true),
+        Index(value = ["organization_server_id"]),
+        Index(value = ["enrolled_by_server_manager_id"])
+    ],
+    foreignKeys = [
+        ForeignKey(
+            entity = OrganizationEntity::class,
+            parentColumns = ["server_organization_id"],
+            childColumns = ["organization_server_id"],
+            onDelete = ForeignKey.CASCADE
+        ),
+        ForeignKey(
+            entity = ManagerEntity::class,
+            parentColumns = ["server_manager_id"],
+            childColumns = ["enrolled_by_server_manager_id"],
+            onDelete = ForeignKey.SET_NULL
+        )
+    ]
+)
+data class UserEntity(
+    @PrimaryKey
+    @ColumnInfo(name = "server_user_id")
+    val serverUserId: String,
+
+    @ColumnInfo(name = "user_code")
+    val userCode: String,
+
+    @ColumnInfo(name = "full_name")
+    val fullName: String,
+
+    @ColumnInfo(name = "email")
+    val email: String?,
+
+    @ColumnInfo(name = "phone")
+    val phone: String,
+
+    @ColumnInfo(name = "department")
+    val department: String?,
+
+    @ColumnInfo(name = "notes")
+    val notes: String?,
+
+    @ColumnInfo(name = "is_active")
+    val isActive: Boolean,
+
+    @ColumnInfo(name = "enrolled_at")
+    val enrolledAt: Long,
+
+    @ColumnInfo(name = "organization_server_id")
+    val organizationServerId: String,
+
+    @ColumnInfo(name = "enrolled_by_server_manager_id")
+    val enrolledByServerManagerId: String?
+)
diff --git a/app/src/main/java/com/example/figerprintconsole/app/data/local/projection/FingerprintEntityProjection.kt b/app/src/main/java/com/example/figerprintconsole/app/data/local/projection/FingerprintEntityProjection.kt
index 1086bbf..2d4df4d 100644
--- a/app/src/main/java/com/example/figerprintconsole/app/data/local/projection/FingerprintEntityProjection.kt
+++ b/app/src/main/java/com/example/figerprintconsole/app/data/local/projection/FingerprintEntityProjection.kt
@@ -1,4 +1,18 @@
 package com.example.figerprintconsole.app.data.local.projection
 
-class FingerprintEntityProjection {
-}
\ No newline at end of file
+import androidx.room.Embedded
+import androidx.room.Relation
+import com.example.figerprintconsole.app.data.local.entity.DeviceEntity
+import com.example.figerprintconsole.app.data.local.entity.FingerprintEntity
+
+data class FingerprintEntityProjection (
+    @Embedded
+    val fingerprintEntity: FingerprintEntity,
+
+    @Relation(
+        entity = DeviceEntity::class,
+        parentColumn = "device_server_id",
+        entityColumn = "server_device_id"
+    )
+    val device: DeviceEntity
+)
\ No newline at end of file
diff --git a/app/src/main/java/com/example/figerprintconsole/app/data/local/projection/UserEntityProjection.kt b/app/src/main/java/com/example/figerprintconsole/app/data/local/projection/UserEntityProjection.kt
index 7683677..ac168ed 100644
--- a/app/src/main/java/com/example/figerprintconsole/app/data/local/projection/UserEntityProjection.kt
+++ b/app/src/main/java/com/example/figerprintconsole/app/data/local/projection/UserEntityProjection.kt
@@ -1,4 +1,35 @@
 package com.example.figerprintconsole.app.data.local.projection
 
-class UserEntityProjection {
-}
\ No newline at end of file
+import androidx.room.Embedded
+import androidx.room.Relation
+import com.example.figerprintconsole.app.data.local.entity.FingerprintEntity
+import com.example.figerprintconsole.app.data.local.entity.ManagerEntity
+import com.example.figerprintconsole.app.data.local.entity.OrganizationEntity
+import com.example.figerprintconsole.app.data.local.entity.UserEntity
+
+data class UserEntityProjection (
+
+    @Embedded
+    val userEntity: UserEntity,
+
+    @Relation(
+        entity = OrganizationEntity::class,
+        parentColumn = "organization_server_id",
+        entityColumn = "server_organization_id"
+    )
+    val organizationEntity: OrganizationEntity,
+
+    @Relation(
+        entity = ManagerEntity::class,
+        parentColumn = "enrolled_by_server_manager_id",
+        entityColumn = "server_manager_id"
+    )
+    val manager: ManagerEntity?,
+
+    @Relation(
+        entity = FingerprintEntity::class,
+        parentColumn = "server_user_id",
+        entityColumn = "user_server_id"
+    )
+    val fingerprintEntity: List<FingerprintEntityProjection>
+)
\ No newline at end of file
diff --git a/app/src/main/java/com/example/figerprintconsole/app/data/mapper/DeviceMapper.kt b/app/src/main/java/com/example/figerprintconsole/app/data/mapper/DeviceMapper.kt
index 5cdc995..ebb519e 100644
--- a/app/src/main/java/com/example/figerprintconsole/app/data/mapper/DeviceMapper.kt
+++ b/app/src/main/java/com/example/figerprintconsole/app/data/mapper/DeviceMapper.kt
@@ -1,4 +1,20 @@
 package com.example.figerprintconsole.app.data.mapper
 
-class DeviceMapper {
+import com.example.figerprintconsole.app.data.local.entity.DeviceEntity
+import com.example.figerprintconsole.app.domain.model.Device
+
+fun DeviceEntity.toDomain(): Device {
+    return Device(
+        deviceCode = deviceCode,
+        name = name,
+        location = location,
+        deviceStatus = deviceStatus.toString(),
+        lastSeenAt = lastSeenAt.fromLongToDateString(),
+        batteryLevel = batteryLevel,
+        enrolledAt = enrolledAt.fromLongToDateString(),
+        secretKey = secretKey,
+        vendor = vendor,
+        supportedAlgorithm = supportedAlgorithms,
+        templateVersion = templateVersion
+    )
 }
\ No newline at end of file
diff --git a/app/src/main/java/com/example/figerprintconsole/app/data/mapper/EnrollmentSocketMapper.kt b/app/src/main/java/com/example/figerprintconsole/app/data/mapper/EnrollmentSocketMapper.kt
index 597b4e9..d505e7e 100644
--- a/app/src/main/java/com/example/figerprintconsole/app/data/mapper/EnrollmentSocketMapper.kt
+++ b/app/src/main/java/com/example/figerprintconsole/app/data/mapper/EnrollmentSocketMapper.kt
@@ -8,45 +8,57 @@ import org.json.JSONObject
 fun String.toWebsocketEvent(): EnrollmentSocketEvent {
     val root = JSONObject(this)
     val type = root.getString("type")
+    val user = root.optJSONObject("user")
+    val fingerprintId = root.optInt("fingerprintId")
+    val userJson = user?.getJSONObject("user")
+    val attendance = root.optJSONObject("attendance")
 
     return when (type) {
 
-        "ATTENDANCE_EVENT" -> mapAttendanceEvent(root)
+        "ENROLL_PENDING" -> { EnrollmentSocketEvent.EnrollPending(fingerprintId = fingerprintId) }
 
-        "" -> EnrollmentSocketEvent.StartEnrolling
-        // "" -> EnrollmentSocketEvent.ScanStepOneCompleted
+        "ENROLL_SUCCESS" -> {
+            val user = User(
+                employeeCode = userJson?.getString("employeeId") ?: "",
+                fullName = userJson?.getString("name") ?: "",
+                email = userJson?.getString("email"),
+                phone = userJson?.getString("phone"),
+                department = userJson?.getString("department"),
+                notes = userJson?.getString("notes"),
+                isActive = userJson?.getBoolean("isActive") ?: false,
+                enrolledAt = userJson?.getLong("enrolledAt")?.fromLongToDateString() ?: "Unknown"
+            )
 
-        "ERROR" -> EnrollmentSocketEvent.Error(
-            message = root.getString("message")
-        )
+            EnrollmentSocketEvent.EnrollSuccess(user = user)
+        }
 
-        else -> EnrollmentSocketEvent.Error(
-            message = "Unknown socket event type: $type"
-        )
+        "ATTENDANCE_EVENT" -> {
+
+            val user = User(
+                employeeCode = userJson?.getString("employeeId") ?: "",
+                fullName = userJson?.getString("name") ?: "",
+                email = userJson?.getString("email"),
+                phone = userJson?.getString("phone"),
+                department = userJson?.getString("department"),
+                notes = userJson?.getString("notes"),
+                isActive = userJson?.getBoolean("isActive") ?: false,
+                enrolledAt = userJson?.getLong("enrolledAt")?.fromLongToDateString() ?: "Unknown"
+            )
+
+            EnrollmentSocketEvent.AttendanceEvent(
+                attendanceId = attendance?.optString("_id") ?: "",
+                fingerprintId = attendance?.optInt("fingerprintId") ?: -1,
+                deviceId = attendance?.optString("deviceId") ?: "",
+                action = attendance?.optString("action") ?: "",
+                status = attendance?.optString("status") ?: "",
+                user = user,
+                utcTime = attendance?.optString("utcTime") ?: "",
+                customTime = attendance?.optString("customTime") ?: ""
+            )
+        }
+
+        "ERROR" -> EnrollmentSocketEvent.Error(message = root.getString("message"))
+
+        else -> EnrollmentSocketEvent.Error(message = "Unknown socket event type: $type")
     }
-}
-
-fun mapAttendanceEvent(root: JSONObject): EnrollmentSocketEvent.VerificationSuccess {
-    val attendance = root.getJSONObject("attendance")
-    val userJson = attendance.getJSONObject("user")
-
-    val user = User(
-        id = userJson.getString("_id"),
-        fingerprintId = userJson.getInt("fingerprintId"),
-        employeeId = userJson.getString("employeeId"),
-        name = userJson.getString("name"),
-        email = userJson.getString("email"),
-        enrollmentStatus = EnrollmentStatus.ENROLLED, // This is a direct value!! !!WARNING!!
-    )
-
-    return EnrollmentSocketEvent.VerificationSuccess(
-        attendanceId = attendance.getString("_id"),
-        fingerprintId = attendance.getInt("fingerprintId"),
-        deviceId = attendance.getString("deviceId"),
-        action = attendance.getString("action"),
-        status = attendance.getString("status"),
-        user = user,
-        utcTime = attendance.getString("utcTime"),
-        customTime = attendance.getString("customTime")
-    )
 }
\ No newline at end of file
diff --git a/app/src/main/java/com/example/figerprintconsole/app/data/mapper/FingerprintMapper.kt b/app/src/main/java/com/example/figerprintconsole/app/data/mapper/FingerprintMapper.kt
index 86debe3..2c4f565 100644
--- a/app/src/main/java/com/example/figerprintconsole/app/data/mapper/FingerprintMapper.kt
+++ b/app/src/main/java/com/example/figerprintconsole/app/data/mapper/FingerprintMapper.kt
@@ -1,4 +1,13 @@
 package com.example.figerprintconsole.app.data.mapper
 
-class FingerprintMapper {
+import com.example.figerprintconsole.app.data.local.entity.FingerprintEntity
+import com.example.figerprintconsole.app.domain.model.Fingerprint
+
+fun FingerprintEntity.toDomain(): Fingerprint {
+    return Fingerprint(
+        fingerIndex = fingerIndex,
+        handType = handType.toString(),
+        qualityScore = qualityScore,
+        enrolledAt = enrolledAt.fromLongToDateString()
+    )
 }
\ No newline at end of file
diff --git a/app/src/main/java/com/example/figerprintconsole/app/data/mapper/ManagerMapper.kt b/app/src/main/java/com/example/figerprintconsole/app/data/mapper/ManagerMapper.kt
index b0a42d2..e09722b 100644
--- a/app/src/main/java/com/example/figerprintconsole/app/data/mapper/ManagerMapper.kt
+++ b/app/src/main/java/com/example/figerprintconsole/app/data/mapper/ManagerMapper.kt
@@ -1,4 +1,17 @@
 package com.example.figerprintconsole.app.data.mapper
 
-class ManagerMapper {
+import com.example.figerprintconsole.app.data.local.entity.ManagerEntity
+import com.example.figerprintconsole.app.domain.model.Manager
+
+fun ManagerEntity.toDomain(): Manager {
+    return Manager(
+        userName = username,
+        fullName = fullName,
+        email = email,
+        isSuperior = isSuperior,
+        isActive = isActive,
+        lastLoginAt = lastLoginAt.fromLongToDateString(),
+        createdAt = createdAt.fromLongToDateString(),
+
+    )
 }
\ No newline at end of file
diff --git a/app/src/main/java/com/example/figerprintconsole/app/data/mapper/NewEnrollUserMapper.kt b/app/src/main/java/com/example/figerprintconsole/app/data/mapper/NewEnrollUserMapper.kt
index 38533dc..7bfa1be 100644
--- a/app/src/main/java/com/example/figerprintconsole/app/data/mapper/NewEnrollUserMapper.kt
+++ b/app/src/main/java/com/example/figerprintconsole/app/data/mapper/NewEnrollUserMapper.kt
@@ -10,6 +10,6 @@ fun NewEnrollUser.toJson(): JSONObject {
         put("email", email)
         put("phone", phone)
         put("department", department)
-        put("customTimezone", timeZone)
+        put("customTimezone", "+05:30") // a fixed value!
     }
 }
\ No newline at end of file
diff --git a/app/src/main/java/com/example/figerprintconsole/app/data/mapper/OrganizationMapper.kt b/app/src/main/java/com/example/figerprintconsole/app/data/mapper/OrganizationMapper.kt
index f8a2cb2..5cdd80e 100644
--- a/app/src/main/java/com/example/figerprintconsole/app/data/mapper/OrganizationMapper.kt
+++ b/app/src/main/java/com/example/figerprintconsole/app/data/mapper/OrganizationMapper.kt
@@ -1,4 +1,16 @@
 package com.example.figerprintconsole.app.data.mapper
 
-class OrganizationMapper {
+import com.example.figerprintconsole.app.data.local.entity.OrganizationEntity
+import com.example.figerprintconsole.app.domain.model.Organization
+
+fun OrganizationEntity.toDomain(): Organization {
+    return Organization(
+        name = name,
+        contactEmail = contactEmail,
+        licenseKey = licenseKey,
+        totalDevices = totalDevices,
+        totalUsers = totalUsers,
+        isActive = isActive,
+        createdAt = createdAt.fromLongToDateString()
+    )
 }
\ No newline at end of file
diff --git a/app/src/main/java/com/example/figerprintconsole/app/data/mapper/UserDtoMapper.kt b/app/src/main/java/com/example/figerprintconsole/app/data/mapper/UserDtoMapper.kt
index e1c4e6a..0436487 100644
--- a/app/src/main/java/com/example/figerprintconsole/app/data/mapper/UserDtoMapper.kt
+++ b/app/src/main/java/com/example/figerprintconsole/app/data/mapper/UserDtoMapper.kt
@@ -7,18 +7,18 @@ import java.time.LocalDateTime
 import java.time.OffsetDateTime
 import java.time.ZoneId
 
-fun UserDto.toDomain(): User {
-    return User(
-        id = id,
-        fingerprintId = fingerprintId,
-        employeeId = employeeId,
-        name = name,
-        email = email ?: "Null",
-        profileImage = null,
-        enrollmentStatus = EnrollmentStatus.ENROLLED,
-        lastAccess = updatedAt.isoStringToLocalDateTime(),
-    )
-}
+//fun UserDto.toDomain(): User {
+//    return User(
+//        id = id,
+//        fingerprintId = fingerprintId,
+//        employeeId = employeeId,
+//        name = name,
+//        email = email ?: "Null",
+//        profileImage = null,
+//        enrollmentStatus = EnrollmentStatus.ENROLLED,
+//        lastAccess = updatedAt.isoStringToLocalDateTime(),
+//    )
+//}
 
 fun String.isoStringToLocalDateTime(): LocalDateTime {
     // Parse the ISO string as OffsetDateTime (Z = UTC)
diff --git a/app/src/main/java/com/example/figerprintconsole/app/data/mapper/UserMapper.kt b/app/src/main/java/com/example/figerprintconsole/app/data/mapper/UserMapper.kt
index d767e08..25c418a 100644
--- a/app/src/main/java/com/example/figerprintconsole/app/data/mapper/UserMapper.kt
+++ b/app/src/main/java/com/example/figerprintconsole/app/data/mapper/UserMapper.kt
@@ -1,4 +1,41 @@
 package com.example.figerprintconsole.app.data.mapper
 
-class UserMapper {
+import com.example.figerprintconsole.app.data.local.entity.UserEntity
+import com.example.figerprintconsole.app.data.local.projection.UserEntityProjection
+import com.example.figerprintconsole.app.domain.model.User
+import com.example.figerprintconsole.app.domain.model.UserDetail
+
+fun UserEntity.toDomain(): User {
+    return User(
+        employeeCode = userCode,
+        fullName = fullName,
+        email = email,
+        phone = phone,
+        department = department,
+        notes = notes,
+        isActive = isActive,
+        enrolledAt = enrolledAt.fromLongToDateString()
+    )
+}
+
+fun UserEntityProjection.toDomain(): UserDetail {
+    return UserDetail(
+        userCode = userEntity.userCode,
+        fullName = userEntity.fullName,
+        email = userEntity.email,
+        phone = userEntity.phone,
+        department = userEntity.department,
+        notes = userEntity.notes,
+        isActive = userEntity.isActive,
+        enrolledAt = userEntity.enrolledAt.fromLongToDateString(),
+        organization = organizationEntity.toDomain(),
+        enrolledBy = manager?.toDomain(),
+        devices = fingerprintEntity.map { it.device.toDomain() },
+        fingerprint = fingerprintEntity.map { it.fingerprintEntity.toDomain() },
+        enrollmentStatus = null
+    )
+}
+
+fun Long.fromLongToDateString(): String {
+    return this.toString()
 }
\ No newline at end of file
diff --git a/app/src/main/java/com/example/figerprintconsole/app/data/repository/AuditLogRepositoryImpl.kt b/app/src/main/java/com/example/figerprintconsole/app/data/repository/AuditLogRepositoryImpl.kt
index 002f096..c98f181 100644
--- a/app/src/main/java/com/example/figerprintconsole/app/data/repository/AuditLogRepositoryImpl.kt
+++ b/app/src/main/java/com/example/figerprintconsole/app/data/repository/AuditLogRepositoryImpl.kt
@@ -1,4 +1,24 @@
 package com.example.figerprintconsole.app.data.repository
 
-class AuditLogRepositoryImpl {
+import com.example.figerprintconsole.app.domain.model.AuditLog
+import com.example.figerprintconsole.app.domain.repository.AuditLogRepository
+import kotlinx.coroutines.flow.Flow
+import kotlinx.coroutines.flow.flow
+import javax.inject.Inject
+
+class AuditLogRepositoryImpl @Inject constructor(
+
+): AuditLogRepository {
+
+    override fun observeAll(): Flow<List<AuditLog>> = flow {
+        emit(emptyList<AuditLog>())
+    }
+
+    override suspend fun delete(id: String): RepositoryResult {
+        return RepositoryResult.Failed(Exception("Not Implemented"))
+    }
+
+    override suspend fun sync(): RepositoryResult {
+        return RepositoryResult.Failed(Exception("Not Implemented"))
+    }
 }
\ No newline at end of file
diff --git a/app/src/main/java/com/example/figerprintconsole/app/data/repository/AuthenticationLogRepositoryImpl.kt b/app/src/main/java/com/example/figerprintconsole/app/data/repository/AuthenticationLogRepositoryImpl.kt
index 0c3c40e..e24b6e5 100644
--- a/app/src/main/java/com/example/figerprintconsole/app/data/repository/AuthenticationLogRepositoryImpl.kt
+++ b/app/src/main/java/com/example/figerprintconsole/app/data/repository/AuthenticationLogRepositoryImpl.kt
@@ -1,4 +1,27 @@
 package com.example.figerprintconsole.app.data.repository
 
-class AuthenticationLogRepositoryImpl {
+import com.example.figerprintconsole.app.domain.model.AuthenticationLog
+import com.example.figerprintconsole.app.domain.repository.AuthenticationLogRepository
+import kotlinx.coroutines.flow.Flow
+import kotlinx.coroutines.flow.catch
+import kotlinx.coroutines.flow.flow
+import javax.inject.Inject
+
+class AuthenticationLogRepositoryImpl @Inject constructor(
+
+): AuthenticationLogRepository {
+
+    override fun observeAll(): Flow<List<AuthenticationLog>>  = flow {
+        emit(emptyList<AuthenticationLog>())
+    }.catch { e ->
+
+    }
+
+    override suspend fun delete(id: String): RepositoryResult {
+        return RepositoryResult.Failed(Exception("Not Implemented"))
+    }
+
+    override suspend fun sync(): RepositoryResult {
+        return RepositoryResult.Failed(Exception("Not Implemented"))
+    }
 }
\ No newline at end of file
diff --git a/app/src/main/java/com/example/figerprintconsole/app/data/repository/DeviceRepositoryImpl.kt b/app/src/main/java/com/example/figerprintconsole/app/data/repository/DeviceRepositoryImpl.kt
index 39052fe..f7920b0 100644
--- a/app/src/main/java/com/example/figerprintconsole/app/data/repository/DeviceRepositoryImpl.kt
+++ b/app/src/main/java/com/example/figerprintconsole/app/data/repository/DeviceRepositoryImpl.kt
@@ -1,4 +1,34 @@
 package com.example.figerprintconsole.app.data.repository
 
-class DeviceRepositoryImpl {
+import com.example.figerprintconsole.app.data.local.dao.DeviceDao
+import com.example.figerprintconsole.app.data.mapper.toDomain
+import com.example.figerprintconsole.app.domain.model.Device
+import com.example.figerprintconsole.app.domain.repository.DeviceRepository
+import kotlinx.coroutines.flow.Flow
+import kotlinx.coroutines.flow.catch
+import kotlinx.coroutines.flow.flow
+import javax.inject.Inject
+
+class DeviceRepositoryImpl @Inject constructor(
+    val deviceDao: DeviceDao
+): DeviceRepository {
+
+    override fun observeAll(): Flow<List<Device>> = flow {
+        deviceDao.getAll().collect { devices ->
+            emit(
+                devices.map { device ->
+                    device.toDomain()
+                }
+            )
+        }
+    }.catch { e ->
+    }
+
+    override suspend fun delete(): RepositoryResult {
+        return RepositoryResult.Failed(Exception("Not Implemented"))
+    }
+
+    override suspend fun sync(): RepositoryResult {
+        return RepositoryResult.Failed(Exception("Not Implemented"))
+    }
 }
\ No newline at end of file
diff --git a/app/src/main/java/com/example/figerprintconsole/app/data/repository/EnrollmentRepositoryImpl.kt b/app/src/main/java/com/example/figerprintconsole/app/data/repository/EnrollmentRepositoryImpl.kt
index a37161e..539c1fd 100644
--- a/app/src/main/java/com/example/figerprintconsole/app/data/repository/EnrollmentRepositoryImpl.kt
+++ b/app/src/main/java/com/example/figerprintconsole/app/data/repository/EnrollmentRepositoryImpl.kt
@@ -2,6 +2,7 @@ package com.example.figerprintconsole.app.data.repository
 
 import com.example.figerprintconsole.app.data.mapper.toJson
 import com.example.figerprintconsole.app.data.websocket.EnrollmentSocketDataSourceImpl
+import com.example.figerprintconsole.app.domain.model.EnrollmentSocketCommand
 import com.example.figerprintconsole.app.domain.model.EnrollmentSocketEvent
 import com.example.figerprintconsole.app.domain.model.NewEnrollUser
 import com.example.figerprintconsole.app.domain.repository.EnrollmentRepository
@@ -10,7 +11,7 @@ import org.json.JSONObject
 import javax.inject.Inject
 
 class EnrollmentRepositoryImpl @Inject constructor(
-     val enrollmentSocketDataSourceImpl: EnrollmentSocketDataSourceImpl // We may have to define the di for this
+     val enrollmentSocketDataSourceImpl: EnrollmentSocketDataSourceImpl
 ): EnrollmentRepository {
     override fun observeEnrollment(): Flow<EnrollmentSocketEvent> {
         return enrollmentSocketDataSourceImpl.connect()
@@ -18,15 +19,16 @@ class EnrollmentRepositoryImpl @Inject constructor(
 
     override suspend fun startEnrollment(newEnrollUser: NewEnrollUser) {
         enrollmentSocketDataSourceImpl.send(
-            type = EnrollmentSocketEvent.StartEnrolling,
+            type = EnrollmentSocketCommand.StartEnrolling,
             message = buildEnrollNewUserJson(newEnrollUser)
         )
     }
 
+    // Cancel enroll is not working! from backend..!
     override suspend fun cancelEnrollment() {
         enrollmentSocketDataSourceImpl.send(
             message = cancelEnroll(),
-            type = EnrollmentSocketEvent.CancelEnrolling
+            type = EnrollmentSocketCommand.CancelEnrolling
         )
         enrollmentSocketDataSourceImpl.disconnect()
     }
diff --git a/app/src/main/java/com/example/figerprintconsole/app/data/repository/FingerprintRepositoryImpl.kt b/app/src/main/java/com/example/figerprintconsole/app/data/repository/FingerprintRepositoryImpl.kt
index 3ddd251..430ed9d 100644
--- a/app/src/main/java/com/example/figerprintconsole/app/data/repository/FingerprintRepositoryImpl.kt
+++ b/app/src/main/java/com/example/figerprintconsole/app/data/repository/FingerprintRepositoryImpl.kt
@@ -1,4 +1,27 @@
 package com.example.figerprintconsole.app.data.repository
 
-class FingerprintRepositoryImpl {
+import com.example.figerprintconsole.app.domain.model.Fingerprint
+import com.example.figerprintconsole.app.domain.repository.FingerprintRepository
+import kotlinx.coroutines.flow.Flow
+import kotlinx.coroutines.flow.catch
+import kotlinx.coroutines.flow.flow
+import javax.inject.Inject
+
+class FingerprintRepositoryImpl @Inject constructor(
+
+): FingerprintRepository {
+
+    override fun observeAll(): Flow<List<Fingerprint>> = flow {
+        emit(emptyList<Fingerprint>())
+    }.catch { e ->
+
+    }
+
+    override suspend fun delete(id: String): RepositoryResult {
+        return RepositoryResult.Failed(Exception("Not Implemented"))
+    }
+
+    override suspend fun sync(): RepositoryResult {
+        return RepositoryResult.Failed(Exception("Not Implemented"))
+    }
 }
\ No newline at end of file
diff --git a/app/src/main/java/com/example/figerprintconsole/app/data/repository/ManagerRepositoryImpl.kt b/app/src/main/java/com/example/figerprintconsole/app/data/repository/ManagerRepositoryImpl.kt
index d94f085..38cce6e 100644
--- a/app/src/main/java/com/example/figerprintconsole/app/data/repository/ManagerRepositoryImpl.kt
+++ b/app/src/main/java/com/example/figerprintconsole/app/data/repository/ManagerRepositoryImpl.kt
@@ -1,4 +1,25 @@
 package com.example.figerprintconsole.app.data.repository
 
-class ManagerRepositoryImpl {
+import com.example.figerprintconsole.app.domain.model.Manager
+import com.example.figerprintconsole.app.domain.repository.ManagerRepository
+import kotlinx.coroutines.flow.Flow
+import kotlinx.coroutines.flow.flow
+import java.util.UUID
+import javax.inject.Inject
+
+class ManagerRepositoryImpl @Inject constructor(
+
+): ManagerRepository {
+
+    override fun observeAll(): Flow<List<Manager>> = flow {
+        emit(emptyList<Manager>())
+    }
+
+    override suspend fun delete(id: UUID): RepositoryResult {
+        return RepositoryResult.Failed(Exception("Not Implemented"))
+    }
+
+    override suspend fun sync(): RepositoryResult {
+        return RepositoryResult.Failed(Exception("Not Implemented"))
+    }
 }
\ No newline at end of file
diff --git a/app/src/main/java/com/example/figerprintconsole/app/data/repository/RepositoryResult.kt b/app/src/main/java/com/example/figerprintconsole/app/data/repository/RepositoryResult.kt
index 276d5e6..e35d17f 100644
--- a/app/src/main/java/com/example/figerprintconsole/app/data/repository/RepositoryResult.kt
+++ b/app/src/main/java/com/example/figerprintconsole/app/data/repository/RepositoryResult.kt
@@ -1,4 +1,6 @@
 package com.example.figerprintconsole.app.data.repository
 
-class RepositoryResult {
+sealed class RepositoryResult {
+    object Success: RepositoryResult()
+    data class Failed(val throwable: Throwable): RepositoryResult()
 }
\ No newline at end of file
diff --git a/app/src/main/java/com/example/figerprintconsole/app/data/repository/UserRepositoryImpl.kt b/app/src/main/java/com/example/figerprintconsole/app/data/repository/UserRepositoryImpl.kt
index 8d3d3ce..1b323ce 100644
--- a/app/src/main/java/com/example/figerprintconsole/app/data/repository/UserRepositoryImpl.kt
+++ b/app/src/main/java/com/example/figerprintconsole/app/data/repository/UserRepositoryImpl.kt
@@ -1,75 +1,46 @@
 package com.example.figerprintconsole.app.data.repository
 
+import com.example.figerprintconsole.app.data.local.dao.UserDao
 import com.example.figerprintconsole.app.data.mapper.toDomain
 import com.example.figerprintconsole.app.data.remote.NetworkException
 import com.example.figerprintconsole.app.data.remote.api.ApiServices
+import com.example.figerprintconsole.app.di.AppDatabase
 import com.example.figerprintconsole.app.domain.model.User
 import com.example.figerprintconsole.app.domain.repository.UserRepository
-import retrofit2.HttpException
+import kotlinx.coroutines.flow.Flow
+import kotlinx.coroutines.flow.catch
+import kotlinx.coroutines.flow.collect
+import kotlinx.coroutines.flow.flow
+import kotlinx.coroutines.flow.map
 import retrofit2.Response
-import java.io.IOException
+import java.util.UUID
 import javax.inject.Inject
 
 class UserRepositoryImpl @Inject constructor(
-    private val apiServices: ApiServices
+    private val apiServices: ApiServices,
+    private val userDao: UserDao,
+    private val appDatabase: AppDatabase
 ): UserRepository {
 
-    override suspend fun getAllUsers(): Result<List<User>> {
-        return try {
-            val response = apiServices.getAllUsers()
-
-            if (!response.isSuccessful) {
-                return Result.failure(mapHttpException(response))
-            }
-
-            val body = response.body() ?: return Result.failure(NetworkException.EmptyBody)
-
-            val users = body.data
-
-            val domainUsers = users.map { it.toDomain() }
-
-            Result.success(domainUsers)
-
-        } catch (_: IOException) {
-            // Network / no internet
-            Result.failure(NetworkException.NoInternet)
-
-        } catch (e: HttpException) {
-            // Retrofit HTTP exception
-            Result.failure(mapHttpException(e.response()))
-
-        } catch (e: Exception) {
-            Result.failure(NetworkException.Unknown(e))
+    override fun observeAll(): Flow<List<User>> = flow {
+        // Read from the database
+        userDao.getAll().collect { users ->
+            emit(
+                users.map { user -> user.toDomain() }
+            )
         }
+    }.catch { e ->
+        // Emit the AppError!
     }
 
-    override suspend fun getUserById(userId: Int): Result<User> {
-        try {
-            val response = apiServices.getUserById(userId = userId)
-
-            if (!response.isSuccessful) {
-                return Result.failure(mapHttpException(response))
-            }
-
-            val body = response.body() ?: return Result.failure(NetworkException.EmptyBody)
-
-            val user = body.data
-
-            val domainUser = user.toDomain()
-
-            return Result.success(domainUser)
-
-        } catch (_: IOException) {
-            return Result.failure(NetworkException.NoInternet)
-        } catch (e: HttpException) {
-            return Result.failure(mapHttpException(e.response()))
-        } catch (e: Exception) {
-            return Result.failure(NetworkException.Unknown(e))
-        }
+    override suspend fun delete(id: UUID): RepositoryResult {
+        // Call the ApiService
+        return RepositoryResult.Failed(Exception("Method not Implemented"))
     }
 
-    override suspend fun deleteUserById(userId: Int): Result<Boolean> {
-        return Result.failure(Exception("Api not calling"))
+    override suspend fun sync(): RepositoryResult {
+        // Call the ApiService
+        return RepositoryResult.Failed(Exception("Method not Implemented"))
     }
 }
 
diff --git a/app/src/main/java/com/example/figerprintconsole/app/data/websocket/EnrollmentSocketDataSourceImpl.kt b/app/src/main/java/com/example/figerprintconsole/app/data/websocket/EnrollmentSocketDataSourceImpl.kt
index b4cae05..e2a0696 100644
--- a/app/src/main/java/com/example/figerprintconsole/app/data/websocket/EnrollmentSocketDataSourceImpl.kt
+++ b/app/src/main/java/com/example/figerprintconsole/app/data/websocket/EnrollmentSocketDataSourceImpl.kt
@@ -1,6 +1,7 @@
 package com.example.figerprintconsole.app.data.websocket
 
 import com.example.figerprintconsole.app.data.mapper.toWebsocketEvent
+import com.example.figerprintconsole.app.domain.model.EnrollmentSocketCommand
 import com.example.figerprintconsole.app.domain.model.EnrollmentSocketDataSource
 import com.example.figerprintconsole.app.domain.model.EnrollmentSocketEvent
 import kotlinx.coroutines.channels.awaitClose
@@ -31,13 +32,22 @@ class EnrollmentSocketDataSourceImpl @Inject constructor(
             override fun onClosed(webSocket: WebSocket, code: Int, reason: String) { trySend(EnrollmentSocketEvent.Disconnected) }
         }
 
-        socket = client.newWebSocket(request, listener)
-        awaitClose { socket?.close(1000, "Closed") }
+        try {
+            val socket = client.newWebSocket(request, listener)
+            awaitClose { socket.close(1000, "Closed") }
+        } catch (e: Exception) {
+            trySend(
+                EnrollmentSocketEvent.VerificationFailed(
+                    e.message ?: "Connection failed"
+                )
+            )
+            close(e)
+        }
     }
 
     override fun disconnect() { client.dispatcher.executorService.shutdown() } // Shut Down at Client Level!
 
-    override fun send(type: EnrollmentSocketEvent, message: String) {
+    override fun send(type: EnrollmentSocketCommand, message: String) {
         val ws = socket
         if (ws == null) {
             // socket not connected yet
diff --git a/app/src/main/java/com/example/figerprintconsole/app/di/AppDatabase.kt b/app/src/main/java/com/example/figerprintconsole/app/di/AppDatabase.kt
index 694e011..d466bd3 100644
--- a/app/src/main/java/com/example/figerprintconsole/app/di/AppDatabase.kt
+++ b/app/src/main/java/com/example/figerprintconsole/app/di/AppDatabase.kt
@@ -1,4 +1,32 @@
 package com.example.figerprintconsole.app.di
 
-class AppDatabase {
-}
\ No newline at end of file
+import androidx.room.Database
+import androidx.room.RoomDatabase
+import androidx.room.TypeConverters
+import com.example.figerprintconsole.app.data.local.dao.*
+import com.example.figerprintconsole.app.data.local.entity.*
+import com.example.figerprintconsole.app.utils.EnumConverters
+
+@Database(
+    entities = [
+        OrganizationEntity::class,
+        ManagerEntity::class,
+        DeviceEntity::class,
+        UserEntity::class,
+        FingerprintEntity::class,
+        AuthenticationLogEntity::class,
+        AuditLogEntity::class
+    ],
+    version = 1,
+    exportSchema = false
+)
+@TypeConverters(EnumConverters::class)
+abstract class AppDatabase : RoomDatabase() {
+    abstract fun organizationDao(): OrganizationDao
+    abstract fun managerDao(): ManagerDao
+    abstract fun deviceDao(): DeviceDao
+    abstract fun userDao(): UserDao
+    abstract fun fingerprintDao(): FingerprintDao
+    abstract fun authenticationLogDao(): AuthenticationLogDao
+    abstract fun auditLogDao(): AuditLogDao
+}
diff --git a/app/src/main/java/com/example/figerprintconsole/app/di/DaoModule.kt b/app/src/main/java/com/example/figerprintconsole/app/di/DaoModule.kt
index c32bbd9..aa8e002 100644
--- a/app/src/main/java/com/example/figerprintconsole/app/di/DaoModule.kt
+++ b/app/src/main/java/com/example/figerprintconsole/app/di/DaoModule.kt
@@ -1,4 +1,40 @@
 package com.example.figerprintconsole.app.di
 
-class DaoModule {
-}
\ No newline at end of file
+import com.example.figerprintconsole.app.data.local.dao.*
+import dagger.Module
+import dagger.Provides
+import dagger.hilt.InstallIn
+import dagger.hilt.components.SingletonComponent
+
+@Module
+@InstallIn(SingletonComponent::class)
+object DaoModule {
+
+    @Provides
+    fun provideOrganizationDao(db: AppDatabase): OrganizationDao =
+        db.organizationDao()
+
+    @Provides
+    fun provideManagerDao(db: AppDatabase): ManagerDao =
+        db.managerDao()
+
+    @Provides
+    fun provideDeviceDao(db: AppDatabase): DeviceDao =
+        db.deviceDao()
+
+    @Provides
+    fun provideUserDao(db: AppDatabase): UserDao =
+        db.userDao()
+
+    @Provides
+    fun provideFingerprintDao(db: AppDatabase): FingerprintDao =
+        db.fingerprintDao()
+
+    @Provides
+    fun provideAuthenticationLogDao(db: AppDatabase): AuthenticationLogDao =
+        db.authenticationLogDao()
+
+    @Provides
+    fun provideAuditLogDao(db: AppDatabase): AuditLogDao =
+        db.auditLogDao()
+}
diff --git a/app/src/main/java/com/example/figerprintconsole/app/di/DatabaseModule.kt b/app/src/main/java/com/example/figerprintconsole/app/di/DatabaseModule.kt
index 2f8f321..82b74a7 100644
--- a/app/src/main/java/com/example/figerprintconsole/app/di/DatabaseModule.kt
+++ b/app/src/main/java/com/example/figerprintconsole/app/di/DatabaseModule.kt
@@ -1,4 +1,25 @@
 package com.example.figerprintconsole.app.di
 
-class DatabaseModule {
-}
\ No newline at end of file
+import android.content.Context
+import androidx.room.Room
+import dagger.Module
+import dagger.Provides
+import dagger.hilt.InstallIn
+import dagger.hilt.android.qualifiers.ApplicationContext
+import dagger.hilt.components.SingletonComponent
+import javax.inject.Singleton
+
+@Module
+@InstallIn(SingletonComponent::class)
+object DatabaseModule {
+    @Provides
+    @Singleton
+    fun provideDatabase(
+        @ApplicationContext context: Context
+    ): AppDatabase =
+        Room.databaseBuilder(
+            context,
+            AppDatabase::class.java,
+            "fingerprint_console.db"
+        ).build()
+}
diff --git a/app/src/main/java/com/example/figerprintconsole/app/di/RepositoryModule.kt b/app/src/main/java/com/example/figerprintconsole/app/di/RepositoryModule.kt
index 8c54ed3..daa6645 100644
--- a/app/src/main/java/com/example/figerprintconsole/app/di/RepositoryModule.kt
+++ b/app/src/main/java/com/example/figerprintconsole/app/di/RepositoryModule.kt
@@ -1,7 +1,17 @@
 package com.example.figerprintconsole.app.di
 
+import com.example.figerprintconsole.app.data.local.dao.AuditLogDao
+import com.example.figerprintconsole.app.data.local.dao.AuthenticationLogDao
+import com.example.figerprintconsole.app.data.local.dao.DeviceDao
+import com.example.figerprintconsole.app.data.local.dao.FingerprintDao
+import com.example.figerprintconsole.app.data.local.dao.ManagerDao
+import com.example.figerprintconsole.app.data.local.dao.OrganizationDao
+import com.example.figerprintconsole.app.data.local.dao.UserDao
+import com.example.figerprintconsole.app.data.repository.DeviceRepositoryImpl
 import com.example.figerprintconsole.app.data.repository.EnrollmentRepositoryImpl
+import com.example.figerprintconsole.app.data.repository.FakeDataRepository
 import com.example.figerprintconsole.app.data.websocket.EnrollmentSocketDataSourceImpl
+import com.example.figerprintconsole.app.domain.repository.DeviceRepository
 import dagger.Module
 import dagger.Provides
 import dagger.hilt.InstallIn
@@ -33,4 +43,33 @@ object RepositoryModule {
     ): EnrollmentRepositoryImpl {
         return EnrollmentRepositoryImpl(enrollmentSocketDataSourceImpl = enrollmentSocketDataSourceImpl)
     }
+
+    @Provides
+    fun provideFakeDataRepository(
+        organizationDao: OrganizationDao,
+        managerDao: ManagerDao,
+        deviceDao: DeviceDao,
+        userDao: UserDao,
+        fingerprintDao: FingerprintDao,
+        authenticationLogDao: AuthenticationLogDao,
+        auditLogDao: AuditLogDao
+    ): FakeDataRepository {
+        return FakeDataRepository(
+            organizationDao,
+            managerDao,
+            deviceDao,
+            userDao,
+            fingerprintDao,
+            authenticationLogDao,
+            auditLogDao
+        )
+    }
+
+    @Provides
+    @Singleton
+    fun provideDeviceRepository(
+        deviceDao: DeviceDao
+    ): DeviceRepository {
+        return DeviceRepositoryImpl(deviceDao = deviceDao)
+    }
 }
\ No newline at end of file
diff --git a/app/src/main/java/com/example/figerprintconsole/app/domain/model/AuditLog.kt b/app/src/main/java/com/example/figerprintconsole/app/domain/model/AuditLog.kt
index fd7fa13..8011356 100644
--- a/app/src/main/java/com/example/figerprintconsole/app/domain/model/AuditLog.kt
+++ b/app/src/main/java/com/example/figerprintconsole/app/domain/model/AuditLog.kt
@@ -1,4 +1,10 @@
 package com.example.figerprintconsole.app.domain.model
 
-class AuditLog {
-}
\ No newline at end of file
+data class AuditLog (
+    val ipAddress: String,
+    val time: String,
+    val actionType: String,
+    val fromEntity: String,
+    val description: String,
+    val organization: Organization,
+)
\ No newline at end of file
diff --git a/app/src/main/java/com/example/figerprintconsole/app/domain/model/AuthenticationLog.kt b/app/src/main/java/com/example/figerprintconsole/app/domain/model/AuthenticationLog.kt
index 768c5da..2345e8d 100644
--- a/app/src/main/java/com/example/figerprintconsole/app/domain/model/AuthenticationLog.kt
+++ b/app/src/main/java/com/example/figerprintconsole/app/domain/model/AuthenticationLog.kt
@@ -1,4 +1,10 @@
 package com.example.figerprintconsole.app.domain.model
 
-class AuthenticationLog {
-}
\ No newline at end of file
+data class AuthenticationLog (
+    val time: String,
+    val user: User?,
+    val device: Device,
+    val result: String,
+    val purpose: String,
+    val confidenceScore: Int
+)
\ No newline at end of file
diff --git a/app/src/main/java/com/example/figerprintconsole/app/domain/model/Device.kt b/app/src/main/java/com/example/figerprintconsole/app/domain/model/Device.kt
index 437008f..2aa7a07 100644
--- a/app/src/main/java/com/example/figerprintconsole/app/domain/model/Device.kt
+++ b/app/src/main/java/com/example/figerprintconsole/app/domain/model/Device.kt
@@ -1,4 +1,21 @@
 package com.example.figerprintconsole.app.domain.model
 
-class Device {
-}
\ No newline at end of file
+data class Device (
+    val deviceCode: String,
+    val name: String?,
+    val location: String?,
+    val deviceStatus: String,
+    val lastSeenAt: String,
+    val batteryLevel: Int?,
+    val enrolledAt: String,
+    val type: DeviceType = DeviceType.TERMINAL,
+    val status: DeviceStatusType = DeviceStatusType.OFFLINE,
+
+    // SECRET INFOs
+    val secretKey: String,
+    val vendor: String,
+    val supportedAlgorithm: String,
+    val templateVersion: String
+)
+
+enum class DeviceStatusEnum { ACTIVE, INACTIVE, MAINTENANCE, OFFLINE }
\ No newline at end of file
diff --git a/app/src/main/java/com/example/figerprintconsole/app/domain/model/EnrollmentSocketCommand.kt b/app/src/main/java/com/example/figerprintconsole/app/domain/model/EnrollmentSocketCommand.kt
index 0c18031..ac5cec4 100644
--- a/app/src/main/java/com/example/figerprintconsole/app/domain/model/EnrollmentSocketCommand.kt
+++ b/app/src/main/java/com/example/figerprintconsole/app/domain/model/EnrollmentSocketCommand.kt
@@ -1,4 +1,13 @@
 package com.example.figerprintconsole.app.domain.model
 
-class EnrollmentSocketCommand {
+sealed class EnrollmentSocketCommand {
+    object Connect : EnrollmentSocketCommand()
+
+    object Disconnect : EnrollmentSocketCommand()
+
+    object StartEnrolling : EnrollmentSocketCommand()
+
+    object CancelEnrolling : EnrollmentSocketCommand()
+
+    object VerifyFingerprint : EnrollmentSocketCommand()
 }
\ No newline at end of file
diff --git a/app/src/main/java/com/example/figerprintconsole/app/domain/model/EnrollmentSocketDataSource.kt b/app/src/main/java/com/example/figerprintconsole/app/domain/model/EnrollmentSocketDataSource.kt
index 475f6ad..f4a3a90 100644
--- a/app/src/main/java/com/example/figerprintconsole/app/domain/model/EnrollmentSocketDataSource.kt
+++ b/app/src/main/java/com/example/figerprintconsole/app/domain/model/EnrollmentSocketDataSource.kt
@@ -5,5 +5,5 @@ import kotlinx.coroutines.flow.Flow
 interface EnrollmentSocketDataSource {
     fun connect(): Flow<EnrollmentSocketEvent>
     fun disconnect()
-    fun send(type: EnrollmentSocketEvent, message: String)
+    fun send(type: EnrollmentSocketCommand, message: String)
 }
\ No newline at end of file
diff --git a/app/src/main/java/com/example/figerprintconsole/app/domain/model/EnrollmentSocketEvent.kt b/app/src/main/java/com/example/figerprintconsole/app/domain/model/EnrollmentSocketEvent.kt
index a8f2cf7..2b1d54a 100644
--- a/app/src/main/java/com/example/figerprintconsole/app/domain/model/EnrollmentSocketEvent.kt
+++ b/app/src/main/java/com/example/figerprintconsole/app/domain/model/EnrollmentSocketEvent.kt
@@ -1,13 +1,16 @@
 package com.example.figerprintconsole.app.domain.model
 
 sealed class EnrollmentSocketEvent {
+    object IDLE : EnrollmentSocketEvent()
     object Connected : EnrollmentSocketEvent()
     object Disconnected : EnrollmentSocketEvent()
 
-    object StartEnrolling : EnrollmentSocketEvent()
-    object ScanStepOneCompleted : EnrollmentSocketEvent()
-    object ScanStepTwoCompleted : EnrollmentSocketEvent()
-    data class VerificationSuccess(
+    data class EnrollPending(val fingerprintId: Int) : EnrollmentSocketEvent()
+
+    data class EnrollSuccess(val user: User) : EnrollmentSocketEvent()
+    // Received: {"type":"ENROLL_SUCCESS","user":{"fingerprintId":8,"employeeId":"1005","name":"Afnan1","email":"test@mail2.com","phone":"9999999999","department":"IT","customTimezone":"+05:30","lastDeviceIn":null,"currentStatus":"OUT","_id":"6954fcdb2964c2c6a214f26a","createdAt":"2025-12-31T10:37:15.621Z","updatedAt":"2025-12-31T10:37:15.621Z","__v":0}}
+
+    data class AttendanceEvent(
         val attendanceId: String,
         val fingerprintId: Int,
         val deviceId: String,
@@ -17,8 +20,9 @@ sealed class EnrollmentSocketEvent {
         val utcTime: String,
         val customTime: String
     ) : EnrollmentSocketEvent()
+    // {"_id":"6954fd162964c2c6a214f27b","fingerprintId":8,"deviceId":"251221000002","action":"IN","status":"GRANTED","user":{"_id":"6954fcdb2964c2c6a214f26a","fingerprintId":8,"employeeId":"1005","name":"Afnan1","email":"test@mail2.com","phone":"9999999999","department":"IT","customTimezone":"+05:30","lastDeviceIn":null,"currentStatus":"OUT","createdAt":"2025-12-31T10:37:15.621Z","updatedAt":"2025-12-31T10:37:15.621Z","__v":0},"sessions":{"251221000002":"IN"},"utcTime":"2025-12-31T10:38:14.441Z","customTime":"2025-12-31T16:08:14.441Z","createdAt":"2025-12-31T10:38:14.442Z"}
 
     data class VerificationFailed(val reason: String) : EnrollmentSocketEvent()
-    object CancelEnrolling: EnrollmentSocketEvent()
+
     data class Error(val message: String) : EnrollmentSocketEvent()
 }
\ No newline at end of file
diff --git a/app/src/main/java/com/example/figerprintconsole/app/domain/model/Fingerprint.kt b/app/src/main/java/com/example/figerprintconsole/app/domain/model/Fingerprint.kt
index b95922c..d50310a 100644
--- a/app/src/main/java/com/example/figerprintconsole/app/domain/model/Fingerprint.kt
+++ b/app/src/main/java/com/example/figerprintconsole/app/domain/model/Fingerprint.kt
@@ -1,4 +1,11 @@
 package com.example.figerprintconsole.app.domain.model
 
-class Fingerprint {
-}
\ No newline at end of file
+data class Fingerprint (
+    // val user: User,
+    // val enrolledBy: Manager,
+    // val device: Device,
+    val fingerIndex: Int,
+    val handType: String,
+    val qualityScore: Int?,
+    val enrolledAt: String,
+)
\ No newline at end of file
diff --git a/app/src/main/java/com/example/figerprintconsole/app/domain/model/Manager.kt b/app/src/main/java/com/example/figerprintconsole/app/domain/model/Manager.kt
index 0c03e1d..778652e 100644
--- a/app/src/main/java/com/example/figerprintconsole/app/domain/model/Manager.kt
+++ b/app/src/main/java/com/example/figerprintconsole/app/domain/model/Manager.kt
@@ -1,4 +1,14 @@
 package com.example.figerprintconsole.app.domain.model
 
-class Manager {
-}
\ No newline at end of file
+data class Manager (
+    val userName: String,
+    val fullName: String,
+    val email: String,
+    val isSuperior: Boolean,
+    val isActive: Boolean,
+    val lastLoginAt: String,
+    val createdAt: String,
+    // val organization: Organization,
+    // val devices: List<Device>,
+    // val users: List<User>
+)
\ No newline at end of file
diff --git a/app/src/main/java/com/example/figerprintconsole/app/domain/model/Organization.kt b/app/src/main/java/com/example/figerprintconsole/app/domain/model/Organization.kt
index 7601498..267b4d8 100644
--- a/app/src/main/java/com/example/figerprintconsole/app/domain/model/Organization.kt
+++ b/app/src/main/java/com/example/figerprintconsole/app/domain/model/Organization.kt
@@ -1,4 +1,11 @@
 package com.example.figerprintconsole.app.domain.model
 
-class Organization {
-}
\ No newline at end of file
+data class Organization (
+    val name: String,
+    val contactEmail: String,
+    val licenseKey: String,
+    val totalDevices: Int,
+    val totalUsers: Int,
+    val isActive: Boolean,
+    val createdAt: String // date in string! use mapper at repo!
+)
\ No newline at end of file
diff --git a/app/src/main/java/com/example/figerprintconsole/app/domain/model/User.kt b/app/src/main/java/com/example/figerprintconsole/app/domain/model/User.kt
index ee90c6f..52990c9 100644
--- a/app/src/main/java/com/example/figerprintconsole/app/domain/model/User.kt
+++ b/app/src/main/java/com/example/figerprintconsole/app/domain/model/User.kt
@@ -1,15 +1,14 @@
 package com.example.figerprintconsole.app.domain.model
 
-import java.time.LocalDateTime
-
 data class User(
-    val id: String,
-    val fingerprintId: Int,
-    val employeeId: String,
-    val name: String,
-    val email: String,
-    val profileImage: String? = null,
-    val enrollmentStatus: EnrollmentStatus,
-    val lastAccess: LocalDateTime? = null,
-    val fingerprintCount: Int = 0
+    val employeeCode: String,
+    val fullName: String,
+    val email: String?,
+    val phone: String?,
+    val department: String?,
+    val notes: String?,
+    val isActive: Boolean,
+    val enrolledAt: String,
+    val enrollmentStatus: EnrollmentStatus = EnrollmentStatus.ENROLLED,
+    val profileImage: String? = null
 )
\ No newline at end of file
diff --git a/app/src/main/java/com/example/figerprintconsole/app/domain/model/UserDetail.kt b/app/src/main/java/com/example/figerprintconsole/app/domain/model/UserDetail.kt
index 8eac9bb..21cbd59 100644
--- a/app/src/main/java/com/example/figerprintconsole/app/domain/model/UserDetail.kt
+++ b/app/src/main/java/com/example/figerprintconsole/app/domain/model/UserDetail.kt
@@ -1,4 +1,17 @@
 package com.example.figerprintconsole.app.domain.model
 
-class UserDetail {
-}
\ No newline at end of file
+data class UserDetail (
+    val userCode: String,
+    val fullName: String,
+    val email: String?,
+    val phone: String,
+    val department: String?,
+    val notes: String?,
+    val isActive: Boolean,
+    val enrolledAt: String,
+    val organization: Organization,
+    val enrolledBy: Manager?,
+    val devices: List<Device>,
+    val fingerprint: List<Fingerprint>,
+    val enrollmentStatus: EnrollmentStatus?,
+)
\ No newline at end of file
diff --git a/app/src/main/java/com/example/figerprintconsole/app/domain/repository/AuditLogRepository.kt b/app/src/main/java/com/example/figerprintconsole/app/domain/repository/AuditLogRepository.kt
index 6525fd8..115e0c1 100644
--- a/app/src/main/java/com/example/figerprintconsole/app/domain/repository/AuditLogRepository.kt
+++ b/app/src/main/java/com/example/figerprintconsole/app/domain/repository/AuditLogRepository.kt
@@ -1,2 +1,11 @@
-package com.example.figerprintconsole.app.domain.repository 
+package com.example.figerprintconsole.app.domain.repository
 
+import com.example.figerprintconsole.app.data.repository.RepositoryResult
+import com.example.figerprintconsole.app.domain.model.AuditLog
+import kotlinx.coroutines.flow.Flow
+
+interface AuditLogRepository {
+    fun observeAll(): Flow<List<AuditLog>>
+    suspend fun delete(id: String): RepositoryResult
+    suspend fun sync(): RepositoryResult
+}
\ No newline at end of file
diff --git a/app/src/main/java/com/example/figerprintconsole/app/domain/repository/AuthenticationLogRepository.kt b/app/src/main/java/com/example/figerprintconsole/app/domain/repository/AuthenticationLogRepository.kt
index 6525fd8..06c541e 100644
--- a/app/src/main/java/com/example/figerprintconsole/app/domain/repository/AuthenticationLogRepository.kt
+++ b/app/src/main/java/com/example/figerprintconsole/app/domain/repository/AuthenticationLogRepository.kt
@@ -1,2 +1,11 @@
-package com.example.figerprintconsole.app.domain.repository 
+package com.example.figerprintconsole.app.domain.repository
 
+import com.example.figerprintconsole.app.data.repository.RepositoryResult
+import com.example.figerprintconsole.app.domain.model.AuthenticationLog
+import kotlinx.coroutines.flow.Flow
+
+interface AuthenticationLogRepository {
+    fun observeAll(): Flow<List<AuthenticationLog>>
+    suspend fun delete(id: String): RepositoryResult
+    suspend fun sync(): RepositoryResult
+}
\ No newline at end of file
diff --git a/app/src/main/java/com/example/figerprintconsole/app/domain/repository/DeviceRepository.kt b/app/src/main/java/com/example/figerprintconsole/app/domain/repository/DeviceRepository.kt
index 6525fd8..ddfd64a 100644
--- a/app/src/main/java/com/example/figerprintconsole/app/domain/repository/DeviceRepository.kt
+++ b/app/src/main/java/com/example/figerprintconsole/app/domain/repository/DeviceRepository.kt
@@ -1,2 +1,11 @@
-package com.example.figerprintconsole.app.domain.repository 
+package com.example.figerprintconsole.app.domain.repository
 
+import com.example.figerprintconsole.app.data.repository.RepositoryResult
+import com.example.figerprintconsole.app.domain.model.Device
+import kotlinx.coroutines.flow.Flow
+
+interface DeviceRepository {
+    fun observeAll(): Flow<List<Device>>
+    suspend fun delete(): RepositoryResult
+    suspend fun sync(): RepositoryResult
+}
\ No newline at end of file
diff --git a/app/src/main/java/com/example/figerprintconsole/app/domain/repository/EnrollmentRepository.kt b/app/src/main/java/com/example/figerprintconsole/app/domain/repository/EnrollmentRepository.kt
index 6525fd8..f304706 100644
--- a/app/src/main/java/com/example/figerprintconsole/app/domain/repository/EnrollmentRepository.kt
+++ b/app/src/main/java/com/example/figerprintconsole/app/domain/repository/EnrollmentRepository.kt
@@ -1,2 +1,13 @@
-package com.example.figerprintconsole.app.domain.repository 
+package com.example.figerprintconsole.app.domain.repository
 
+import com.example.figerprintconsole.app.domain.model.EnrollmentSocketEvent
+import com.example.figerprintconsole.app.domain.model.NewEnrollUser
+import kotlinx.coroutines.flow.Flow
+
+interface EnrollmentRepository {
+    fun observeEnrollment() : Flow<EnrollmentSocketEvent>
+
+    suspend fun startEnrollment(newEnrollUser: NewEnrollUser)
+
+    suspend fun cancelEnrollment()
+}
\ No newline at end of file
diff --git a/app/src/main/java/com/example/figerprintconsole/app/domain/repository/FingerprintRepository.kt b/app/src/main/java/com/example/figerprintconsole/app/domain/repository/FingerprintRepository.kt
index 6525fd8..48e0332 100644
--- a/app/src/main/java/com/example/figerprintconsole/app/domain/repository/FingerprintRepository.kt
+++ b/app/src/main/java/com/example/figerprintconsole/app/domain/repository/FingerprintRepository.kt
@@ -1,2 +1,11 @@
-package com.example.figerprintconsole.app.domain.repository 
+package com.example.figerprintconsole.app.domain.repository
 
+import com.example.figerprintconsole.app.data.repository.RepositoryResult
+import com.example.figerprintconsole.app.domain.model.Fingerprint
+import kotlinx.coroutines.flow.Flow
+
+interface FingerprintRepository {
+    fun observeAll(): Flow<List<Fingerprint>>
+    suspend fun delete(id: String): RepositoryResult
+    suspend fun sync(): RepositoryResult
+}
\ No newline at end of file
diff --git a/app/src/main/java/com/example/figerprintconsole/app/domain/repository/ManagerRepository.kt b/app/src/main/java/com/example/figerprintconsole/app/domain/repository/ManagerRepository.kt
index 6525fd8..ef56dee 100644
--- a/app/src/main/java/com/example/figerprintconsole/app/domain/repository/ManagerRepository.kt
+++ b/app/src/main/java/com/example/figerprintconsole/app/domain/repository/ManagerRepository.kt
@@ -1,2 +1,12 @@
-package com.example.figerprintconsole.app.domain.repository 
+package com.example.figerprintconsole.app.domain.repository
 
+import com.example.figerprintconsole.app.data.repository.RepositoryResult
+import com.example.figerprintconsole.app.domain.model.Manager
+import kotlinx.coroutines.flow.Flow
+import java.util.UUID
+
+interface ManagerRepository {
+    fun observeAll(): Flow<List<Manager>>
+    suspend fun delete(id: UUID): RepositoryResult
+    suspend fun sync(): RepositoryResult
+}
\ No newline at end of file
diff --git a/app/src/main/java/com/example/figerprintconsole/app/domain/repository/OrganizationRepository.kt b/app/src/main/java/com/example/figerprintconsole/app/domain/repository/OrganizationRepository.kt
index 6525fd8..26ebb7e 100644
--- a/app/src/main/java/com/example/figerprintconsole/app/domain/repository/OrganizationRepository.kt
+++ b/app/src/main/java/com/example/figerprintconsole/app/domain/repository/OrganizationRepository.kt
@@ -1,2 +1,12 @@
-package com.example.figerprintconsole.app.domain.repository 
+package com.example.figerprintconsole.app.domain.repository
 
+import com.example.figerprintconsole.app.data.repository.RepositoryResult
+import com.example.figerprintconsole.app.domain.model.Organization
+import kotlinx.coroutines.flow.Flow
+import java.util.UUID
+
+interface OrganizationRepository {
+    fun observeAll(): Flow<List<Organization>> // Single Tenate
+    suspend fun delete(id: UUID): UUID
+    suspend fun sync(): RepositoryResult
+}
\ No newline at end of file
diff --git a/app/src/main/java/com/example/figerprintconsole/app/domain/repository/UserRepository.kt b/app/src/main/java/com/example/figerprintconsole/app/domain/repository/UserRepository.kt
index 6525fd8..806164f 100644
--- a/app/src/main/java/com/example/figerprintconsole/app/domain/repository/UserRepository.kt
+++ b/app/src/main/java/com/example/figerprintconsole/app/domain/repository/UserRepository.kt
@@ -1,2 +1,12 @@
-package com.example.figerprintconsole.app.domain.repository 
+package com.example.figerprintconsole.app.domain.repository
 
+import com.example.figerprintconsole.app.data.repository.RepositoryResult
+import com.example.figerprintconsole.app.domain.model.User
+import kotlinx.coroutines.flow.Flow
+import java.util.UUID
+
+interface UserRepository {
+    fun observeAll(): Flow<List<User>>
+    suspend fun delete(id: UUID): RepositoryResult
+    suspend fun sync(): RepositoryResult
+}
\ No newline at end of file
diff --git a/app/src/main/java/com/example/figerprintconsole/app/domain/usecase/GetAllUsersUseCase.kt b/app/src/main/java/com/example/figerprintconsole/app/domain/usecase/GetAllUsersUseCase.kt
index a2c084f..40ba7f5 100644
--- a/app/src/main/java/com/example/figerprintconsole/app/domain/usecase/GetAllUsersUseCase.kt
+++ b/app/src/main/java/com/example/figerprintconsole/app/domain/usecase/GetAllUsersUseCase.kt
@@ -1,16 +1,16 @@
 package com.example.figerprintconsole.app.domain.usecase
 
+import com.example.figerprintconsole.app.data.repository.RepositoryResult
 import com.example.figerprintconsole.app.data.repository.UserRepositoryImpl
 import com.example.figerprintconsole.app.domain.model.User
+import kotlinx.coroutines.flow.Flow
 import javax.inject.Inject
 
 class GetAllUsersUseCase @Inject constructor(
     val repositoryImpl: UserRepositoryImpl
 ) {
-
-    suspend operator fun invoke(): Result<List<User>> {
+    operator fun invoke(): Flow<List<User>> {
         // Validate all the inputs
-        return repositoryImpl.getAllUsers()
+        return repositoryImpl.observeAll()
     }
-
 }
\ No newline at end of file
diff --git a/app/src/main/java/com/example/figerprintconsole/app/domain/usecase/GetUserByIdUseCase.kt b/app/src/main/java/com/example/figerprintconsole/app/domain/usecase/GetUserByIdUseCase.kt
index 2153c5f..9fd6f2b 100644
--- a/app/src/main/java/com/example/figerprintconsole/app/domain/usecase/GetUserByIdUseCase.kt
+++ b/app/src/main/java/com/example/figerprintconsole/app/domain/usecase/GetUserByIdUseCase.kt
@@ -7,7 +7,7 @@ import javax.inject.Inject
 class GetUserByIdUseCase @Inject constructor(
     val repository: UserRepositoryImpl
 ) {
-    suspend operator fun invoke(user: User): Result<User> {
-        return repository.getUserById(user.fingerprintId)
-    }
+//    suspend operator fun invoke(user: User): Result<User> {
+//        return repository.observeAll()
+//    }
 }
\ No newline at end of file
diff --git a/app/src/main/java/com/example/figerprintconsole/app/ui/MainActivity.kt b/app/src/main/java/com/example/figerprintconsole/app/ui/MainActivity.kt
index 9acde99..7162b37 100644
--- a/app/src/main/java/com/example/figerprintconsole/app/ui/MainActivity.kt
+++ b/app/src/main/java/com/example/figerprintconsole/app/ui/MainActivity.kt
@@ -2,14 +2,17 @@ package com.example.figerprintconsole.app.ui
 
 import android.os.Bundle
 import androidx.activity.compose.setContent
+import androidx.activity.viewModels
 import androidx.appcompat.app.AppCompatActivity
 import androidx.compose.runtime.getValue
 import androidx.navigation.compose.currentBackStackEntryAsState
 import androidx.navigation.compose.rememberNavController
+import com.example.figerprintconsole.app.data.repository.FakeDataRepository
 import dagger.hilt.android.AndroidEntryPoint
 
 @AndroidEntryPoint
 class MainActivity : AppCompatActivity() {
+
     override fun onCreate(savedInstanceState: Bundle?) {
         super.onCreate(savedInstanceState)
 
diff --git a/app/src/main/java/com/example/figerprintconsole/app/ui/navigation/MyAppNavHost.kt b/app/src/main/java/com/example/figerprintconsole/app/ui/navigation/MyAppNavHost.kt
index 7dc5693..2cd87d1 100644
--- a/app/src/main/java/com/example/figerprintconsole/app/ui/navigation/MyAppNavHost.kt
+++ b/app/src/main/java/com/example/figerprintconsole/app/ui/navigation/MyAppNavHost.kt
@@ -3,10 +3,12 @@ package com.example.figerprintconsole.app.ui.navigation
 import androidx.compose.foundation.layout.PaddingValues
 import androidx.compose.foundation.layout.padding
 import androidx.compose.runtime.Composable
+import androidx.compose.runtime.getValue
 import androidx.compose.ui.Modifier
 import androidx.navigation.NavHostController
 import androidx.navigation.compose.NavHost
 import androidx.navigation.compose.composable
+import androidx.navigation.compose.currentBackStackEntryAsState
 import com.example.figerprintconsole.app.ui.screen.home.FingerprintDashboard
 import com.example.figerprintconsole.app.ui.screen.devices.DeviceScreen
 import com.example.figerprintconsole.app.ui.screen.enroll.StartEnrollmentProcess
@@ -18,6 +20,8 @@ fun MyAppNavHost(
     innerPadding: PaddingValues
 ) {
 
+    val navBackStackEntry by navController.currentBackStackEntryAsState()
+
     NavHost(
         navController = navController,
         startDestination = Route.HOME_SCREEN,
@@ -40,7 +44,8 @@ fun MyAppNavHost(
 
         composable(route = Route.ENROLL_SCREEN) {
             StartEnrollmentProcess(
-                onCompleteEnrollment = { navController.navigate(Route.USER_SCREEN) }
+                onCompleteEnrollment = { navController.navigate(Route.USER_SCREEN) },
+                navBackStackEntry = navBackStackEntry
             )
         }
 
diff --git a/app/src/main/java/com/example/figerprintconsole/app/ui/screen/devices/DeviceScreenViewModel.kt b/app/src/main/java/com/example/figerprintconsole/app/ui/screen/devices/DeviceScreenViewModel.kt
index c6191ee..8654bce 100644
--- a/app/src/main/java/com/example/figerprintconsole/app/ui/screen/devices/DeviceScreenViewModel.kt
+++ b/app/src/main/java/com/example/figerprintconsole/app/ui/screen/devices/DeviceScreenViewModel.kt
@@ -1,4 +1,57 @@
 package com.example.figerprintconsole.app.ui.screen.devices
 
-class DeviceScreenViewModel {
+import androidx.lifecycle.ViewModel
+import androidx.lifecycle.viewModelScope
+import com.example.figerprintconsole.app.domain.repository.DeviceRepository
+import com.example.figerprintconsole.app.ui.screen.devices.state.DeviceScreenErrorState
+import com.example.figerprintconsole.app.ui.screen.devices.state.UiStateDeviceScreen
+import dagger.hilt.android.lifecycle.HiltViewModel
+import kotlinx.coroutines.flow.MutableStateFlow
+import kotlinx.coroutines.flow.StateFlow
+import kotlinx.coroutines.flow.catch
+import kotlinx.coroutines.flow.launchIn
+import kotlinx.coroutines.flow.onEach
+import kotlinx.coroutines.flow.onStart
+import kotlinx.coroutines.flow.update
+import javax.inject.Inject
+
+@HiltViewModel
+class DeviceScreenViewModel @Inject constructor(
+    private val deviceRepository: DeviceRepository
+): ViewModel() {
+
+    private val _uiStateDeviceScreen: MutableStateFlow<UiStateDeviceScreen> = MutableStateFlow(UiStateDeviceScreen())
+    val uiStateDeviceScreen: StateFlow<UiStateDeviceScreen> = _uiStateDeviceScreen
+
+    init {
+        observeDeviceList()
+    }
+
+    fun observeDeviceList() {
+        deviceRepository.observeAll()
+            .onStart {
+                _uiStateDeviceScreen.update {
+                    it.copy(
+                        isLoading = true
+                    )
+                }
+            }
+            .onEach { deviceList ->
+                _uiStateDeviceScreen.update {
+                    it.copy(
+                        isLoading = false,
+                        deviceList = deviceList
+                    )
+                }
+            }
+            .catch { e ->
+                _uiStateDeviceScreen.update {
+                    it.copy(
+                        isErrorState = true,
+                        errorType = DeviceScreenErrorState.Unknown(e.message ?: "Unknown Error")
+                    )
+                }
+            }
+            .launchIn(viewModelScope)
+    }
 }
\ No newline at end of file
diff --git a/app/src/main/java/com/example/figerprintconsole/app/ui/screen/devices/DevicesScreen.kt b/app/src/main/java/com/example/figerprintconsole/app/ui/screen/devices/DevicesScreen.kt
index db18d60..0ac4870 100644
--- a/app/src/main/java/com/example/figerprintconsole/app/ui/screen/devices/DevicesScreen.kt
+++ b/app/src/main/java/com/example/figerprintconsole/app/ui/screen/devices/DevicesScreen.kt
@@ -3,6 +3,9 @@ package com.example.figerprintconsole.app.ui.screen.devices
 import androidx.compose.foundation.lazy.LazyColumn
 import androidx.compose.foundation.lazy.items
 import androidx.compose.runtime.Composable
+import androidx.compose.runtime.collectAsState
+import androidx.compose.runtime.getValue
+import androidx.hilt.navigation.compose.hiltViewModel
 import com.example.figerprintconsole.app.domain.model.DeviceStatus
 import com.example.figerprintconsole.app.ui.screen.devices.components.DeviceStatusRow
 import com.example.figerprintconsole.app.ui.screen.devices.components.NoDevicesEmptyState
@@ -11,20 +14,22 @@ import com.example.figerprintconsole.app.ui.screen.devices.components.NoDevicesE
 @Composable
 fun DeviceScreen(
     devices: List<DeviceStatus>,
-    onDeviceClick: (String) -> Unit
+    onDeviceClick: (String) -> Unit,
+    deviceScreenViewModel: DeviceScreenViewModel = hiltViewModel()
 ) {
-    if(devices.isEmpty()) {
+
+    val uiStateDeviceScreen by deviceScreenViewModel.uiStateDeviceScreen.collectAsState()
+
+    if(uiStateDeviceScreen.deviceList.isEmpty()) {
         NoDevicesEmptyState()
     } else {
         LazyColumn {
-            items(devices) { device ->
+            items(uiStateDeviceScreen.deviceList) { device ->
                 DeviceStatusRow(
                     device = device,
-                    onClick = { onDeviceClick(device.id) }
+                    onClick = { onDeviceClick(device.deviceCode) }
                 )
             }
         }
     }
-}
-
-
+}
\ No newline at end of file
diff --git a/app/src/main/java/com/example/figerprintconsole/app/ui/screen/devices/components/DeviceStatusRow.kt b/app/src/main/java/com/example/figerprintconsole/app/ui/screen/devices/components/DeviceStatusRow.kt
index 2758236..3dddb80 100644
--- a/app/src/main/java/com/example/figerprintconsole/app/ui/screen/devices/components/DeviceStatusRow.kt
+++ b/app/src/main/java/com/example/figerprintconsole/app/ui/screen/devices/components/DeviceStatusRow.kt
@@ -14,19 +14,20 @@ import androidx.compose.ui.Alignment
 import androidx.compose.ui.Modifier
 import androidx.compose.ui.text.font.FontWeight
 import androidx.compose.ui.unit.dp
+import com.example.figerprintconsole.app.domain.model.Device
 import com.example.figerprintconsole.app.domain.model.DeviceStatus
 import com.example.figerprintconsole.app.ui.home.utils.HomeUtils
 
 
 @Composable
 fun DeviceStatusRow(
-    device: DeviceStatus,
+    device: Device,
     onClick: () -> Unit
 ) {
     Column(
         modifier = Modifier
             .fillMaxWidth()
-            .padding(vertical = 12.dp)
+            .padding(vertical = 12.dp, horizontal = 12.dp)
     ) {
         Row(
             verticalAlignment = Alignment.CenterVertically
@@ -37,13 +38,13 @@ fun DeviceStatusRow(
 
             Column(modifier = Modifier.weight(1f)) {
                 Text(
-                    text = device.name,
+                    text = device.name ?: "Unknown",
                     style = MaterialTheme.typography.bodyLarge,
                     fontWeight = FontWeight.Medium
                 )
 
                 Text(
-                    text = device.name,
+                    text = device.location ?: "Unknown",
                     style = MaterialTheme.typography.bodySmall,
                     color = HomeUtils.getDeviceColor(device.status)
                 )
diff --git a/app/src/main/java/com/example/figerprintconsole/app/ui/screen/devices/state/UiStateDeviceScreen.kt b/app/src/main/java/com/example/figerprintconsole/app/ui/screen/devices/state/UiStateDeviceScreen.kt
index 7cf6324..158c2e9 100644
--- a/app/src/main/java/com/example/figerprintconsole/app/ui/screen/devices/state/UiStateDeviceScreen.kt
+++ b/app/src/main/java/com/example/figerprintconsole/app/ui/screen/devices/state/UiStateDeviceScreen.kt
@@ -1,4 +1,15 @@
 package com.example.figerprintconsole.app.ui.screen.devices.state
 
-class UiStateDeviceScreen {
+import com.example.figerprintconsole.app.domain.model.Device
+
+data class UiStateDeviceScreen (
+    val isLoading: Boolean = true,
+    val deviceList: List<Device> = emptyList(),
+    val isErrorState: Boolean = false,
+    val errorType: DeviceScreenErrorState = DeviceScreenErrorState.NoError
+)
+
+sealed class DeviceScreenErrorState() {
+    object NoError: DeviceScreenErrorState()
+    class Unknown(val message: String): DeviceScreenErrorState()
 }
\ No newline at end of file
diff --git a/app/src/main/java/com/example/figerprintconsole/app/ui/screen/enroll/EnrollmentViewModel.kt b/app/src/main/java/com/example/figerprintconsole/app/ui/screen/enroll/EnrollmentViewModel.kt
index f83740c..1d0d886 100644
--- a/app/src/main/java/com/example/figerprintconsole/app/ui/screen/enroll/EnrollmentViewModel.kt
+++ b/app/src/main/java/com/example/figerprintconsole/app/ui/screen/enroll/EnrollmentViewModel.kt
@@ -2,16 +2,18 @@ package com.example.figerprintconsole.app.ui.screen.enroll
 
 import androidx.lifecycle.ViewModel
 import androidx.lifecycle.viewModelScope
-import androidx.lifecycle.viewmodel.compose.viewModel
 import com.example.figerprintconsole.app.data.repository.EnrollmentRepositoryImpl
+import com.example.figerprintconsole.app.domain.model.EnrollmentSocketEvent
 import com.example.figerprintconsole.app.domain.model.NewEnrollUser
 import com.example.figerprintconsole.app.ui.screen.enroll.event.EnrollScreenEvent
 import com.example.figerprintconsole.app.ui.screen.enroll.state.EnrollmentScreenState
 import com.example.figerprintconsole.app.ui.screen.enroll.state.EnrollmentState
 import com.example.figerprintconsole.app.utils.AppConstant
 import dagger.hilt.android.lifecycle.HiltViewModel
+import kotlinx.coroutines.Job
 import kotlinx.coroutines.flow.MutableStateFlow
 import kotlinx.coroutines.flow.StateFlow
+import kotlinx.coroutines.flow.catch
 import kotlinx.coroutines.launch
 import javax.inject.Inject
 
@@ -20,50 +22,72 @@ class EnrollmentViewModel @Inject constructor(
     val enrollmentRepositoryImpl: EnrollmentRepositoryImpl
 ): ViewModel() {
 
+    // Ensure ONE SOCKET!
+    private var socketJob: Job? = null
+
+    // Current UI State
     private val _currentUiState = MutableStateFlow<EnrollmentScreenState>(EnrollmentScreenState.IDLE)
     val currentUiState: StateFlow<EnrollmentScreenState> = _currentUiState
 
+    // Current State Data
     private val _currentStateData = MutableStateFlow(EnrollmentState())
     val currentStateData: StateFlow<EnrollmentState> = _currentStateData
 
+    // Current Input Field State
     private val _currentInputFieldState = MutableStateFlow(NewEnrollUser()) // Why I can't hold data when the screen navigation changes?? Figure me out!
     val currentInputFieldState: StateFlow<NewEnrollUser> = _currentInputFieldState
 
+    // The state will help use in tracking events - and handle viewModel!
+    private val _activeWebsocketState = MutableStateFlow<EnrollmentSocketEvent>(EnrollmentSocketEvent.IDLE)
+
+    init { observeWebSocketState() }
+
     fun onEvent(event: EnrollScreenEvent) {
         when(event) {
-            is EnrollScreenEvent.LevelUp -> { levelUpToNextState() }
+            is EnrollScreenEvent.LevelUp -> { levelUpToNextStateEvent() }
+            is EnrollScreenEvent.ConnectToSocket -> { connectToSocket() }
             is EnrollScreenEvent.IDLE -> { }
-            is EnrollScreenEvent.UserInput -> { levelUpToUserInput() }
-            is EnrollScreenEvent.EnrollingStepOne -> { levelUpToEnrollmentStepOne() }
-            is EnrollScreenEvent.EnrollingStepTwo -> { levelUpToEnrollmentStepTwo() }
-            is EnrollScreenEvent.Verifying -> { levelUpToVerifying() }
-            is EnrollScreenEvent.Completed -> { levelUpToComplete() }
+
             is EnrollScreenEvent.CANCEL -> { }
             is EnrollScreenEvent.Error -> { }
 
             is EnrollScreenEvent.TextFieldInput -> { trackInputField(event.newEnrollUser) }
             is EnrollScreenEvent.ResetTextFieldInput -> { resetTextInputField() } // Do use me when necessary!
+
+            else -> { }
         }
     }
 
     fun connectToSocket() {
         AppConstant.debugMessage("WS: Connecting to Socket observer!", "WS")
-        viewModelScope.launch {
-            enrollmentRepositoryImpl.observeEnrollment().collect {
-                event ->
-                AppConstant.debugMessage("WS: $event", "WS")
+        if (socketJob != null) return
+
+        socketJob = viewModelScope.launch {
+            enrollmentRepositoryImpl.observeEnrollment()
+                .catch { e ->
+                    AppConstant.debugMessage("WS ERROR: ${e.message}", "WS")
+                }
+                .collect { event ->
+                    AppConstant.debugMessage("WS: ARRIVED ONE MESSAGE!", "WS")
+                    AppConstant.debugMessage("WS: $event", "WS")
+                    _activeWebsocketState.value = event
             }
         }
     }
 
-    fun levelUpToNextState() {
+    fun levelUpToNextStateEvent() {
         // Check Current UiState
         when (_currentUiState.value) {
-            EnrollmentScreenState.IDLE -> { levelUpToUserInput() }
-            EnrollmentScreenState.UserInput -> { levelUpToEnrollmentStepOne() }
+            EnrollmentScreenState.IDLE -> { }
+            EnrollmentScreenState.UserInput -> {
+                viewModelScope.launch {
+                    AppConstant.debugMessage("WS: Start Enrolling", "WS")
+                    enrollmentRepositoryImpl.startEnrollment(newEnrollUser = _currentInputFieldState.value )
+                }
+            }
             EnrollmentScreenState.EnrollingStepOne -> { levelUpToEnrollmentStepTwo() }
-            EnrollmentScreenState.EnrollingStepTwo -> { levelUpToVerifying() }
-            EnrollmentScreenState.Verifying -> { levelUpToComplete() }
+            EnrollmentScreenState.EnrollingStepTwo -> {  }
+            EnrollmentScreenState.Verifying -> {  }
             EnrollmentScreenState.Completed -> { }
             is EnrollmentScreenState.Error -> { }
         }
@@ -71,8 +95,6 @@ class EnrollmentViewModel @Inject constructor(
 
     fun levelUpToUserInput() {
 
-        connectToSocket()
-
         // Change the UiState
         _currentUiState.value = EnrollmentScreenState.UserInput
 
@@ -88,17 +110,12 @@ class EnrollmentViewModel @Inject constructor(
     }
     fun levelUpToEnrollmentStepOne() {
 
-        // Send Signal to Repository
-        viewModelScope.launch {
-            enrollmentRepositoryImpl.startEnrollment(currentInputFieldState.value)
-        }
-
         // Change the UiState
         _currentUiState.value = EnrollmentScreenState.EnrollingStepOne
 
         // Change the state Data
         _currentStateData.value = _currentStateData.value.copy(
-            currentStep = 2,
+            currentStep = 2, // This should be coming from repo! / server and not vm!
             isEnrolling = true,
             enrollmentProgress = .50f,
             enrollmentMessage = "",
@@ -148,14 +165,31 @@ class EnrollmentViewModel @Inject constructor(
             errorMessage = null,
         )
     }
+    fun showError() {
+        _currentUiState.value = EnrollmentScreenState.Error(message = "Failed To Connect")
+        _currentStateData.value = EnrollmentState(errorMessage = "Failed To Connect")
+    }
 
-    fun showError() {}
+    fun trackInputField(newEnrollUser: NewEnrollUser) { _currentInputFieldState.value = newEnrollUser }
 
-    fun trackInputField(newEnrollUser: NewEnrollUser) {
-        _currentInputFieldState.value = newEnrollUser
-    }
+    fun resetTextInputField() { _currentInputFieldState.value = NewEnrollUser() }
 
-    fun resetTextInputField() {
-        _currentInputFieldState.value = NewEnrollUser()
+    private fun observeWebSocketState() {
+        viewModelScope.launch {
+            _activeWebsocketState.collect { event ->
+                when (event) {
+                    is EnrollmentSocketEvent.IDLE -> { }
+
+                    is EnrollmentSocketEvent.Connected -> { levelUpToUserInput() }
+                    is EnrollmentSocketEvent.EnrollPending -> { levelUpToEnrollmentStepOne() }
+                    is EnrollmentSocketEvent.EnrollSuccess -> { levelUpToVerifying() }
+                    is EnrollmentSocketEvent.AttendanceEvent -> { levelUpToComplete() }
+
+                    is EnrollmentSocketEvent.Disconnected -> { showError() }
+                    is EnrollmentSocketEvent.VerificationFailed -> { showError() }
+                    is EnrollmentSocketEvent.Error -> { showError() }
+                }
+            }
+        }
     }
 }
\ No newline at end of file
diff --git a/app/src/main/java/com/example/figerprintconsole/app/ui/screen/enroll/StartEnrollmentProcess.kt b/app/src/main/java/com/example/figerprintconsole/app/ui/screen/enroll/StartEnrollmentProcess.kt
index ddc7514..9545d10 100644
--- a/app/src/main/java/com/example/figerprintconsole/app/ui/screen/enroll/StartEnrollmentProcess.kt
+++ b/app/src/main/java/com/example/figerprintconsole/app/ui/screen/enroll/StartEnrollmentProcess.kt
@@ -4,14 +4,16 @@ import androidx.compose.runtime.Composable
 import androidx.compose.runtime.collectAsState
 import androidx.compose.runtime.getValue
 import androidx.hilt.navigation.compose.hiltViewModel
+import androidx.navigation.NavBackStackEntry
 import com.example.figerprintconsole.app.ui.screen.enroll.components.FingerprintEnrollmentScreen
 import com.example.figerprintconsole.app.ui.screen.enroll.event.EnrollScreenEvent
 
 @Composable
 fun StartEnrollmentProcess(
     onCompleteEnrollment: () -> Unit,
-    viewModel: EnrollmentViewModel = hiltViewModel()
+    navBackStackEntry: NavBackStackEntry?
 ) {
+    val viewModel: EnrollmentViewModel = if(navBackStackEntry==null) { hiltViewModel() } else { hiltViewModel(navBackStackEntry) }
 
     // These two values changes together -> cause 2 recomposition -> Fix in later version!
     val currentUiState by viewModel.currentUiState.collectAsState()
@@ -22,7 +24,7 @@ fun StartEnrollmentProcess(
         uiState = currentUiState,
         stateData = currentStateData,
         currentTextFieldData = currentTextFieldData,
-        onStartEnrollment = { viewModel.onEvent(EnrollScreenEvent.UserInput) },
+        onStartEnrollment = { viewModel.onEvent(EnrollScreenEvent.ConnectToSocket) },
         onRetry = { viewModel.onEvent(EnrollScreenEvent.IDLE) },
         onComplete = {
             // Level 2 & 3 are only updated within viewmodel, currently the business logic is inside UI!!
diff --git a/app/src/main/java/com/example/figerprintconsole/app/ui/screen/enroll/event/EnrollScreenEvent.kt b/app/src/main/java/com/example/figerprintconsole/app/ui/screen/enroll/event/EnrollScreenEvent.kt
index 4bb86be..112798a 100644
--- a/app/src/main/java/com/example/figerprintconsole/app/ui/screen/enroll/event/EnrollScreenEvent.kt
+++ b/app/src/main/java/com/example/figerprintconsole/app/ui/screen/enroll/event/EnrollScreenEvent.kt
@@ -5,6 +5,7 @@ import com.example.figerprintconsole.app.domain.model.NewEnrollUser
 sealed class EnrollScreenEvent {
     object LevelUp: EnrollScreenEvent()
     object IDLE: EnrollScreenEvent()
+    object ConnectToSocket: EnrollScreenEvent()
     object UserInput: EnrollScreenEvent()
     object EnrollingStepOne: EnrollScreenEvent()
     object EnrollingStepTwo: EnrollScreenEvent()
diff --git a/app/src/main/java/com/example/figerprintconsole/app/ui/screen/home/FingerprintDashboard.kt b/app/src/main/java/com/example/figerprintconsole/app/ui/screen/home/FingerprintDashboard.kt
index aa03028..c94a9d7 100644
--- a/app/src/main/java/com/example/figerprintconsole/app/ui/screen/home/FingerprintDashboard.kt
+++ b/app/src/main/java/com/example/figerprintconsole/app/ui/screen/home/FingerprintDashboard.kt
@@ -11,18 +11,21 @@ import androidx.compose.ui.tooling.preview.Preview
 import androidx.compose.ui.unit.*
 import java.time.LocalDateTime
 import androidx.compose.material3.MaterialTheme
+import androidx.hilt.navigation.compose.hiltViewModel
 import com.example.figerprintconsole.app.ui.home.components.DashboardTopBar
-import com.example.figerprintconsole.app.ui.home.components.DevicesStatusSection
+import com.example.figerprintconsole.app.ui.screen.home.components.DevicesStatusSection
 import com.example.figerprintconsole.app.ui.home.components.NotificationsPanel
 import com.example.figerprintconsole.app.ui.home.components.RecentActivitiesSection
 import com.example.figerprintconsole.app.domain.model.ActivityAction
 import com.example.figerprintconsole.app.domain.model.DashboardStats
+import com.example.figerprintconsole.app.domain.model.Device
 import com.example.figerprintconsole.app.domain.model.DeviceStatus
 import com.example.figerprintconsole.app.domain.model.DeviceStatusType
 import com.example.figerprintconsole.app.domain.model.DeviceType
 import com.example.figerprintconsole.app.domain.model.QuickAction
 import com.example.figerprintconsole.app.domain.model.RecentActivity
 import com.example.figerprintconsole.app.ui.screen.home.components.DashboardHeader
+import com.example.figerprintconsole.app.ui.screen.home.state.UiHomeDashboardState
 
 @OptIn(ExperimentalMaterial3Api::class)
 @Composable
@@ -37,9 +40,15 @@ fun FingerprintDashboard(
     currentUserName: String,
 
     onRefresh: () -> Unit,
+    fingerprintDashboardViewmodel: FingerprintDashboardViewmodel = hiltViewModel(),
     modifier: Modifier = Modifier,
     isLoading: Boolean = false
 ) {
+
+    val uiState by fingerprintDashboardViewmodel.uiStateHomeDashboard.collectAsState()
+
+    val devicesList = uiState.deviceList
+
     var showNotifications by remember { mutableStateOf(false) }
     var showUserMenu by remember { mutableStateOf(false) }
 
@@ -82,7 +91,7 @@ fun FingerprintDashboard(
                     verticalArrangement = Arrangement.spacedBy(24.dp)
                 ) {
                     DevicesStatusSection(
-                        devices = devices,
+                        devices = devicesList ,
                         onDeviceClick = onDeviceClick
                     )
 
@@ -102,14 +111,6 @@ fun FingerprintDashboard(
                 modifier = Modifier.fillMaxWidth(0.8f)
             )
         }
-//
-//        // User Menu
-//        if (showUserMenu) {
-//            UserMenuDialog(
-//                onDismiss = { showUserMenu = false },
-//                onLogout = { /* Handle logout */ },
-//                onSettings = { /* Navigate to settings */ }
-//            )
     }
 }
 
diff --git a/app/src/main/java/com/example/figerprintconsole/app/ui/screen/home/FingerprintDashboardViewmodel.kt b/app/src/main/java/com/example/figerprintconsole/app/ui/screen/home/FingerprintDashboardViewmodel.kt
index 76e8ed6..d55c821 100644
--- a/app/src/main/java/com/example/figerprintconsole/app/ui/screen/home/FingerprintDashboardViewmodel.kt
+++ b/app/src/main/java/com/example/figerprintconsole/app/ui/screen/home/FingerprintDashboardViewmodel.kt
@@ -1,4 +1,61 @@
 package com.example.figerprintconsole.app.ui.screen.home
 
-class FingerprintDashboardViewmodel {
+import androidx.lifecycle.ViewModel
+import androidx.lifecycle.viewModelScope
+import com.example.figerprintconsole.app.domain.model.Device
+import com.example.figerprintconsole.app.domain.repository.DeviceRepository
+import com.example.figerprintconsole.app.ui.screen.home.state.UiHomeDashboardErrorState
+import com.example.figerprintconsole.app.ui.screen.home.state.UiHomeDashboardState
+import dagger.hilt.android.lifecycle.HiltViewModel
+import kotlinx.coroutines.flow.MutableStateFlow
+import kotlinx.coroutines.flow.StateFlow
+import kotlinx.coroutines.flow.catch
+import kotlinx.coroutines.flow.launchIn
+import kotlinx.coroutines.flow.onEach
+import kotlinx.coroutines.flow.onStart
+import kotlinx.coroutines.flow.update
+import javax.inject.Inject
+
+@HiltViewModel
+class FingerprintDashboardViewmodel @Inject constructor(
+    val deviceRepository: DeviceRepository
+): ViewModel() {
+
+    private val _uiStateHomeDashboard: MutableStateFlow<UiHomeDashboardState> = MutableStateFlow(UiHomeDashboardState())
+    val uiStateHomeDashboard: StateFlow<UiHomeDashboardState> = _uiStateHomeDashboard
+
+    init {
+        observeDevices()
+    }
+
+    fun observeDevices() {
+        deviceRepository.observeAll()
+            .onStart {
+                _uiStateHomeDashboard.update {
+                    it.copy(
+                        isLoading = true,
+                        deviceList = emptyList(),
+                        isErrorState = false,
+                        errorType = UiHomeDashboardErrorState.NoError
+                    )
+                }
+            }
+            .onEach {  newDevice ->
+                _uiStateHomeDashboard.update {
+                    it.copy(
+                        isLoading = false,
+                        deviceList = newDevice,
+                    )
+                }
+            }
+            .catch { e ->
+                _uiStateHomeDashboard.update {
+                    it.copy(
+                        isErrorState = true,
+                        errorType = UiHomeDashboardErrorState.Unknown(e.message ?: "Unknown Error")
+                    )
+                }
+            }
+            .launchIn(viewModelScope)
+    }
 }
\ No newline at end of file
diff --git a/app/src/main/java/com/example/figerprintconsole/app/ui/screen/home/components/DeviceStatusCard.kt b/app/src/main/java/com/example/figerprintconsole/app/ui/screen/home/components/DeviceStatusCard.kt
index 5bee56a..04a74ab 100644
--- a/app/src/main/java/com/example/figerprintconsole/app/ui/screen/home/components/DeviceStatusCard.kt
+++ b/app/src/main/java/com/example/figerprintconsole/app/ui/screen/home/components/DeviceStatusCard.kt
@@ -26,12 +26,13 @@ import androidx.compose.ui.graphics.Color
 import androidx.compose.ui.text.font.FontWeight
 import androidx.compose.ui.text.style.TextOverflow
 import androidx.compose.ui.unit.dp
+import com.example.figerprintconsole.app.domain.model.Device
 import com.example.figerprintconsole.app.domain.model.DeviceStatus
 import com.example.figerprintconsole.app.ui.home.utils.HomeUtils
 
 @Composable
 fun DeviceStatusCard(
-    device: DeviceStatus,
+    device: Device,
     onClick: () -> Unit
 ) {
     Card(
@@ -63,7 +64,7 @@ fun DeviceStatusCard(
                 }
 
                 Text(
-                    text = "${device.connectedUsers} users",
+                    text = "${device.batteryLevel ?: "--"} %",
                     style = MaterialTheme.typography.labelSmall,
                     color = MaterialTheme.colorScheme.onSurfaceVariant
                 )
@@ -72,7 +73,7 @@ fun DeviceStatusCard(
             Spacer(modifier = Modifier.height(12.dp))
 
             Text(
-                text = device.name,
+                text = device.name ?: "Unknown",
                 style = MaterialTheme.typography.titleMedium,
                 fontWeight = FontWeight.SemiBold,
                 maxLines = 1,
@@ -116,7 +117,7 @@ fun DeviceStatusCard(
             }
 
             Text(
-                text = "Last active: ${HomeUtils.formatTime(device.lastActive)}",
+                text = "Last active: ${device.lastSeenAt}",
                 style = MaterialTheme.typography.labelSmall,
                 color = MaterialTheme.colorScheme.onSurfaceVariant.copy(alpha = 0.7f)
             )
diff --git a/app/src/main/java/com/example/figerprintconsole/app/ui/screen/home/components/DeviceStatusSection.kt b/app/src/main/java/com/example/figerprintconsole/app/ui/screen/home/components/DeviceStatusSection.kt
index 7e51cc7..844795a 100644
--- a/app/src/main/java/com/example/figerprintconsole/app/ui/screen/home/components/DeviceStatusSection.kt
+++ b/app/src/main/java/com/example/figerprintconsole/app/ui/screen/home/components/DeviceStatusSection.kt
@@ -1,4 +1,4 @@
-package com.example.figerprintconsole.app.ui.home.components
+package com.example.figerprintconsole.app.ui.screen.home.components
 
 import androidx.compose.foundation.layout.Arrangement
 import androidx.compose.foundation.layout.Box
@@ -23,11 +23,13 @@ import androidx.compose.ui.Modifier
 import androidx.compose.ui.graphics.Color
 import androidx.compose.ui.text.font.FontWeight
 import androidx.compose.ui.unit.dp
-import com.example.figerprintconsole.app.domain.model.DeviceStatus
+import com.example.figerprintconsole.app.domain.model.Device
+import com.example.figerprintconsole.app.ui.home.components.DeviceStatusCard
+import com.example.figerprintconsole.app.ui.home.components.StatusIndicator
 
 @Composable
 fun DevicesStatusSection(
-    devices: List<DeviceStatus>,
+    devices: List<Device>,
     onDeviceClick: (String) -> Unit
 ) {
     Card(
@@ -100,7 +102,7 @@ fun DevicesStatusSection(
                     items(devices) { device ->
                         DeviceStatusCard(
                             device = device,
-                            onClick = { onDeviceClick(device.id) }
+                            onClick = { onDeviceClick(device.deviceCode) }
                         )
                     }
                 }
diff --git a/app/src/main/java/com/example/figerprintconsole/app/ui/screen/home/state/UiHomeDashboardState.kt b/app/src/main/java/com/example/figerprintconsole/app/ui/screen/home/state/UiHomeDashboardState.kt
index 916231a..b53a438 100644
--- a/app/src/main/java/com/example/figerprintconsole/app/ui/screen/home/state/UiHomeDashboardState.kt
+++ b/app/src/main/java/com/example/figerprintconsole/app/ui/screen/home/state/UiHomeDashboardState.kt
@@ -1,4 +1,15 @@
 package com.example.figerprintconsole.app.ui.screen.home.state
 
-class UiHomeDashboardState {
+import com.example.figerprintconsole.app.domain.model.Device
+
+data class UiHomeDashboardState(
+    val isLoading: Boolean = true,
+    val deviceList: List<Device> = emptyList(),
+    val isErrorState: Boolean = false,
+    val errorType: UiHomeDashboardErrorState = UiHomeDashboardErrorState.NoError
+)
+
+sealed class UiHomeDashboardErrorState() {
+    object NoError: UiHomeDashboardErrorState()
+    class Unknown(val message: String): UiHomeDashboardErrorState()
 }
\ No newline at end of file
diff --git a/app/src/main/java/com/example/figerprintconsole/app/ui/screen/home/tests/TestDeviceStatusCard.kt b/app/src/main/java/com/example/figerprintconsole/app/ui/screen/home/tests/TestDeviceStatusCard.kt
index 63092fd..c0ee876 100644
--- a/app/src/main/java/com/example/figerprintconsole/app/ui/screen/home/tests/TestDeviceStatusCard.kt
+++ b/app/src/main/java/com/example/figerprintconsole/app/ui/screen/home/tests/TestDeviceStatusCard.kt
@@ -1,25 +1,30 @@
-package com.example.figerprintconsole.app.ui.home.tests
+package com.example.figerprintconsole.app.ui.screen.home.tests
 
 import androidx.compose.runtime.Composable
 import androidx.compose.ui.tooling.preview.Preview
-import com.example.figerprintconsole.app.domain.model.DeviceStatus
+import com.example.figerprintconsole.app.domain.model.Device
 import com.example.figerprintconsole.app.ui.home.components.DeviceStatusCard
 import com.example.figerprintconsole.app.domain.model.DeviceStatusType
 import com.example.figerprintconsole.app.domain.model.DeviceType
-import java.time.LocalDateTime
 
 @Preview(showBackground = true)
 @Composable
 fun TestDeviceStatusCard() {
 
-    val deviceStatus = DeviceStatus(
+    val deviceStatus = Device(
         "000",
         "Arvind Kumar",
+        null,
+        "ONLINE",
+        "Yesterday",
+        90,
+        "20 JAN",
         DeviceType.TERMINAL,
         DeviceStatusType.OFFLINE,
-        LocalDateTime.now(),
-        300,
-        "Delhi, India"
+        "abc",
+        "123",
+        "1234",
+        "1289"
     )
 
     DeviceStatusCard(
diff --git a/app/src/main/java/com/example/figerprintconsole/app/ui/screen/home/tests/TestDevicesStatusSection.kt b/app/src/main/java/com/example/figerprintconsole/app/ui/screen/home/tests/TestDevicesStatusSection.kt
index a66e586..7fb0e9a 100644
--- a/app/src/main/java/com/example/figerprintconsole/app/ui/screen/home/tests/TestDevicesStatusSection.kt
+++ b/app/src/main/java/com/example/figerprintconsole/app/ui/screen/home/tests/TestDevicesStatusSection.kt
@@ -2,7 +2,7 @@ package com.example.figerprintconsole.app.ui.home.tests
 
 import androidx.compose.runtime.Composable
 import androidx.compose.ui.tooling.preview.Preview
-import com.example.figerprintconsole.app.ui.home.components.DevicesStatusSection
+import com.example.figerprintconsole.app.ui.screen.home.components.DevicesStatusSection
 
 @Preview(showBackground = true)
 @Composable
diff --git a/app/src/main/java/com/example/figerprintconsole/app/ui/screen/users/UserScreenViewModel.kt b/app/src/main/java/com/example/figerprintconsole/app/ui/screen/users/UserScreenViewModel.kt
index d9b4dec..a8bc6cb 100644
--- a/app/src/main/java/com/example/figerprintconsole/app/ui/screen/users/UserScreenViewModel.kt
+++ b/app/src/main/java/com/example/figerprintconsole/app/ui/screen/users/UserScreenViewModel.kt
@@ -2,6 +2,7 @@ package com.example.figerprintconsole.app.ui.screen.users
 
 import androidx.lifecycle.ViewModel
 import androidx.lifecycle.viewModelScope
+import com.example.figerprintconsole.app.data.repository.FakeDataRepository
 import com.example.figerprintconsole.app.domain.model.User
 import com.example.figerprintconsole.app.domain.usecase.GetAllUsersUseCase
 import com.example.figerprintconsole.app.domain.usecase.GetUserByIdUseCase
@@ -17,7 +18,8 @@ import javax.inject.Inject
 @HiltViewModel
 class UserScreenViewModel @Inject constructor(
     val getAllUserUsersUseCase: GetAllUsersUseCase,
-    val getUserByIdUseCase: GetUserByIdUseCase
+    val getUserByIdUseCase: GetUserByIdUseCase,
+    val fakeDataRepository: FakeDataRepository
 ): ViewModel() {
 
     private var isInitialLoaded: Boolean = false
@@ -28,6 +30,12 @@ class UserScreenViewModel @Inject constructor(
     private val _uiStateUserById = MutableStateFlow<UserDetailUiState>(UserDetailUiState.Loading)
     val uiStateUserById: StateFlow<UserDetailUiState> = _uiStateUserById
 
+    init {
+        viewModelScope.launch {
+            fakeDataRepository.seedMassiveData()
+        }
+    }
+
     fun onEvent(event: UsersScreenEvent) {
         when(event) {
             is UsersScreenEvent.GetAllUsers -> { getAllUsers() }
@@ -44,11 +52,11 @@ class UserScreenViewModel @Inject constructor(
         viewModelScope.launch {
             val response = getAllUserUsersUseCase()
 
-            response.onSuccess { users ->
-                _uiStateAllUsers.value = UsersUiState.Success(users)
-            }.onFailure { throwable ->
-                _uiStateAllUsers.value = UsersUiState.Failure(throwable.message ?: "Unknown Error")
+            response.collect { it ->
+                _uiStateAllUsers.value = UsersUiState.Success(it)
             }
+
+
         }
     }
 
@@ -57,15 +65,15 @@ class UserScreenViewModel @Inject constructor(
         // Set State as Loading
         _uiStateUserById.value = UserDetailUiState.Loading
 
-        viewModelScope.launch {
-            val response = getUserByIdUseCase(user)
-
-            response.onSuccess { user ->
-                _uiStateUserById.value = UserDetailUiState.Success(user)
-            }.onFailure { it ->
-                _uiStateUserById.value = UserDetailUiState.Failure(it.message ?: "Unknown Error")
-            }
-        }
+//        viewModelScope.launch {
+//            val response = getUserByIdUseCase(user)
+//
+//            response.onSuccess { user ->
+//                _uiStateUserById.value = UserDetailUiState.Success(user)
+//            }.onFailure { it ->
+//                _uiStateUserById.value = UserDetailUiState.Failure(it.message ?: "Unknown Error")
+//            }
+//        }
 
     }
 }
\ No newline at end of file
diff --git a/app/src/main/java/com/example/figerprintconsole/app/ui/screen/users/UsersScreen.kt b/app/src/main/java/com/example/figerprintconsole/app/ui/screen/users/UsersScreen.kt
index d4a949b..61bd2a2 100644
--- a/app/src/main/java/com/example/figerprintconsole/app/ui/screen/users/UsersScreen.kt
+++ b/app/src/main/java/com/example/figerprintconsole/app/ui/screen/users/UsersScreen.kt
@@ -102,35 +102,22 @@ fun UsersListScreen(
         // User details dialog
         selectedUser?.let { user ->
 
-            // Get Detail of User && call UserDetailsDialog
-            LaunchedEffect(Unit) {
-                // Prevent load if already loaded..
-                try {
-                    if((userDetailState as UserDetailUiState.Success).user.fingerprintId != user.fingerprintId) {
-                        userScreenViewModel.onEvent(UsersScreenEvent.GetUserById(user))
-                    }
-                } catch ( _: Exception ) {
-                    userScreenViewModel.onEvent(UsersScreenEvent.GetUserById(user))
-                }
-
-            }
-
-            // Wait till we get the result..
-            if (userDetailState is UserDetailUiState.Success && (userDetailState as UserDetailUiState.Success).user.fingerprintId == user.fingerprintId) {
-                val userInfo = (userDetailState as UserDetailUiState.Success).user
-
-                UserDetailsDialog(
-                    user = userInfo,
-                    onDismiss = { selectedUser = null },
-                    onEnroll = {
-                        onEnrollUser(userInfo)
-                        selectedUser = null
-                    },
-                    onDelete = {
-                        selectedUser = null
-                    }
-                )
-            }
+//            // Wait till we get the result..
+//            if (userDetailState is UserDetailUiState.Success && (userDetailState as UserDetailUiState.Success).user.fingerprintId == user.fingerprintId) {
+//                val userInfo = (userDetailState as UserDetailUiState.Success).user
+//
+//                UserDetailsDialog(
+//                    user = userInfo,
+//                    onDismiss = { selectedUser = null },
+//                    onEnroll = {
+//                        onEnrollUser(userInfo)
+//                        selectedUser = null
+//                    },
+//                    onDelete = {
+//                        selectedUser = null
+//                    }
+//                )
+//            }
         }
     }
 }
\ No newline at end of file
diff --git a/app/src/main/java/com/example/figerprintconsole/app/ui/screen/users/components/UserAvatar.kt b/app/src/main/java/com/example/figerprintconsole/app/ui/screen/users/components/UserAvatar.kt
index 08ebedc..0c30e7f 100644
--- a/app/src/main/java/com/example/figerprintconsole/app/ui/screen/users/components/UserAvatar.kt
+++ b/app/src/main/java/com/example/figerprintconsole/app/ui/screen/users/components/UserAvatar.kt
@@ -34,7 +34,7 @@ fun UserAvatar(
         if (user.profileImage != null) {
             AsyncImage(
                 model = user.profileImage,
-                contentDescription = "${user.name}'s avatar",
+                contentDescription = "${user.fullName}'s avatar",
                 modifier = Modifier
                     .size(size)
                     .clip(CircleShape),
@@ -47,11 +47,11 @@ fun UserAvatar(
                     .size(size)
                     .clip(CircleShape)
                     .background(
-                        color = UserUtils.getAvatarColor(user.name)
+                        color = UserUtils.getAvatarColor(user.fullName)
                     )
             ) {
                 Text(
-                    text = user.name.take(2).uppercase(),
+                    text = user.fullName.take(2).uppercase(),
                     color = Color.White,
                     fontWeight = FontWeight.Bold,
                     fontSize = (size.value * 0.3).sp,
diff --git a/app/src/main/java/com/example/figerprintconsole/app/ui/screen/users/components/UserDetailsDialog.kt b/app/src/main/java/com/example/figerprintconsole/app/ui/screen/users/components/UserDetailsDialog.kt
index f63e28c..b969730 100644
--- a/app/src/main/java/com/example/figerprintconsole/app/ui/screen/users/components/UserDetailsDialog.kt
+++ b/app/src/main/java/com/example/figerprintconsole/app/ui/screen/users/components/UserDetailsDialog.kt
@@ -39,7 +39,7 @@ fun UserDetailsDialog(
         },
         title = {
             Text(
-                text = user.name,
+                text = user.fullName,
                 style = MaterialTheme.typography.headlineSmall,
                 fontWeight = FontWeight.Bold
             )
@@ -47,7 +47,7 @@ fun UserDetailsDialog(
         text = {
             Column {
                 Text(
-                    text = user.email,
+                    text = user.email ?: "",
                     style = MaterialTheme.typography.bodyMedium,
                     color = MaterialTheme.colorScheme.onSurfaceVariant
                 )
@@ -63,20 +63,20 @@ fun UserDetailsDialog(
                 UserDetailsRow(
                     icon = Icons.Default.Numbers,
                     label = "Fingerprints",
-                    value = user.fingerprintCount.toString()
+                    value = user.department.toString()
                 )
 
                 UserDetailsRow(
                     icon = Icons.Default.Person,
                     label = "Employee Id",
-                    value = user.employeeId.toString()
+                    value = user.employeeCode.toString()
                 )
 
-                user.lastAccess?.let {
+                user.enrolledAt.let {
                     UserDetailsRow(
                         icon = Icons.Default.AccessTime,
                         label = "Last Access",
-                        value = UserUtils.formatDate(it)
+                        value = it
                     )
                 }
             }
diff --git a/app/src/main/java/com/example/figerprintconsole/app/ui/screen/users/components/UserListItem.kt b/app/src/main/java/com/example/figerprintconsole/app/ui/screen/users/components/UserListItem.kt
index 0f6e7fd..6674440 100644
--- a/app/src/main/java/com/example/figerprintconsole/app/ui/screen/users/components/UserListItem.kt
+++ b/app/src/main/java/com/example/figerprintconsole/app/ui/screen/users/components/UserListItem.kt
@@ -61,7 +61,7 @@ fun UserListItem(
                     modifier = Modifier.fillMaxWidth()
                 ) {
                     Text(
-                        text = user.name.capitalize(),
+                        text = user.fullName.capitalize(),
                         style = MaterialTheme.typography.titleMedium,
                         fontWeight = FontWeight.SemiBold,
                         maxLines = 1,
@@ -72,9 +72,9 @@ fun UserListItem(
                 }
 
                 Text(
-                    text = user.email.ifEmpty { "Email not available" },
+                    text = user.email ?:  "Email not available" ,
                     style = MaterialTheme.typography.bodyMedium,
-                    color = if (user.email.isBlank()) Color.Gray else Color.Black,
+                    color = if (user.email == null) Color.Gray else Color.Black,
                     maxLines = 1,
                     overflow = TextOverflow.Ellipsis
                 )
@@ -84,9 +84,9 @@ fun UserListItem(
                     horizontalArrangement = Arrangement.spacedBy(12.dp)
                 ) {
                     // Last access
-                    user.lastAccess?.let {
+                    user.enrolledAt.let {
                         Text(
-                            text = "Last access: ${UserUtils.formatDate(it)}",
+                            text = "Last access: $it",
                             style = MaterialTheme.typography.labelSmall,
                             color = MaterialTheme.colorScheme.onSurfaceVariant.copy(alpha = 0.7f)
                         )
@@ -95,9 +95,9 @@ fun UserListItem(
                     Spacer(modifier = Modifier.weight(1f))
 
                     // Fingerprint count
-                    if (user.fingerprintCount > 0) {
+                    if (user.phone != null) {
                         Text(
-                            text = "${user.fingerprintCount} prints",
+                            text = "${user.phone} prints",
                             style = MaterialTheme.typography.labelSmall,
                             color = MaterialTheme.colorScheme.onSurfaceVariant.copy(alpha = 0.7f)
                         )
diff --git a/app/src/main/java/com/example/figerprintconsole/app/ui/screen/users/components/UsersList.kt b/app/src/main/java/com/example/figerprintconsole/app/ui/screen/users/components/UsersList.kt
index a4f8cfc..d7ba9e3 100644
--- a/app/src/main/java/com/example/figerprintconsole/app/ui/screen/users/components/UsersList.kt
+++ b/app/src/main/java/com/example/figerprintconsole/app/ui/screen/users/components/UsersList.kt
@@ -23,7 +23,7 @@ fun UsersList(
         verticalArrangement = Arrangement.spacedBy(8.dp),
         contentPadding = PaddingValues(6.dp)
     ) {
-        items(users, key = { it.id }) { user ->
+        items(users, key = { it.employeeCode }) { user ->
             UserListItem(
                 user = user,
                 onClick = { onUserClick(user) },
diff --git a/app/src/main/java/com/example/figerprintconsole/app/utils/EnumConverters.kt b/app/src/main/java/com/example/figerprintconsole/app/utils/EnumConverters.kt
index 3353052..aea213b 100644
--- a/app/src/main/java/com/example/figerprintconsole/app/utils/EnumConverters.kt
+++ b/app/src/main/java/com/example/figerprintconsole/app/utils/EnumConverters.kt
@@ -1,4 +1,66 @@
 package com.example.figerprintconsole.app.utils
 
+import androidx.room.TypeConverter
+import com.example.figerprintconsole.app.data.local.entity.ActionType
+import com.example.figerprintconsole.app.data.local.entity.AuthResult
+import com.example.figerprintconsole.app.data.local.entity.AuthenticationPurpose
+import com.example.figerprintconsole.app.data.local.entity.DeviceStatusEntityEnum
+import com.example.figerprintconsole.app.data.local.entity.FromEntity
+import com.example.figerprintconsole.app.data.local.entity.HandType
+
 class EnumConverters {
+
+    // ---- DeviceStatusEntityEnum ----
+    @TypeConverter
+    fun fromDeviceStatus(value: DeviceStatusEntityEnum): String =
+        value.name
+
+    @TypeConverter
+    fun toDeviceStatus(value: String): DeviceStatusEntityEnum =
+        DeviceStatusEntityEnum.valueOf(value)
+
+    // ---- HandType ----
+    @TypeConverter
+    fun fromHandType(value: HandType): String =
+        value.name
+
+    @TypeConverter
+    fun toHandType(value: String): HandType =
+        HandType.valueOf(value)
+
+    // ---- AuthResult ----
+    @TypeConverter
+    fun fromAuthResult(value: AuthResult): String =
+        value.name
+
+    @TypeConverter
+    fun toAuthResult(value: String): AuthResult =
+        AuthResult.valueOf(value)
+
+    // ---- AuthenticationPurpose ----
+    @TypeConverter
+    fun fromAuthenticationPurpose(value: AuthenticationPurpose): String =
+        value.name
+
+    @TypeConverter
+    fun toAuthenticationPurpose(value: String): AuthenticationPurpose =
+        AuthenticationPurpose.valueOf(value)
+
+    // ---- ActionType ----
+    @TypeConverter
+    fun fromActionType(value: ActionType): String =
+        value.name
+
+    @TypeConverter
+    fun toActionType(value: String): ActionType =
+        ActionType.valueOf(value)
+
+    // ---- FromEntity ----
+    @TypeConverter
+    fun fromFromEntity(value: FromEntity): String =
+        value.name
+
+    @TypeConverter
+    fun toFromEntity(value: String): FromEntity =
+        FromEntity.valueOf(value)
 }
\ No newline at end of file
diff --git a/gradle/libs.versions.toml b/gradle/libs.versions.toml
index 948dd4b..b96a0ee 100644
--- a/gradle/libs.versions.toml
+++ b/gradle/libs.versions.toml
@@ -24,6 +24,7 @@ kotlin-library = "2.0.21"
 hilt = "2.51"
 hilt-navigation = "1.2.0"
 junitKtx = "1.3.0"
+room = "2.6.1"
 
 [libraries]
 androidx-core-ktx = { group = "androidx.core", name = "core-ktx", version.ref = "coreKtx" }
@@ -50,6 +51,9 @@ retrofit-gson = { group = "com.squareup.retrofit2", name = "converter-gson", ver
 okhttp-core = { group = "com.squareup.okhttp3", name = "okhttp", version.ref = "okhttp" }
 okhttp-logging = { group = "com.squareup.okhttp3", name = "logging-interceptor", version.ref = "okhttp" }
 androidx-junit-ktx = { group = "androidx.test.ext", name = "junit-ktx", version.ref = "junitKtx" }
+androidx-room-runtime = { group = "androidx.room", name = "room-runtime", version.ref = "room" }
+androidx-room-compiler = { group = "androidx.room", name = "room-compiler", version.ref = "room"}
+androidx-room-ktx = { group = "androidx.room", name = "room-ktx", version.ref = "room" }
 
 [plugins]
 # android.application helps in buiding the application + understand the "android{}" block
diff --git a/project_change.txt b/project_change.txt
index a4abb8e..d0fb87b 100644
--- a/project_change.txt
+++ b/project_change.txt
@@ -1,2924 +0,0 @@
-diff --git a/.idea/deploymentTargetSelector.xml b/.idea/deploymentTargetSelector.xml
-index 06675a6..02b60c9 100644
---- a/.idea/deploymentTargetSelector.xml
-+++ b/.idea/deploymentTargetSelector.xml
-@@ -5,16 +5,13 @@
-       <SelectionState runConfigName="app">
-         <option name="selectionMode" value="DROPDOWN" />
-       </SelectionState>
--      <SelectionState runConfigName="TestFingerprintEnrollmentScreen">
--        <option name="selectionMode" value="DROPDOWN" />
--      </SelectionState>
--      <SelectionState runConfigName="buttonIncrement">
-+      <SelectionState runConfigName="TestDashboardTopBar">
-         <option name="selectionMode" value="DROPDOWN" />
-       </SelectionState>
--      <SelectionState runConfigName="TestDashboardHeader">
-+      <SelectionState runConfigName="repository_connects_and_receives_events()">
-         <option name="selectionMode" value="DROPDOWN" />
-       </SelectionState>
--      <SelectionState runConfigName="TestDashboardTopBar">
-+      <SelectionState runConfigName="TestEnrollmentActionOne">
-         <option name="selectionMode" value="DROPDOWN" />
-       </SelectionState>
-     </selectionStates>
-diff --git a/.kotlin/sessions/kotlin-compiler-11500636948993902003.salive b/.kotlin/sessions/kotlin-compiler-11500636948993902003.salive
-deleted file mode 100644
-index e69de29..0000000
-diff --git a/app/build.gradle.kts b/app/build.gradle.kts
-index 967ab1b..221a7d9 100644
---- a/app/build.gradle.kts
-+++ b/app/build.gradle.kts
-@@ -53,6 +53,7 @@ dependencies {
-     implementation(libs.androidx.activity)
-     implementation(libs.androidx.constraintlayout)
-     implementation(libs.androidx.runtime)
-+    implementation(libs.androidx.junit.ktx)
-     testImplementation(libs.junit)
-     androidTestImplementation(libs.androidx.junit)
-     androidTestImplementation(libs.androidx.espresso.core)
-diff --git a/app/src/main/java/com/example/figerprintconsole/app/data/mapper/EnrollmentSocketMapper.kt b/app/src/main/java/com/example/figerprintconsole/app/data/mapper/EnrollmentSocketMapper.kt
-index 719736b..597b4e9 100644
---- a/app/src/main/java/com/example/figerprintconsole/app/data/mapper/EnrollmentSocketMapper.kt
-+++ b/app/src/main/java/com/example/figerprintconsole/app/data/mapper/EnrollmentSocketMapper.kt
-@@ -1,4 +1,52 @@
- package com.example.figerprintconsole.app.data.mapper
- 
--class EnrollmentSocketMapper {
-+import com.example.figerprintconsole.app.domain.model.EnrollmentSocketEvent
-+import com.example.figerprintconsole.app.domain.model.EnrollmentStatus
-+import com.example.figerprintconsole.app.domain.model.User
-+import org.json.JSONObject
-+
-+fun String.toWebsocketEvent(): EnrollmentSocketEvent {
-+    val root = JSONObject(this)
-+    val type = root.getString("type")
-+
-+    return when (type) {
-+
-+        "ATTENDANCE_EVENT" -> mapAttendanceEvent(root)
-+
-+        "" -> EnrollmentSocketEvent.StartEnrolling
-+        // "" -> EnrollmentSocketEvent.ScanStepOneCompleted
-+
-+        "ERROR" -> EnrollmentSocketEvent.Error(
-+            message = root.getString("message")
-+        )
-+
-+        else -> EnrollmentSocketEvent.Error(
-+            message = "Unknown socket event type: $type"
-+        )
-+    }
-+}
-+
-+fun mapAttendanceEvent(root: JSONObject): EnrollmentSocketEvent.VerificationSuccess {
-+    val attendance = root.getJSONObject("attendance")
-+    val userJson = attendance.getJSONObject("user")
-+
-+    val user = User(
-+        id = userJson.getString("_id"),
-+        fingerprintId = userJson.getInt("fingerprintId"),
-+        employeeId = userJson.getString("employeeId"),
-+        name = userJson.getString("name"),
-+        email = userJson.getString("email"),
-+        enrollmentStatus = EnrollmentStatus.ENROLLED, // This is a direct value!! !!WARNING!!
-+    )
-+
-+    return EnrollmentSocketEvent.VerificationSuccess(
-+        attendanceId = attendance.getString("_id"),
-+        fingerprintId = attendance.getInt("fingerprintId"),
-+        deviceId = attendance.getString("deviceId"),
-+        action = attendance.getString("action"),
-+        status = attendance.getString("status"),
-+        user = user,
-+        utcTime = attendance.getString("utcTime"),
-+        customTime = attendance.getString("customTime")
-+    )
- }
-\ No newline at end of file
-diff --git a/app/src/main/java/com/example/figerprintconsole/app/data/mapper/NewEnrollUserMapper.kt b/app/src/main/java/com/example/figerprintconsole/app/data/mapper/NewEnrollUserMapper.kt
-index 5c34a27..38533dc 100644
---- a/app/src/main/java/com/example/figerprintconsole/app/data/mapper/NewEnrollUserMapper.kt
-+++ b/app/src/main/java/com/example/figerprintconsole/app/data/mapper/NewEnrollUserMapper.kt
-@@ -1,4 +1,15 @@
- package com.example.figerprintconsole.app.data.mapper
- 
--class NewEnrollUserMapper {
-+import com.example.figerprintconsole.app.domain.model.NewEnrollUser
-+import org.json.JSONObject
-+
-+fun NewEnrollUser.toJson(): JSONObject {
-+    return JSONObject().apply {
-+        put("name", name)
-+        put("employeeId", employeeId)
-+        put("email", email)
-+        put("phone", phone)
-+        put("department", department)
-+        put("customTimezone", timeZone)
-+    }
- }
-\ No newline at end of file
-diff --git a/app/src/main/java/com/example/figerprintconsole/app/data/repository/EnrollmentRepositoryImpl.kt b/app/src/main/java/com/example/figerprintconsole/app/data/repository/EnrollmentRepositoryImpl.kt
-index 5eabc65..a37161e 100644
---- a/app/src/main/java/com/example/figerprintconsole/app/data/repository/EnrollmentRepositoryImpl.kt
-+++ b/app/src/main/java/com/example/figerprintconsole/app/data/repository/EnrollmentRepositoryImpl.kt
-@@ -1,4 +1,52 @@
- package com.example.figerprintconsole.app.data.repository
- 
--class EnrollmentRepositoryImpl {
-+import com.example.figerprintconsole.app.data.mapper.toJson
-+import com.example.figerprintconsole.app.data.websocket.EnrollmentSocketDataSourceImpl
-+import com.example.figerprintconsole.app.domain.model.EnrollmentSocketEvent
-+import com.example.figerprintconsole.app.domain.model.NewEnrollUser
-+import com.example.figerprintconsole.app.domain.repository.EnrollmentRepository
-+import kotlinx.coroutines.flow.Flow
-+import org.json.JSONObject
-+import javax.inject.Inject
-+
-+class EnrollmentRepositoryImpl @Inject constructor(
-+     val enrollmentSocketDataSourceImpl: EnrollmentSocketDataSourceImpl // We may have to define the di for this
-+): EnrollmentRepository {
-+    override fun observeEnrollment(): Flow<EnrollmentSocketEvent> {
-+        return enrollmentSocketDataSourceImpl.connect()
-+    }
-+
-+    override suspend fun startEnrollment(newEnrollUser: NewEnrollUser) {
-+        enrollmentSocketDataSourceImpl.send(
-+            type = EnrollmentSocketEvent.StartEnrolling,
-+            message = buildEnrollNewUserJson(newEnrollUser)
-+        )
-+    }
-+
-+    override suspend fun cancelEnrollment() {
-+        enrollmentSocketDataSourceImpl.send(
-+            message = cancelEnroll(),
-+            type = EnrollmentSocketEvent.CancelEnrolling
-+        )
-+        enrollmentSocketDataSourceImpl.disconnect()
-+    }
-+}
-+
-+fun buildEnrollNewUserJson(newEnrollUser: NewEnrollUser): String {
-+    val payload = newEnrollUser.toJson()
-+
-+    val root = JSONObject().apply {
-+        put("type", "ENROLL_NEW_USER")
-+        put("payload", payload)
-+    }
-+
-+    return root.toString()
-+}
-+
-+fun cancelEnroll(): String {
-+    val root = JSONObject().apply {
-+        put("type", "CANCEL_ENROLL")
-+    }
-+
-+    return root.toString()
- }
-\ No newline at end of file
-diff --git a/app/src/main/java/com/example/figerprintconsole/app/data/websocket/EnrollmentSocketDataSourceImpl.kt b/app/src/main/java/com/example/figerprintconsole/app/data/websocket/EnrollmentSocketDataSourceImpl.kt
-index f5ca1e9..b4cae05 100644
---- a/app/src/main/java/com/example/figerprintconsole/app/data/websocket/EnrollmentSocketDataSourceImpl.kt
-+++ b/app/src/main/java/com/example/figerprintconsole/app/data/websocket/EnrollmentSocketDataSourceImpl.kt
-@@ -1,4 +1,49 @@
- package com.example.figerprintconsole.app.data.websocket
- 
--class EnrollmentSocketDataSourceImpl {
-+import com.example.figerprintconsole.app.data.mapper.toWebsocketEvent
-+import com.example.figerprintconsole.app.domain.model.EnrollmentSocketDataSource
-+import com.example.figerprintconsole.app.domain.model.EnrollmentSocketEvent
-+import kotlinx.coroutines.channels.awaitClose
-+import kotlinx.coroutines.flow.Flow
-+import kotlinx.coroutines.flow.callbackFlow
-+import okhttp3.OkHttpClient
-+import okhttp3.Request
-+import okhttp3.Response
-+import okhttp3.WebSocket
-+import okhttp3.WebSocketListener
-+import javax.inject.Inject
-+
-+class EnrollmentSocketDataSourceImpl @Inject constructor(
-+    private val client: OkHttpClient,
-+    private val request: Request
-+): EnrollmentSocketDataSource {
-+
-+    private var socket: WebSocket? = null
-+
-+    override fun connect(): Flow<EnrollmentSocketEvent> = callbackFlow {
-+        val listener = object : WebSocketListener() {
-+            override fun onOpen(webSocket: WebSocket, response: Response) { trySend(EnrollmentSocketEvent.Connected) }
-+            override fun onMessage(webSocket: WebSocket, text: String) { trySend(text.toWebsocketEvent()) }
-+            override fun onFailure(webSocket: WebSocket, t: Throwable, response: Response?) {
-+                trySend(EnrollmentSocketEvent.VerificationFailed(t.message ?: "Unknown error"))
-+                close(t)
-+            }
-+            override fun onClosed(webSocket: WebSocket, code: Int, reason: String) { trySend(EnrollmentSocketEvent.Disconnected) }
-+        }
-+
-+        socket = client.newWebSocket(request, listener)
-+        awaitClose { socket?.close(1000, "Closed") }
-+    }
-+
-+    override fun disconnect() { client.dispatcher.executorService.shutdown() } // Shut Down at Client Level!
-+
-+    override fun send(type: EnrollmentSocketEvent, message: String) {
-+        val ws = socket
-+        if (ws == null) {
-+            // socket not connected yet
-+            return
-+        }
-+
-+        ws.send(message)
-+    }
- }
-\ No newline at end of file
-diff --git a/app/src/main/java/com/example/figerprintconsole/app/data/websocket/TestWebSocket.kt b/app/src/main/java/com/example/figerprintconsole/app/data/websocket/TestWebSocket.kt
-index 5f5e331..a3fcf75 100644
---- a/app/src/main/java/com/example/figerprintconsole/app/data/websocket/TestWebSocket.kt
-+++ b/app/src/main/java/com/example/figerprintconsole/app/data/websocket/TestWebSocket.kt
-@@ -1,4 +1,66 @@
- package com.example.figerprintconsole.app.data.websocket
- 
--class TestWebSocket {
--}
-\ No newline at end of file
-+import com.example.figerprintconsole.app.data.mapper.toWebsocketEvent
-+import com.example.figerprintconsole.app.domain.model.EnrollmentSocketEvent
-+import com.example.figerprintconsole.app.utils.AppConstant
-+import kotlinx.coroutines.channels.awaitClose
-+import kotlinx.coroutines.flow.Flow
-+import kotlinx.coroutines.flow.callbackFlow
-+import okhttp3.OkHttpClient
-+import okhttp3.Request
-+import okhttp3.Response
-+import okhttp3.WebSocket
-+import okhttp3.WebSocketListener
-+import javax.inject.Inject
-+
-+class TestWebSocket @Inject constructor(
-+    val client: OkHttpClient,
-+    val request: Request
-+) {
-+
-+    private var socket: WebSocket? = null
-+
-+    fun connect(): Flow<EnrollmentSocketEvent> = callbackFlow {
-+
-+        // Define Listener
-+        val listener = object : WebSocketListener() {
-+            override fun onOpen(webSocket: WebSocket, response: Response) {
-+                socket = webSocket
-+                // AppConstant.debugMessage("WebSocket Connected", tag = "WS")
-+                trySend(EnrollmentSocketEvent.Connected)
-+            }
-+
-+            override fun onMessage(webSocket: WebSocket, text: String) {
-+                // AppConstant.debugMessage("WebSocket Received: $text", tag = "WS")
-+                trySend(text.toWebsocketEvent())
-+            }
-+
-+            override fun onFailure(webSocket: WebSocket, t: Throwable, response: Response?) {
-+                // AppConstant.debugMessage("WebSocket Failure", tag = "WS")
-+                trySend(
-+                    EnrollmentSocketEvent.VerificationFailed(t.message ?: "Unknown error")
-+                )
-+                close(t)
-+            }
-+
-+            override fun onClosed(webSocket: WebSocket, code: Int, reason: String) {
-+                // AppConstant.debugMessage("WebSocket Closed", tag = "WS")
-+            }
-+        }
-+
-+        // build client
-+        client.newWebSocket(request, listener)
-+
-+        awaitClose {
-+            socket?.close(1000, "Closed")
-+        }
-+    }
-+
-+    fun send(message: String) {
-+        socket?.send(message)
-+    }
-+
-+    fun disconnect() {
-+        socket?.close(1000, "bye")
-+    }
-+}
-diff --git a/app/src/main/java/com/example/figerprintconsole/app/di/NetworkModule.kt b/app/src/main/java/com/example/figerprintconsole/app/di/NetworkModule.kt
-index 2e838c5..ca75b14 100644
---- a/app/src/main/java/com/example/figerprintconsole/app/di/NetworkModule.kt
-+++ b/app/src/main/java/com/example/figerprintconsole/app/di/NetworkModule.kt
-@@ -1,12 +1,16 @@
- package com.example.figerprintconsole.app.di
- 
- import com.example.figerprintconsole.app.data.remote.api.ApiServices
-+import com.example.figerprintconsole.app.data.websocket.EnrollmentSocketDataSourceImpl
-+import com.example.figerprintconsole.app.data.websocket.TestWebSocket
-+import com.example.figerprintconsole.app.domain.model.EnrollmentSocketEvent
- import com.example.figerprintconsole.app.utils.AppConstant
- import dagger.Module
- import dagger.Provides
- import dagger.hilt.InstallIn
- import dagger.hilt.components.SingletonComponent
- import okhttp3.OkHttpClient
-+import okhttp3.Request
- import okhttp3.logging.HttpLoggingInterceptor
- import retrofit2.Retrofit
- import retrofit2.converter.gson.GsonConverterFactory
-@@ -16,6 +20,27 @@ import javax.inject.Singleton
- @InstallIn(SingletonComponent::class)
- object NetworkModule {
- 
-+    // TestWebSocket
-+    @Provides
-+    @Singleton
-+    fun provideTestWebsocket(
-+        client: OkHttpClient,
-+        request: Request
-+    ): TestWebSocket {
-+        return TestWebSocket(
-+            client = client,
-+            request = request
-+        )
-+    }
-+
-+    @Provides
-+    @Singleton
-+    fun provideRequest(): Request {
-+        return Request.Builder()
-+            .url(AppConstant.WEB_SOCKET_URL)
-+            .build()
-+    }
-+
-     @Provides
-     @Singleton
-     fun provideOkHttp(): OkHttpClient {
-diff --git a/app/src/main/java/com/example/figerprintconsole/app/di/RepositoryModule.kt b/app/src/main/java/com/example/figerprintconsole/app/di/RepositoryModule.kt
-index e311fcd..8c54ed3 100644
---- a/app/src/main/java/com/example/figerprintconsole/app/di/RepositoryModule.kt
-+++ b/app/src/main/java/com/example/figerprintconsole/app/di/RepositoryModule.kt
-@@ -1,4 +1,36 @@
- package com.example.figerprintconsole.app.di
- 
-+import com.example.figerprintconsole.app.data.repository.EnrollmentRepositoryImpl
-+import com.example.figerprintconsole.app.data.websocket.EnrollmentSocketDataSourceImpl
-+import dagger.Module
-+import dagger.Provides
-+import dagger.hilt.InstallIn
-+import dagger.hilt.components.SingletonComponent
-+import okhttp3.OkHttpClient
-+import okhttp3.Request
-+import javax.inject.Singleton
-+
-+@Module
-+@InstallIn(SingletonComponent::class)
- object RepositoryModule {
-+
-+    @Provides
-+    @Singleton
-+    fun provideEnrollmentSocketDataSourceImpl(
-+        client: OkHttpClient,
-+        request: Request
-+    ): EnrollmentSocketDataSourceImpl {
-+        return EnrollmentSocketDataSourceImpl(
-+            client = client,
-+            request = request
-+        )
-+    }
-+
-+    @Provides
-+    @Singleton
-+    fun provideEnrollmentRepositoryImpl(
-+        enrollmentSocketDataSourceImpl: EnrollmentSocketDataSourceImpl
-+    ): EnrollmentRepositoryImpl {
-+        return EnrollmentRepositoryImpl(enrollmentSocketDataSourceImpl = enrollmentSocketDataSourceImpl)
-+    }
- }
-\ No newline at end of file
-diff --git a/app/src/main/java/com/example/figerprintconsole/app/domain/model/EnrollmentSocketDataSource.kt b/app/src/main/java/com/example/figerprintconsole/app/domain/model/EnrollmentSocketDataSource.kt
-index 7e556f8..475f6ad 100644
---- a/app/src/main/java/com/example/figerprintconsole/app/domain/model/EnrollmentSocketDataSource.kt
-+++ b/app/src/main/java/com/example/figerprintconsole/app/domain/model/EnrollmentSocketDataSource.kt
-@@ -1,4 +1,9 @@
- package com.example.figerprintconsole.app.domain.model
- 
--class EnrollmentSocketDataSource {
-+import kotlinx.coroutines.flow.Flow
-+
-+interface EnrollmentSocketDataSource {
-+    fun connect(): Flow<EnrollmentSocketEvent>
-+    fun disconnect()
-+    fun send(type: EnrollmentSocketEvent, message: String)
- }
-\ No newline at end of file
-diff --git a/app/src/main/java/com/example/figerprintconsole/app/domain/model/EnrollmentSocketEvent.kt b/app/src/main/java/com/example/figerprintconsole/app/domain/model/EnrollmentSocketEvent.kt
-index fb7d425..a8f2cf7 100644
---- a/app/src/main/java/com/example/figerprintconsole/app/domain/model/EnrollmentSocketEvent.kt
-+++ b/app/src/main/java/com/example/figerprintconsole/app/domain/model/EnrollmentSocketEvent.kt
-@@ -1,4 +1,24 @@
- package com.example.figerprintconsole.app.domain.model
- 
--class EnrollmentSocketEvent {
-+sealed class EnrollmentSocketEvent {
-+    object Connected : EnrollmentSocketEvent()
-+    object Disconnected : EnrollmentSocketEvent()
-+
-+    object StartEnrolling : EnrollmentSocketEvent()
-+    object ScanStepOneCompleted : EnrollmentSocketEvent()
-+    object ScanStepTwoCompleted : EnrollmentSocketEvent()
-+    data class VerificationSuccess(
-+        val attendanceId: String,
-+        val fingerprintId: Int,
-+        val deviceId: String,
-+        val action: String,
-+        val status: String,
-+        val user: User,
-+        val utcTime: String,
-+        val customTime: String
-+    ) : EnrollmentSocketEvent()
-+
-+    data class VerificationFailed(val reason: String) : EnrollmentSocketEvent()
-+    object CancelEnrolling: EnrollmentSocketEvent()
-+    data class Error(val message: String) : EnrollmentSocketEvent()
- }
-\ No newline at end of file
-diff --git a/app/src/main/java/com/example/figerprintconsole/app/domain/model/NewEnrollUser.kt b/app/src/main/java/com/example/figerprintconsole/app/domain/model/NewEnrollUser.kt
-index d5a8690..02b145c 100644
---- a/app/src/main/java/com/example/figerprintconsole/app/domain/model/NewEnrollUser.kt
-+++ b/app/src/main/java/com/example/figerprintconsole/app/domain/model/NewEnrollUser.kt
-@@ -8,4 +8,4 @@ data class NewEnrollUser(
-     val department: String = "",
-     val timeZone: String = "UTC",
-     val isValid: Boolean = false
--)
-+)
-\ No newline at end of file
-diff --git a/app/src/main/java/com/example/figerprintconsole/app/domain/repository/EnrollmentRepository.kt b/app/src/main/java/com/example/figerprintconsole/app/domain/repository/EnrollmentRepository.kt
-index be585d5..f304706 100644
---- a/app/src/main/java/com/example/figerprintconsole/app/domain/repository/EnrollmentRepository.kt
-+++ b/app/src/main/java/com/example/figerprintconsole/app/domain/repository/EnrollmentRepository.kt
-@@ -1,4 +1,13 @@
- package com.example.figerprintconsole.app.domain.repository
- 
--class EnrollmentRepository {
-+import com.example.figerprintconsole.app.domain.model.EnrollmentSocketEvent
-+import com.example.figerprintconsole.app.domain.model.NewEnrollUser
-+import kotlinx.coroutines.flow.Flow
-+
-+interface EnrollmentRepository {
-+    fun observeEnrollment() : Flow<EnrollmentSocketEvent>
-+
-+    suspend fun startEnrollment(newEnrollUser: NewEnrollUser)
-+
-+    suspend fun cancelEnrollment()
- }
-\ No newline at end of file
-diff --git a/app/src/main/java/com/example/figerprintconsole/app/ui/navigation/MyAppNavHost.kt b/app/src/main/java/com/example/figerprintconsole/app/ui/navigation/MyAppNavHost.kt
-index 6b5fdad..7dc5693 100644
---- a/app/src/main/java/com/example/figerprintconsole/app/ui/navigation/MyAppNavHost.kt
-+++ b/app/src/main/java/com/example/figerprintconsole/app/ui/navigation/MyAppNavHost.kt
-@@ -7,7 +7,7 @@ import androidx.compose.ui.Modifier
- import androidx.navigation.NavHostController
- import androidx.navigation.compose.NavHost
- import androidx.navigation.compose.composable
--import com.example.figerprintconsole.app.ui.home.FingerprintDashboard
-+import com.example.figerprintconsole.app.ui.screen.home.FingerprintDashboard
- import com.example.figerprintconsole.app.ui.screen.devices.DeviceScreen
- import com.example.figerprintconsole.app.ui.screen.enroll.StartEnrollmentProcess
- import com.example.figerprintconsole.app.ui.screen.users.UsersListScreen
-diff --git a/app/src/main/java/com/example/figerprintconsole/app/ui/screen/enroll/EnrollmentViewModel.kt b/app/src/main/java/com/example/figerprintconsole/app/ui/screen/enroll/EnrollmentViewModel.kt
-index ec43baa..f83740c 100644
---- a/app/src/main/java/com/example/figerprintconsole/app/ui/screen/enroll/EnrollmentViewModel.kt
-+++ b/app/src/main/java/com/example/figerprintconsole/app/ui/screen/enroll/EnrollmentViewModel.kt
-@@ -1,16 +1,23 @@
- package com.example.figerprintconsole.app.ui.screen.enroll
- 
- import androidx.lifecycle.ViewModel
-+import androidx.lifecycle.viewModelScope
-+import androidx.lifecycle.viewmodel.compose.viewModel
-+import com.example.figerprintconsole.app.data.repository.EnrollmentRepositoryImpl
-+import com.example.figerprintconsole.app.domain.model.NewEnrollUser
- import com.example.figerprintconsole.app.ui.screen.enroll.event.EnrollScreenEvent
- import com.example.figerprintconsole.app.ui.screen.enroll.state.EnrollmentScreenState
- import com.example.figerprintconsole.app.ui.screen.enroll.state.EnrollmentState
-+import com.example.figerprintconsole.app.utils.AppConstant
- import dagger.hilt.android.lifecycle.HiltViewModel
- import kotlinx.coroutines.flow.MutableStateFlow
- import kotlinx.coroutines.flow.StateFlow
-+import kotlinx.coroutines.launch
- import javax.inject.Inject
- 
- @HiltViewModel
- class EnrollmentViewModel @Inject constructor(
-+    val enrollmentRepositoryImpl: EnrollmentRepositoryImpl
- ): ViewModel() {
- 
-     private val _currentUiState = MutableStateFlow<EnrollmentScreenState>(EnrollmentScreenState.IDLE)
-@@ -19,6 +26,9 @@ class EnrollmentViewModel @Inject constructor(
-     private val _currentStateData = MutableStateFlow(EnrollmentState())
-     val currentStateData: StateFlow<EnrollmentState> = _currentStateData
- 
-+    private val _currentInputFieldState = MutableStateFlow(NewEnrollUser()) // Why I can't hold data when the screen navigation changes?? Figure me out!
-+    val currentInputFieldState: StateFlow<NewEnrollUser> = _currentInputFieldState
-+
-     fun onEvent(event: EnrollScreenEvent) {
-         when(event) {
-             is EnrollScreenEvent.LevelUp -> { levelUpToNextState() }
-@@ -30,6 +40,19 @@ class EnrollmentViewModel @Inject constructor(
-             is EnrollScreenEvent.Completed -> { levelUpToComplete() }
-             is EnrollScreenEvent.CANCEL -> { }
-             is EnrollScreenEvent.Error -> { }
-+
-+            is EnrollScreenEvent.TextFieldInput -> { trackInputField(event.newEnrollUser) }
-+            is EnrollScreenEvent.ResetTextFieldInput -> { resetTextInputField() } // Do use me when necessary!
-+        }
-+    }
-+
-+    fun connectToSocket() {
-+        AppConstant.debugMessage("WS: Connecting to Socket observer!", "WS")
-+        viewModelScope.launch {
-+            enrollmentRepositoryImpl.observeEnrollment().collect {
-+                event ->
-+                AppConstant.debugMessage("WS: $event", "WS")
-+            }
-         }
-     }
- 
-@@ -47,6 +70,9 @@ class EnrollmentViewModel @Inject constructor(
-     }
- 
-     fun levelUpToUserInput() {
-+
-+        connectToSocket()
-+
-         // Change the UiState
-         _currentUiState.value = EnrollmentScreenState.UserInput
- 
-@@ -61,6 +87,12 @@ class EnrollmentViewModel @Inject constructor(
-         )
-     }
-     fun levelUpToEnrollmentStepOne() {
-+
-+        // Send Signal to Repository
-+        viewModelScope.launch {
-+            enrollmentRepositoryImpl.startEnrollment(currentInputFieldState.value)
-+        }
-+
-         // Change the UiState
-         _currentUiState.value = EnrollmentScreenState.EnrollingStepOne
- 
-@@ -119,4 +151,11 @@ class EnrollmentViewModel @Inject constructor(
- 
-     fun showError() {}
- 
-+    fun trackInputField(newEnrollUser: NewEnrollUser) {
-+        _currentInputFieldState.value = newEnrollUser
-+    }
-+
-+    fun resetTextInputField() {
-+        _currentInputFieldState.value = NewEnrollUser()
-+    }
- }
-\ No newline at end of file
-diff --git a/app/src/main/java/com/example/figerprintconsole/app/ui/screen/enroll/StartEnrollmentProcess.kt b/app/src/main/java/com/example/figerprintconsole/app/ui/screen/enroll/StartEnrollmentProcess.kt
-index 39cabcd..ddc7514 100644
---- a/app/src/main/java/com/example/figerprintconsole/app/ui/screen/enroll/StartEnrollmentProcess.kt
-+++ b/app/src/main/java/com/example/figerprintconsole/app/ui/screen/enroll/StartEnrollmentProcess.kt
-@@ -16,17 +16,19 @@ fun StartEnrollmentProcess(
-     // These two values changes together -> cause 2 recomposition -> Fix in later version!
-     val currentUiState by viewModel.currentUiState.collectAsState()
-     val currentStateData by viewModel.currentStateData.collectAsState()
-+    val currentTextFieldData by viewModel.currentInputFieldState.collectAsState()
- 
-     FingerprintEnrollmentScreen(
-         uiState = currentUiState,
-         stateData = currentStateData,
-+        currentTextFieldData = currentTextFieldData,
-         onStartEnrollment = { viewModel.onEvent(EnrollScreenEvent.UserInput) },
-         onRetry = { viewModel.onEvent(EnrollScreenEvent.IDLE) },
-         onComplete = {
-             // Level 2 & 3 are only updated within viewmodel, currently the business logic is inside UI!!
-             // Fix as soon / or after connecting the Websocket!!
--            viewModel.onEvent(EnrollScreenEvent.LevelUp)
--                     },
--        onCompleteEnrollment = onCompleteEnrollment
-+            viewModel.onEvent(EnrollScreenEvent.LevelUp) },
-+        onCompleteEnrollment = onCompleteEnrollment,
-+        onInputChanged = { it -> viewModel.onEvent(EnrollScreenEvent.TextFieldInput(it)) }
-     )
- }
-\ No newline at end of file
-diff --git a/app/src/main/java/com/example/figerprintconsole/app/ui/screen/enroll/components/EnrollmentActionOne.kt b/app/src/main/java/com/example/figerprintconsole/app/ui/screen/enroll/components/EnrollmentActionOne.kt
-index 4685c5d..09c50be 100644
---- a/app/src/main/java/com/example/figerprintconsole/app/ui/screen/enroll/components/EnrollmentActionOne.kt
-+++ b/app/src/main/java/com/example/figerprintconsole/app/ui/screen/enroll/components/EnrollmentActionOne.kt
-@@ -39,35 +39,40 @@ fun EnrollmentActionOne(
-         OutlinedTextField(
-             value = newUser.name,
-             onValueChange = { onInputChanged(newUser.copy(name = it)) },
--            label = { Text("Name") },
-+            placeholder = { Text("Name") },
-+            maxLines = 1,
-             modifier = Modifier.fillMaxWidth()
-         )
- 
-         OutlinedTextField(
-             value = newUser.email,
-             onValueChange = { onInputChanged(newUser.copy(email = it)) },
--            label = { Text("Email") },
-+            placeholder = { Text("Email") },
-+            maxLines = 1,
-             modifier = Modifier.fillMaxWidth()
-         )
- 
-         OutlinedTextField(
-             value = newUser.employeeId,
-             onValueChange = { onInputChanged(newUser.copy(employeeId = it)) },
--            label = { Text("Employee ID") },
-+            placeholder = { Text("Employee ID") },
-+            maxLines = 1,
-             modifier = Modifier.fillMaxWidth()
-         )
- 
-         OutlinedTextField(
-             value = newUser.phone,
-             onValueChange = { onInputChanged(newUser.copy(phone = it)) },
--            label = { Text("Phone") },
-+            placeholder = { Text("Phone") },
-+            maxLines = 1,
-             modifier = Modifier.fillMaxWidth()
-         )
- 
-         OutlinedTextField(
-             value = newUser.department,
-             onValueChange = { onInputChanged(newUser.copy(department = it)) },
--            label = { Text("Department") },
-+            placeholder = { Text("Department") },
-+            maxLines = 1,
-             modifier = Modifier.fillMaxWidth()
-         )
- 
-@@ -75,7 +80,8 @@ fun EnrollmentActionOne(
-         OutlinedTextField(
-             value = newUser.timeZone,
-             onValueChange = { onInputChanged(newUser.copy(timeZone = it)) },
--            label = { Text("Time Zone") },
-+            placeholder = { Text("Time Zone") },
-+            maxLines = 1,
-             modifier = Modifier.fillMaxWidth(),
-             readOnly = true
-         )
-@@ -108,4 +114,4 @@ fun EnrollmentActionOne(
-             }
-         }
-     }
--}
-+}
-\ No newline at end of file
-diff --git a/app/src/main/java/com/example/figerprintconsole/app/ui/screen/enroll/components/FingerprintEnrollmentScreen.kt b/app/src/main/java/com/example/figerprintconsole/app/ui/screen/enroll/components/FingerprintEnrollmentScreen.kt
-index 72d0294..4e364a4 100644
---- a/app/src/main/java/com/example/figerprintconsole/app/ui/screen/enroll/components/FingerprintEnrollmentScreen.kt
-+++ b/app/src/main/java/com/example/figerprintconsole/app/ui/screen/enroll/components/FingerprintEnrollmentScreen.kt
-@@ -23,10 +23,12 @@ import com.example.figerprintconsole.app.utils.DebugType
- fun FingerprintEnrollmentScreen(
-     uiState: EnrollmentScreenState,
-     stateData: EnrollmentState,
-+    currentTextFieldData: NewEnrollUser,
-     onStartEnrollment: () -> Unit,
-     onRetry: () -> Unit,
-     onComplete: () -> Unit,
-     onCompleteEnrollment: () -> Unit,
-+    onInputChanged: (NewEnrollUser) -> Unit,
-     modifier: Modifier = Modifier
- ) {
-     Surface(
-@@ -73,8 +75,8 @@ fun FingerprintEnrollmentScreen(
-                         state = stateData,
-                         onRetry = onRetry,
-                         onComplete = onComplete,
--                        newUser = NewEnrollUser(),
--                        onInputChanged = {}
-+                        newUser = currentTextFieldData,
-+                        onInputChanged = onInputChanged
-                     )
-                 }
- 
-diff --git a/app/src/main/java/com/example/figerprintconsole/app/ui/screen/enroll/event/EnrollScreenEvent.kt b/app/src/main/java/com/example/figerprintconsole/app/ui/screen/enroll/event/EnrollScreenEvent.kt
-index 7566227..4bb86be 100644
---- a/app/src/main/java/com/example/figerprintconsole/app/ui/screen/enroll/event/EnrollScreenEvent.kt
-+++ b/app/src/main/java/com/example/figerprintconsole/app/ui/screen/enroll/event/EnrollScreenEvent.kt
-@@ -1,5 +1,7 @@
- package com.example.figerprintconsole.app.ui.screen.enroll.event
- 
-+import com.example.figerprintconsole.app.domain.model.NewEnrollUser
-+
- sealed class EnrollScreenEvent {
-     object LevelUp: EnrollScreenEvent()
-     object IDLE: EnrollScreenEvent()
-@@ -9,5 +11,9 @@ sealed class EnrollScreenEvent {
-     object Verifying: EnrollScreenEvent()
-     object Completed: EnrollScreenEvent()
-     object CANCEL: EnrollScreenEvent()
-+
-+    data class TextFieldInput(val newEnrollUser: NewEnrollUser): EnrollScreenEvent()
-+    object ResetTextFieldInput: EnrollScreenEvent() // Do use me!
-+
-     data class Error(val message: String?): EnrollScreenEvent()
- }
-\ No newline at end of file
-diff --git a/app/src/main/java/com/example/figerprintconsole/app/ui/screen/home/FingerprintDashboard.kt b/app/src/main/java/com/example/figerprintconsole/app/ui/screen/home/FingerprintDashboard.kt
-index 6a0271b..aa03028 100644
---- a/app/src/main/java/com/example/figerprintconsole/app/ui/screen/home/FingerprintDashboard.kt
-+++ b/app/src/main/java/com/example/figerprintconsole/app/ui/screen/home/FingerprintDashboard.kt
-@@ -1,4 +1,4 @@
--package com.example.figerprintconsole.app.ui.home
-+package com.example.figerprintconsole.app.ui.screen.home
- 
- import androidx.compose.foundation.*
- import androidx.compose.foundation.layout.*
-diff --git a/app/src/main/java/com/example/figerprintconsole/app/utils/AppConstant.kt b/app/src/main/java/com/example/figerprintconsole/app/utils/AppConstant.kt
-index a9c32ec..f45d2a2 100644
---- a/app/src/main/java/com/example/figerprintconsole/app/utils/AppConstant.kt
-+++ b/app/src/main/java/com/example/figerprintconsole/app/utils/AppConstant.kt
-@@ -4,6 +4,7 @@ import android.util.Log
- 
- object AppConstant {
-     const val BASE_URL = "http://137.97.126.110:4005/"
-+    const val WEB_SOCKET_URL = "ws://137.97.126.110:4005"
-     const val GET_ALL_USERS_API = "api/users"
-     const val USER_GET_URL = "api/users/fp" // add the ID of user
-     const val GET_USER_BY_ID_API = "api/users/fp"
-diff --git a/app/src/test/java/com/example/figerprintconsole/WebSocketLearningTest.kt b/app/src/test/java/com/example/figerprintconsole/WebSocketLearningTest.kt
-index f821c5f..36511a6 100644
---- a/app/src/test/java/com/example/figerprintconsole/WebSocketLearningTest.kt
-+++ b/app/src/test/java/com/example/figerprintconsole/WebSocketLearningTest.kt
-@@ -1,2 +1,101 @@
--package com.example.figerprintconsole 
-+package com.example.figerprintconsole
- 
-+import com.example.figerprintconsole.app.data.repository.EnrollmentRepositoryImpl
-+import com.example.figerprintconsole.app.data.websocket.TestWebSocket
-+import com.example.figerprintconsole.app.domain.model.EnrollmentSocketEvent
-+import kotlinx.coroutines.delay
-+import kotlinx.coroutines.launch
-+import kotlinx.coroutines.runBlocking
-+import okhttp3.OkHttpClient
-+import okhttp3.Request
-+import org.junit.Test
-+
-+class WebSocketLearningTest {
-+
-+//    @Test
-+//    fun testWebsocket() {
-+//
-+//        // build client
-+//        val client = OkHttpClient()
-+//
-+//        // build request
-+//        val request = Request.Builder()
-+//            .url("ws://137.97.126.110:4005")
-+//            .build()
-+//
-+//        // build latch
-+//        val latch = CountDownLatch(1)
-+//
-+//        // Build the Listener
-+//        val listener = object : WebSocketListener() {
-+//            override fun onOpen(webSocket: WebSocket, response: Response) {
-+//                print("WS" + "Connected")
-+//                // webSocket.send("hello")
-+//            }
-+//
-+//            override fun onMessage(webSocket: WebSocket, text: String) {
-+//                println("WSMessage: $text")
-+//                latch.countDown()
-+//            }
-+//
-+//            override fun onFailure(webSocket: WebSocket, t: Throwable, response: Response?) {
-+//                println("WSError: $t")
-+//                latch.countDown()
-+//            }
-+//
-+//            override fun onClosed(webSocket: WebSocket, code: Int, reason: String) {
-+//                super.onClosed(webSocket, code, reason)
-+//            }
-+//        }
-+//
-+//        // new websocket
-+//        client.newWebSocket(request, listener)
-+//
-+//
-+//
-+//        val completed = latch.await(10, TimeUnit.SECONDS)
-+//        println("Test finished, latch released = $completed")
-+//    }
-+//
-+//    @Test
-+//    fun repository_connects_and_receives_events() = runBlocking {
-+//    val client = OkHttpClient()
-+//
-+//    val request = Request.Builder()
-+//        .url("ws://137.97.126.110:4005")
-+//        .build()
-+//
-+//    val testWebSocket = TestWebSocket(
-+//        client = client,
-+//        request = request
-+//    )
-+//
-+//    val repository = EnrollmentRepositoryImpl(
-+//        testWebSocket = testWebSocket
-+//    )
-+//
-+//    val events = mutableListOf<EnrollmentSocketEvent>()
-+//
-+//    val job = launch {
-+//        repository.observeEnrollment()
-+//            .collect { event ->
-+//                print("Event: $event")
-+//                events.add(event)
-+//            }
-+//    }
-+//
-+//    delay(500) // allow connection
-+//
-+//    repository.startEnrollment()
-+//
-+//    delay(2_000) // wait for echo response
-+//
-+//    repository.cancelEnrollment()
-+//
-+//    job.cancel()
-+//
-+//    // VERY light assertion (dont overdo it yet)
-+//    // assert(events.isNotEmpty())
-+//}
-+
-+}
-\ No newline at end of file
-diff --git a/gradle/libs.versions.toml b/gradle/libs.versions.toml
-index 777a5c0..948dd4b 100644
---- a/gradle/libs.versions.toml
-+++ b/gradle/libs.versions.toml
-@@ -23,6 +23,7 @@ gson = "2.11.0"
- kotlin-library = "2.0.21"
- hilt = "2.51"
- hilt-navigation = "1.2.0"
-+junitKtx = "1.3.0"
- 
- [libraries]
- androidx-core-ktx = { group = "androidx.core", name = "core-ktx", version.ref = "coreKtx" }
-@@ -48,6 +49,7 @@ hilt-navigation-compose = { group = "androidx.hilt", name = "hilt-navigation-com
- retrofit-gson = { group = "com.squareup.retrofit2", name = "converter-gson", version.ref = "retrofit" }
- okhttp-core = { group = "com.squareup.okhttp3", name = "okhttp", version.ref = "okhttp" }
- okhttp-logging = { group = "com.squareup.okhttp3", name = "logging-interceptor", version.ref = "okhttp" }
-+androidx-junit-ktx = { group = "androidx.test.ext", name = "junit-ktx", version.ref = "junitKtx" }
- 
- [plugins]
- # android.application helps in buiding the application + understand the "android{}" block
-diff --git a/project_change.txt b/project_change.txt
-index e9f5b03..393ee01 100644
---- a/project_change.txt
-+++ b/project_change.txt
-@@ -1,2038 +0,0 @@
--diff --git a/.kotlin/sessions/kotlin-compiler-15306819205517622254.salive b/.kotlin/sessions/kotlin-compiler-15306819205517622254.salive
--deleted file mode 100644
--index e69de29..0000000
--diff --git a/app/src/main/java/com/example/figerprintconsole/app/ui/MyAppScaffold.kt b/app/src/main/java/com/example/figerprintconsole/app/ui/MyAppScaffold.kt
--index 91a0e4c..a776082 100644
----- a/app/src/main/java/com/example/figerprintconsole/app/ui/MyAppScaffold.kt
--+++ b/app/src/main/java/com/example/figerprintconsole/app/ui/MyAppScaffold.kt
--@@ -6,7 +6,7 @@ import androidx.compose.material3.Scaffold
-- import androidx.compose.runtime.Composable
-- import androidx.compose.ui.Modifier
-- import androidx.navigation.NavHostController
---import com.example.figerprintconsole.app.ui.home.components.DashboardBottomNav
--+import com.example.figerprintconsole.app.ui.screen.home.components.DashboardBottomNav
-- import com.example.figerprintconsole.app.ui.navigation.MyAppNavHost
-- import com.example.figerprintconsole.app.ui.navigation.Route
-- 
--diff --git a/app/src/main/java/com/example/figerprintconsole/app/ui/navigation/MyAppNavHost.kt b/app/src/main/java/com/example/figerprintconsole/app/ui/navigation/MyAppNavHost.kt
--index 2df473e..6b5fdad 100644
----- a/app/src/main/java/com/example/figerprintconsole/app/ui/navigation/MyAppNavHost.kt
--+++ b/app/src/main/java/com/example/figerprintconsole/app/ui/navigation/MyAppNavHost.kt
--@@ -10,8 +10,6 @@ import androidx.navigation.compose.composable
-- import com.example.figerprintconsole.app.ui.home.FingerprintDashboard
-- import com.example.figerprintconsole.app.ui.screen.devices.DeviceScreen
-- import com.example.figerprintconsole.app.ui.screen.enroll.StartEnrollmentProcess
---import com.example.figerprintconsole.app.ui.screen.enroll.components.FingerprintEnrollmentScreen
---import com.example.figerprintconsole.app.ui.screen.enroll.state.EnrollmentState
-- import com.example.figerprintconsole.app.ui.screen.users.UsersListScreen
-- 
-- @Composable
--diff --git a/app/src/main/java/com/example/figerprintconsole/app/ui/screen/enroll/EnrollmentViewModel.kt b/app/src/main/java/com/example/figerprintconsole/app/ui/screen/enroll/EnrollmentViewModel.kt
--index 19a1555..ec43baa 100644
----- a/app/src/main/java/com/example/figerprintconsole/app/ui/screen/enroll/EnrollmentViewModel.kt
--+++ b/app/src/main/java/com/example/figerprintconsole/app/ui/screen/enroll/EnrollmentViewModel.kt
--@@ -1,4 +1,122 @@
-- package com.example.figerprintconsole.app.ui.screen.enroll
-- 
---class EnrollmentViewModel {
--+import androidx.lifecycle.ViewModel
--+import com.example.figerprintconsole.app.ui.screen.enroll.event.EnrollScreenEvent
--+import com.example.figerprintconsole.app.ui.screen.enroll.state.EnrollmentScreenState
--+import com.example.figerprintconsole.app.ui.screen.enroll.state.EnrollmentState
--+import dagger.hilt.android.lifecycle.HiltViewModel
--+import kotlinx.coroutines.flow.MutableStateFlow
--+import kotlinx.coroutines.flow.StateFlow
--+import javax.inject.Inject
--+
--+@HiltViewModel
--+class EnrollmentViewModel @Inject constructor(
--+): ViewModel() {
--+
--+    private val _currentUiState = MutableStateFlow<EnrollmentScreenState>(EnrollmentScreenState.IDLE)
--+    val currentUiState: StateFlow<EnrollmentScreenState> = _currentUiState
--+
--+    private val _currentStateData = MutableStateFlow(EnrollmentState())
--+    val currentStateData: StateFlow<EnrollmentState> = _currentStateData
--+
--+    fun onEvent(event: EnrollScreenEvent) {
--+        when(event) {
--+            is EnrollScreenEvent.LevelUp -> { levelUpToNextState() }
--+            is EnrollScreenEvent.IDLE -> { }
--+            is EnrollScreenEvent.UserInput -> { levelUpToUserInput() }
--+            is EnrollScreenEvent.EnrollingStepOne -> { levelUpToEnrollmentStepOne() }
--+            is EnrollScreenEvent.EnrollingStepTwo -> { levelUpToEnrollmentStepTwo() }
--+            is EnrollScreenEvent.Verifying -> { levelUpToVerifying() }
--+            is EnrollScreenEvent.Completed -> { levelUpToComplete() }
--+            is EnrollScreenEvent.CANCEL -> { }
--+            is EnrollScreenEvent.Error -> { }
--+        }
--+    }
--+
--+    fun levelUpToNextState() {
--+        // Check Current UiState
--+        when (_currentUiState.value) {
--+            EnrollmentScreenState.IDLE -> { levelUpToUserInput() }
--+            EnrollmentScreenState.UserInput -> { levelUpToEnrollmentStepOne() }
--+            EnrollmentScreenState.EnrollingStepOne -> { levelUpToEnrollmentStepTwo() }
--+            EnrollmentScreenState.EnrollingStepTwo -> { levelUpToVerifying() }
--+            EnrollmentScreenState.Verifying -> { levelUpToComplete() }
--+            EnrollmentScreenState.Completed -> { }
--+            is EnrollmentScreenState.Error -> { }
--+        }
--+    }
--+
--+    fun levelUpToUserInput() {
--+        // Change the UiState
--+        _currentUiState.value = EnrollmentScreenState.UserInput
--+
--+        // Change the state Data
--+        _currentStateData.value = _currentStateData.value.copy(
--+            currentStep = 1,
--+            isEnrolling = true,
--+            enrollmentProgress = .25f,
--+            enrollmentMessage = "",
--+            isCompleted = false,
--+            errorMessage = null,
--+        )
--+    }
--+    fun levelUpToEnrollmentStepOne() {
--+        // Change the UiState
--+        _currentUiState.value = EnrollmentScreenState.EnrollingStepOne
--+
--+        // Change the state Data
--+        _currentStateData.value = _currentStateData.value.copy(
--+            currentStep = 2,
--+            isEnrolling = true,
--+            enrollmentProgress = .50f,
--+            enrollmentMessage = "",
--+            isCompleted = false,
--+            errorMessage = null,
--+        )
--+    }
--+    fun levelUpToEnrollmentStepTwo() {
--+        // Change the UiState
--+        _currentUiState.value = EnrollmentScreenState.EnrollingStepTwo
--+
--+        // Change the state Data
--+        _currentStateData.value = _currentStateData.value.copy(
--+            currentStep = 3,
--+            isEnrolling = true,
--+            enrollmentProgress = .75f,
--+            enrollmentMessage = "",
--+            isCompleted = false,
--+            errorMessage = null,
--+        )
--+    }
--+    fun levelUpToVerifying() {
--+        // Change the UiState
--+        _currentUiState.value = EnrollmentScreenState.Verifying
--+
--+        // Change the state Data
--+        _currentStateData.value = _currentStateData.value.copy(
--+            currentStep = 4,
--+            isEnrolling = true,
--+            enrollmentProgress = .90f,
--+            enrollmentMessage = "",
--+            isCompleted = false,
--+            errorMessage = null,
--+        )
--+    }
--+    fun levelUpToComplete() {
--+        // Change the UiState
--+        _currentUiState.value = EnrollmentScreenState.Completed
--+
--+        // Change the state Data
--+        _currentStateData.value = _currentStateData.value.copy(
--+            currentStep = 4,
--+            isEnrolling = false,
--+            enrollmentProgress = 1f,
--+            enrollmentMessage = "",
--+            isCompleted = true,
--+            errorMessage = null,
--+        )
--+    }
--+
--+    fun showError() {}
--+
-- }
--\ No newline at end of file
--diff --git a/app/src/main/java/com/example/figerprintconsole/app/ui/screen/enroll/StartEnrollmentProcess.kt b/app/src/main/java/com/example/figerprintconsole/app/ui/screen/enroll/StartEnrollmentProcess.kt
--index cfe8353..39cabcd 100644
----- a/app/src/main/java/com/example/figerprintconsole/app/ui/screen/enroll/StartEnrollmentProcess.kt
--+++ b/app/src/main/java/com/example/figerprintconsole/app/ui/screen/enroll/StartEnrollmentProcess.kt
--@@ -1,50 +1,32 @@
-- package com.example.figerprintconsole.app.ui.screen.enroll
-- 
-- import androidx.compose.runtime.Composable
---import androidx.compose.runtime.LaunchedEffect
--+import androidx.compose.runtime.collectAsState
-- import androidx.compose.runtime.getValue
---import androidx.compose.runtime.mutableIntStateOf
---import androidx.compose.runtime.mutableStateOf
---import androidx.compose.runtime.remember
---import androidx.compose.runtime.setValue
--+import androidx.hilt.navigation.compose.hiltViewModel
-- import com.example.figerprintconsole.app.ui.screen.enroll.components.FingerprintEnrollmentScreen
---import com.example.figerprintconsole.app.ui.screen.enroll.state.EnrollmentState
--+import com.example.figerprintconsole.app.ui.screen.enroll.event.EnrollScreenEvent
-- 
-- @Composable
-- fun StartEnrollmentProcess(
---    onCompleteEnrollment: () -> Unit
--+    onCompleteEnrollment: () -> Unit,
--+    viewModel: EnrollmentViewModel = hiltViewModel()
-- ) {
---    var currentStateStep by remember { mutableIntStateOf(0) }
---    var state by remember { mutableStateOf(EnrollmentState()) }
-- 
---    LaunchedEffect(key1 = currentStateStep) {
---
---        if(currentStateStep == state.totalSteps) {
---            state = state.copy(
---                isCompleted = true,
---                currentStep = currentStateStep,
---                enrollmentProgress = 1f,
---                enrollmentMessage = "Enrollment successful!"
---            )
---        } else {
---            state = state.copy(
---                currentStep = currentStateStep,
---                enrollmentProgress = (currentStateStep) * 0.25f,
---                enrollmentMessage = "Scanning... ${(currentStateStep) * 25}%"
---            )
---        }
---    }
--+    // These two values changes together -> cause 2 recomposition -> Fix in later version!
--+    val currentUiState by viewModel.currentUiState.collectAsState()
--+    val currentStateData by viewModel.currentStateData.collectAsState()
-- 
--     FingerprintEnrollmentScreen(
---        state = state,
---        onStartEnrollment = {
---            state = state.copy(isEnrolling = true)
---            currentStateStep = (currentStateStep + 1).coerceAtMost(state.totalSteps) // max(a, b)
---        },
---        onRetry = { state = EnrollmentState() },
--+        uiState = currentUiState,
--+        stateData = currentStateData,
--+        onStartEnrollment = { viewModel.onEvent(EnrollScreenEvent.UserInput) },
--+        onRetry = { viewModel.onEvent(EnrollScreenEvent.IDLE) },
--         onComplete = {
---            if(currentStateStep >= state.totalSteps) onCompleteEnrollment()
---            currentStateStep += 1
---        }
--+            // Level 2 & 3 are only updated within viewmodel, currently the business logic is inside UI!!
--+            // Fix as soon / or after connecting the Websocket!!
--+            viewModel.onEvent(EnrollScreenEvent.LevelUp)
--+                     },
--+        onCompleteEnrollment = onCompleteEnrollment
--     )
-- }
--\ No newline at end of file
--diff --git a/app/src/main/java/com/example/figerprintconsole/app/ui/screen/enroll/components/EnrollmentActionOne.kt b/app/src/main/java/com/example/figerprintconsole/app/ui/screen/enroll/components/EnrollmentActionOne.kt
--index 7d03832..4685c5d 100644
----- a/app/src/main/java/com/example/figerprintconsole/app/ui/screen/enroll/components/EnrollmentActionOne.kt
--+++ b/app/src/main/java/com/example/figerprintconsole/app/ui/screen/enroll/components/EnrollmentActionOne.kt
--@@ -3,8 +3,9 @@ package com.example.figerprintconsole.app.ui.screen.enroll.components
-- import androidx.compose.foundation.layout.Arrangement
-- import androidx.compose.foundation.layout.Column
-- import androidx.compose.foundation.layout.Row
---import androidx.compose.foundation.layout.Spacer
-- import androidx.compose.foundation.layout.fillMaxWidth
--+import androidx.compose.foundation.rememberScrollState
--+import androidx.compose.foundation.verticalScroll
-- import androidx.compose.material3.Button
-- import androidx.compose.material3.MaterialTheme
-- import androidx.compose.material3.OutlinedButton
--@@ -16,18 +17,25 @@ import androidx.compose.ui.text.font.FontWeight
-- import androidx.compose.ui.unit.dp
-- import androidx.compose.ui.unit.sp
-- import com.example.figerprintconsole.app.domain.model.NewEnrollUser
--+import com.example.figerprintconsole.app.ui.screen.enroll.state.EnrollmentScreenState
-- import com.example.figerprintconsole.app.ui.screen.enroll.state.EnrollmentState
-- 
-- @Composable
-- fun EnrollmentActionOne(
--+    uiState: EnrollmentScreenState,
--     state: EnrollmentState,
--     onRetry: () -> Unit,
--     onComplete: () -> Unit,
--     newUser: NewEnrollUser,
--     onInputChanged: (NewEnrollUser) -> Unit
-- ) {
---    Column(verticalArrangement = Arrangement.spacedBy(12.dp)) {
--+    Column(
--+        verticalArrangement = Arrangement.spacedBy(12.dp),
--+        modifier = Modifier.verticalScroll(rememberScrollState()),
--+    ) {
-- 
--+        // These data need to be validated && Must be stored in viewModel temporarly..!!
--+        // Otherwise there will be some side-effects!
--         OutlinedTextField(
--             value = newUser.name,
--             onValueChange = { onInputChanged(newUser.copy(name = it)) },
--@@ -72,8 +80,6 @@ fun EnrollmentActionOne(
--             readOnly = true
--         )
-- 
---        Spacer(modifier = Modifier.weight(1f))
---
--         Row(
--             modifier = Modifier.fillMaxWidth(),
--             horizontalArrangement = Arrangement.spacedBy(16.dp)
--diff --git a/app/src/main/java/com/example/figerprintconsole/app/ui/screen/enroll/components/EnrollmentActionTwo.kt b/app/src/main/java/com/example/figerprintconsole/app/ui/screen/enroll/components/EnrollmentActionTwo.kt
--index 76246e9..7ef0b83 100644
----- a/app/src/main/java/com/example/figerprintconsole/app/ui/screen/enroll/components/EnrollmentActionTwo.kt
--+++ b/app/src/main/java/com/example/figerprintconsole/app/ui/screen/enroll/components/EnrollmentActionTwo.kt
--@@ -13,12 +13,14 @@ import androidx.compose.ui.Alignment
-- import androidx.compose.ui.Modifier
-- import androidx.compose.ui.text.font.FontWeight
-- import androidx.compose.ui.unit.dp
--+import com.example.figerprintconsole.app.ui.screen.enroll.state.EnrollmentScreenState
-- import com.example.figerprintconsole.app.ui.screen.enroll.state.EnrollmentState
-- import com.example.figerprintconsole.app.utils.AppConstant
-- import kotlinx.coroutines.delay
-- 
-- @Composable
-- fun EnrollmentActionTwo(
--+    uiState: EnrollmentScreenState,
--     state: EnrollmentState,
--     onRetry: () -> Unit,
--     onComplete: () -> Unit
--@@ -27,8 +29,9 @@ fun EnrollmentActionTwo(
--     // Handle Action Two and Three Collectively
--     /* The animation(Just Add a text for now) + Update State + delay(5000) / Wait Infinite(with timeout) + Check if enrolled Success */
-- 
---    // We may experience some crash if we rotate the screen for now!!
--+    // We may experience some crash if we rotate the screen for now / or Change tHEME!!
--     // I need structure like hell!!!(something i've never done before)
--+    // This business logic inside UI is dangerous!, Kindly move to viewModel!!!
--     LaunchedEffect(state) {
--         if(state.currentStep == 2) {
--             delay(4000)
--diff --git a/app/src/main/java/com/example/figerprintconsole/app/ui/screen/enroll/components/EnrollmentActions.kt b/app/src/main/java/com/example/figerprintconsole/app/ui/screen/enroll/components/EnrollmentActions.kt
--index 889bc8b..95d8a54 100644
----- a/app/src/main/java/com/example/figerprintconsole/app/ui/screen/enroll/components/EnrollmentActions.kt
--+++ b/app/src/main/java/com/example/figerprintconsole/app/ui/screen/enroll/components/EnrollmentActions.kt
--@@ -9,6 +9,8 @@ import androidx.compose.foundation.layout.fillMaxWidth
-- import androidx.compose.foundation.layout.height
-- import androidx.compose.foundation.layout.padding
-- import androidx.compose.foundation.layout.size
--+import androidx.compose.foundation.rememberScrollState
--+import androidx.compose.foundation.verticalScroll
-- import androidx.compose.material.icons.Icons
-- import androidx.compose.material.icons.filled.Check
-- import androidx.compose.material.icons.filled.PersonAdd
--@@ -23,31 +25,34 @@ import androidx.compose.ui.Modifier
-- import androidx.compose.ui.text.font.FontWeight
-- import androidx.compose.ui.unit.dp
-- import androidx.compose.ui.unit.sp
--+import com.example.figerprintconsole.app.ui.screen.enroll.state.EnrollmentScreenState
-- import com.example.figerprintconsole.app.ui.screen.enroll.state.EnrollmentState
--+import com.example.figerprintconsole.app.utils.AppConstant
-- 
-- @Composable
-- fun EnrollmentActions(
--+    uiState: EnrollmentScreenState,
--     state: EnrollmentState,
--     onStartEnrollment: () -> Unit,
--     onRetry: () -> Unit,
---    onComplete: () -> Unit
--+    onComplete: () -> Unit,
--+    onCompleteEnrollment: () -> Unit,
-- ) {
--     Column(
--         modifier = Modifier
--             .fillMaxSize() // take full screen
---            .padding(16.dp)
--     ) {
--         // Status Section (takes remaining space)
--         Column(
--             modifier = Modifier
---                .weight(1f) // fills available vertical space
--+                .weight(1f)
--                 .fillMaxWidth(),
--             verticalArrangement = Arrangement.Center,
--             horizontalAlignment = Alignment.CenterHorizontally
--         ) {
---            when {
--+            when(uiState) {
--                 // Add the current UI State -> Success / Failed
---                state.isCompleted -> {
--+                is EnrollmentScreenState.Completed -> {
--                     Icon(
--                         imageVector = Icons.Default.Check,
--                         contentDescription = "Completed",
--@@ -62,7 +67,8 @@ fun EnrollmentActions(
--                     )
--                 }
-- 
---                !state.isEnrolling -> {
--+                is EnrollmentScreenState.IDLE -> {
--+                    AppConstant.debugMessage("The State is IDLE @ Enrollment Actions...")
--                     Icon(
--                         imageVector = Icons.Default.PersonAdd,
--                         contentDescription = "Start Enrollment",
--@@ -76,17 +82,16 @@ fun EnrollmentActions(
--                         fontWeight = FontWeight.SemiBold
--                     )
--                 }
--+                else -> { }
--             }
--         }
-- 
---        Spacer(modifier = Modifier.weight(1f))
---
--         // Buttons Row
--         Row(
--             modifier = Modifier.fillMaxWidth(),
--             horizontalArrangement = Arrangement.spacedBy(16.dp)
--         ) {
---            if (!state.isCompleted && !state.isEnrolling) {
--+            if (uiState == EnrollmentScreenState.IDLE) {
--                 Button(
--                     onClick = onStartEnrollment,
--                     modifier = Modifier.weight(1f),
--@@ -101,9 +106,9 @@ fun EnrollmentActions(
--                 }
--             }
-- 
---            if (state.isCompleted) {
--+            if (uiState == EnrollmentScreenState.Completed) {
--                 Button(
---                    onClick = onComplete,
--+                    onClick = onCompleteEnrollment,
--                     modifier = Modifier.weight(1f),
--                     shape = MaterialTheme.shapes.large
--                 ) {
--diff --git a/app/src/main/java/com/example/figerprintconsole/app/ui/screen/enroll/components/EnrollmentHeader.kt b/app/src/main/java/com/example/figerprintconsole/app/ui/screen/enroll/components/EnrollmentHeader.kt
--index 86acf9f..e370fb8 100644
----- a/app/src/main/java/com/example/figerprintconsole/app/ui/screen/enroll/components/EnrollmentHeader.kt
--+++ b/app/src/main/java/com/example/figerprintconsole/app/ui/screen/enroll/components/EnrollmentHeader.kt
--@@ -6,10 +6,12 @@ import androidx.compose.material3.MaterialTheme
-- import androidx.compose.runtime.Composable
-- import androidx.compose.ui.Alignment
-- import androidx.compose.ui.text.font.FontWeight
--+import com.example.figerprintconsole.app.ui.screen.enroll.state.EnrollmentScreenState
-- import com.example.figerprintconsole.app.ui.screen.enroll.state.EnrollmentState
-- 
-- @Composable
-- fun EnrollmentHeader(
--+    uiState: EnrollmentScreenState,
--     state: EnrollmentState
-- ) {
--     Column(
--@@ -17,9 +19,9 @@ fun EnrollmentHeader(
--     ) {
-- 
--         val text = if(state.isCompleted) {
---            "Enrollment Complete!"// + state.enrollmentMessage + "Step: ${state.currentStep}"
--+            "Enrollment Complete!" //+ uiState.toString() // + state.enrollmentMessage + "Step: ${state.currentStep}"
--         } else {
---            "Fingerprint Enrollment"// + state.enrollmentMessage + "Step: ${state.currentStep}"
--+            "Fingerprint Enrollment" //+ uiState.toString()// + state.enrollmentMessage + "Step: ${state.currentStep}"
--         }
-- 
--         // Show Header
--diff --git a/app/src/main/java/com/example/figerprintconsole/app/ui/screen/enroll/components/EnrollmentProgressSection.kt b/app/src/main/java/com/example/figerprintconsole/app/ui/screen/enroll/components/EnrollmentProgressSection.kt
--index e1080e9..000cca5 100644
----- a/app/src/main/java/com/example/figerprintconsole/app/ui/screen/enroll/components/EnrollmentProgressSection.kt
--+++ b/app/src/main/java/com/example/figerprintconsole/app/ui/screen/enroll/components/EnrollmentProgressSection.kt
--@@ -47,7 +47,7 @@ fun EnrollmentProgressSection(
-- 
--             // Current Instruction
--             Text(
---                text = UtilsEnrollScreen.getStepInstruction(state.currentStep, state.isEnrolling),
--+                text = UtilsEnrollScreen.getStepInstruction(state.currentStep, state.isEnrolling, state.isCompleted),
--                 style = MaterialTheme.typography.bodyLarge,
--                 color = MaterialTheme.colorScheme.onSurface,
--                 textAlign = TextAlign.Center,
--diff --git a/app/src/main/java/com/example/figerprintconsole/app/ui/screen/enroll/components/FingerprintEnrollmentScreen.kt b/app/src/main/java/com/example/figerprintconsole/app/ui/screen/enroll/components/FingerprintEnrollmentScreen.kt
--index 48f671c..72d0294 100644
----- a/app/src/main/java/com/example/figerprintconsole/app/ui/screen/enroll/components/FingerprintEnrollmentScreen.kt
--+++ b/app/src/main/java/com/example/figerprintconsole/app/ui/screen/enroll/components/FingerprintEnrollmentScreen.kt
--@@ -14,14 +14,19 @@ import androidx.compose.ui.Modifier
-- import androidx.compose.ui.unit.dp
-- import com.example.figerprintconsole.app.domain.model.NewEnrollUser
-- import com.example.figerprintconsole.app.ui.enroll.components.ErrorMessage
--+import com.example.figerprintconsole.app.ui.screen.enroll.state.EnrollmentScreenState
-- import com.example.figerprintconsole.app.ui.screen.enroll.state.EnrollmentState
--+import com.example.figerprintconsole.app.utils.AppConstant
--+import com.example.figerprintconsole.app.utils.DebugType
-- 
-- @Composable
-- fun FingerprintEnrollmentScreen(
---    state: EnrollmentState,
--+    uiState: EnrollmentScreenState,
--+    stateData: EnrollmentState,
--     onStartEnrollment: () -> Unit,
--     onRetry: () -> Unit,
--     onComplete: () -> Unit,
--+    onCompleteEnrollment: () -> Unit,
--     modifier: Modifier = Modifier
-- ) {
--     Surface(
--@@ -32,35 +37,40 @@ fun FingerprintEnrollmentScreen(
--             modifier = Modifier
--                 .fillMaxSize()
--                 .padding(24.dp),
---            horizontalAlignment = Alignment.CenterHorizontally
--+            horizontalAlignment = Alignment.CenterHorizontally,
--         ) {
--             // Title section
---            EnrollmentHeader(state)
--+            EnrollmentHeader(uiState, stateData)
-- 
--             Spacer(modifier = Modifier.height(48.dp))
-- 
--             // Progress and instruction
---            EnrollmentProgressSection(state)
--+            EnrollmentProgressSection(stateData)
-- 
--             Spacer(modifier = Modifier.height(32.dp))
-- 
--             // Enrollment actions -> handles start and stop
--             // EnrollmentActionOne -> handles
-- 
---            when {
---                (!state.isEnrolling) -> {
---                    // This is most likely to call onStartEnrollment
--+            AppConstant.debugMessage("Current UiState: $uiState && data: $stateData")
--+            when(uiState) {
--+                is EnrollmentScreenState.IDLE -> {
--+                    // Call onStartEnrollment
--                     EnrollmentActions(
---                        state = state,
--+                        uiState = uiState,
--+                        state = stateData,
--                         onStartEnrollment = onStartEnrollment,
--                         onRetry = onRetry,
---                        onComplete = onComplete
--+                        onComplete = onComplete,
--+                        onCompleteEnrollment = onCompleteEnrollment
--                     )
--                 }
-- 
---                (state.currentStep == 1) -> {
--+                is EnrollmentScreenState.UserInput -> {
--+                    AppConstant.debugMessage("The UserInput is been rendered!", debugType = DebugType.DESCRIPTION)
--                     EnrollmentActionOne(
---                        state = state,
--+                        uiState = uiState,
--+                        state = stateData,
--                         onRetry = onRetry,
--                         onComplete = onComplete,
--                         newUser = NewEnrollUser(),
--@@ -68,26 +78,36 @@ fun FingerprintEnrollmentScreen(
--                     )
--                 }
-- 
---                (state.currentStep == 2 || state.currentStep == 3) -> {
--+                is EnrollmentScreenState.EnrollingStepOne, EnrollmentScreenState.EnrollingStepTwo -> {
--                     EnrollmentActionTwo(
---                        state = state,
--+                        uiState = uiState,
--+                        state = stateData,
--                         onRetry = onRetry,
--                         onComplete = onComplete
--                     )
--                 }
-- 
---                (state.currentStep == 4) -> {
--+                is EnrollmentScreenState.Verifying -> {
--+                    // level up
--+                    // No Verification for now!
--+                    onComplete()
--+                }
--+
--+                is EnrollmentScreenState.Completed -> {
--                     EnrollmentActions(
---                        state = state,
--+                        uiState = uiState,
--+                        state = stateData,
--                         onStartEnrollment = onStartEnrollment,
--                         onRetry = onRetry,
---                        onComplete = onComplete
--+                        onComplete = onComplete,
--+                        onCompleteEnrollment = onCompleteEnrollment
--                     )
--                 }
--+                else -> { }
--             }
-- 
--             // Error message if any
---            state.errorMessage?.let {
--+            stateData.errorMessage?.let {
--                 Spacer(modifier = Modifier.height(16.dp))
--                 ErrorMessage(it)
--             }
--diff --git a/app/src/main/java/com/example/figerprintconsole/app/ui/screen/enroll/event/EnrollScreenEvent.kt b/app/src/main/java/com/example/figerprintconsole/app/ui/screen/enroll/event/EnrollScreenEvent.kt
--index d2fde5e..7566227 100644
----- a/app/src/main/java/com/example/figerprintconsole/app/ui/screen/enroll/event/EnrollScreenEvent.kt
--+++ b/app/src/main/java/com/example/figerprintconsole/app/ui/screen/enroll/event/EnrollScreenEvent.kt
--@@ -1,7 +1,13 @@
-- package com.example.figerprintconsole.app.ui.screen.enroll.event
-- 
---import com.example.figerprintconsole.app.domain.model.NewEnrollUser
---
-- sealed class EnrollScreenEvent {
---
--+    object LevelUp: EnrollScreenEvent()
--+    object IDLE: EnrollScreenEvent()
--+    object UserInput: EnrollScreenEvent()
--+    object EnrollingStepOne: EnrollScreenEvent()
--+    object EnrollingStepTwo: EnrollScreenEvent()
--+    object Verifying: EnrollScreenEvent()
--+    object Completed: EnrollScreenEvent()
--+    object CANCEL: EnrollScreenEvent()
--+    data class Error(val message: String?): EnrollScreenEvent()
-- }
--\ No newline at end of file
--diff --git a/app/src/main/java/com/example/figerprintconsole/app/ui/screen/enroll/state/EnrollmentScreenState.kt b/app/src/main/java/com/example/figerprintconsole/app/ui/screen/enroll/state/EnrollmentScreenState.kt
--index 9177713..ce56ebd 100644
----- a/app/src/main/java/com/example/figerprintconsole/app/ui/screen/enroll/state/EnrollmentScreenState.kt
--+++ b/app/src/main/java/com/example/figerprintconsole/app/ui/screen/enroll/state/EnrollmentScreenState.kt
--@@ -1,12 +1,11 @@
-- package com.example.figerprintconsole.app.ui.screen.enroll.state
-- 
---import com.example.figerprintconsole.app.domain.model.NewEnrollUser
---
-- sealed class EnrollmentScreenState {
---    object Initial
---    data class UserInput(val userData: NewEnrollUser): EnrollmentScreenState()
---    object FingerprintScan: EnrollmentScreenState()
---    object FingerprintScanAgain: EnrollmentScreenState()
---    object Completed: EnrollmentScreenState()
---    data class Error(val message: String) : EnrollmentScreenState()
--+        object IDLE: EnrollmentScreenState()
--+        object UserInput: EnrollmentScreenState()
--+        object EnrollingStepOne: EnrollmentScreenState()
--+        object EnrollingStepTwo: EnrollmentScreenState()
--+        object Verifying: EnrollmentScreenState()
--+        object Completed: EnrollmentScreenState()
--+        data class Error(val message: String?): EnrollmentScreenState()
-- }
--\ No newline at end of file
--diff --git a/app/src/main/java/com/example/figerprintconsole/app/ui/screen/enroll/tests/TestEnrollmentActions.kt b/app/src/main/java/com/example/figerprintconsole/app/ui/screen/enroll/tests/TestEnrollmentActions.kt
--index d241c6e..79553b7 100644
----- a/app/src/main/java/com/example/figerprintconsole/app/ui/screen/enroll/tests/TestEnrollmentActions.kt
--+++ b/app/src/main/java/com/example/figerprintconsole/app/ui/screen/enroll/tests/TestEnrollmentActions.kt
--@@ -1,13 +1,15 @@
---package com.example.figerprintconsole.app.ui.enroll.tests
--+package com.example.figerprintconsole.app.ui.screen.enroll.tests
-- 
-- import androidx.compose.runtime.Composable
-- import androidx.compose.ui.tooling.preview.Preview
-- import com.example.figerprintconsole.app.ui.screen.enroll.components.EnrollmentActions
--+import com.example.figerprintconsole.app.ui.screen.enroll.state.EnrollmentScreenState
-- import com.example.figerprintconsole.app.ui.screen.enroll.state.EnrollmentState
-- 
-- @Preview(showBackground = true)
-- @Composable
-- fun TestEnrollmentActions() {
--     val state = EnrollmentState()
---    EnrollmentActions(state, {}, {}, {})
--+    val uiState = EnrollmentScreenState.IDLE
--+    EnrollmentActions(uiState, state, {}, {}, {}, {})
-- }
--\ No newline at end of file
--diff --git a/app/src/main/java/com/example/figerprintconsole/app/ui/screen/enroll/tests/TestEnrollmentHeader.kt b/app/src/main/java/com/example/figerprintconsole/app/ui/screen/enroll/tests/TestEnrollmentHeader.kt
--index 23f231a..a01433b 100644
----- a/app/src/main/java/com/example/figerprintconsole/app/ui/screen/enroll/tests/TestEnrollmentHeader.kt
--+++ b/app/src/main/java/com/example/figerprintconsole/app/ui/screen/enroll/tests/TestEnrollmentHeader.kt
--@@ -3,12 +3,14 @@ package com.example.figerprintconsole.app.ui.enroll.tests
-- import androidx.compose.runtime.Composable
-- import androidx.compose.ui.tooling.preview.Preview
-- import com.example.figerprintconsole.app.ui.screen.enroll.components.EnrollmentHeader
--+import com.example.figerprintconsole.app.ui.screen.enroll.state.EnrollmentScreenState
-- import com.example.figerprintconsole.app.ui.screen.enroll.state.EnrollmentState
-- 
-- @Preview(showBackground = true)
-- @Composable
-- fun TestEnrollmentHeader() {
--+    val uiState = EnrollmentScreenState.IDLE
--     val state = EnrollmentState()
-- 
---    EnrollmentHeader(state)
--+    EnrollmentHeader(uiState, state)
-- }
--\ No newline at end of file
--diff --git a/app/src/main/java/com/example/figerprintconsole/app/ui/screen/enroll/tests/TestFingerprintEnrollment.kt b/app/src/main/java/com/example/figerprintconsole/app/ui/screen/enroll/tests/TestFingerprintEnrollment.kt
--index 5d5aace..d068211 100644
----- a/app/src/main/java/com/example/figerprintconsole/app/ui/screen/enroll/tests/TestFingerprintEnrollment.kt
--+++ b/app/src/main/java/com/example/figerprintconsole/app/ui/screen/enroll/tests/TestFingerprintEnrollment.kt
--@@ -12,41 +12,41 @@ import com.example.figerprintconsole.app.ui.screen.enroll.components.Fingerprint
-- import com.example.figerprintconsole.app.ui.screen.enroll.state.EnrollmentState
-- import kotlinx.coroutines.delay
-- 
---@Preview(showBackground = true, showSystemUi = true)
---@Composable
---fun TestFingerprintEnrollmentScreen() {
---    MaterialTheme {
---        var state by remember { mutableStateOf(EnrollmentState()) }
---
---        LaunchedEffect(key1 = state.isEnrolling) {
---            if (state.isEnrolling && state.enrollmentProgress < 1f) {
---                repeat(4) { step ->
---                    state = state.copy(
---                        enrollmentMessage = "Scanning... ${(step + 1) * 25}%",
---                        currentStep = step + 1,
---                        enrollmentProgress = (step + 1) * 0.25f
---                    )
---                    delay(4000)
---                }
---                state = state.copy(
---                    isCompleted = true,
---                    enrollmentProgress = 1f,
---                    enrollmentMessage = "Enrollment successful!"
---                )
---            }
---        }
---
---        FingerprintEnrollmentScreen(
---            state = state,
---            onStartEnrollment = {
---                state = state.copy(isEnrolling = true)
---            },
---            onRetry = {
---                state = EnrollmentState()
---            },
---            onComplete = {
---                // Handle completion
---            }
---        )
---    }
---}
--\ No newline at end of file
--+//@Preview(showBackground = true, showSystemUi = true)
--+//@Composable
--+//fun TestFingerprintEnrollmentScreen() {
--+//    MaterialTheme {
--+//        var state by remember { mutableStateOf(EnrollmentState()) }
--+//
--+//        LaunchedEffect(key1 = state.isEnrolling) {
--+//            if (state.isEnrolling && state.enrollmentProgress < 1f) {
--+//                repeat(4) { step ->
--+//                    state = state.copy(
--+//                        enrollmentMessage = "Scanning... ${(step + 1) * 25}%",
--+//                        currentStep = step + 1,
--+//                        enrollmentProgress = (step + 1) * 0.25f
--+//                    )
--+//                    delay(4000)
--+//                }
--+//                state = state.copy(
--+//                    isCompleted = true,
--+//                    enrollmentProgress = 1f,
--+//                    enrollmentMessage = "Enrollment successful!"
--+//                )
--+//            }
--+//        }
--+//
--+//        FingerprintEnrollmentScreen(
--+//            state = state,
--+//            onStartEnrollment = {
--+//                state = state.copy(isEnrolling = true)
--+//            },
--+//            onRetry = {
--+//                state = EnrollmentState()
--+//            },
--+//            onComplete = {
--+//                // Handle completion
--+//            }
--+//        )
--+//    }
--+//}
--\ No newline at end of file
--diff --git a/app/src/main/java/com/example/figerprintconsole/app/ui/screen/enroll/utils/UtilsEnrollScreen.kt b/app/src/main/java/com/example/figerprintconsole/app/ui/screen/enroll/utils/UtilsEnrollScreen.kt
--index a7026b0..939f5cc 100644
----- a/app/src/main/java/com/example/figerprintconsole/app/ui/screen/enroll/utils/UtilsEnrollScreen.kt
--+++ b/app/src/main/java/com/example/figerprintconsole/app/ui/screen/enroll/utils/UtilsEnrollScreen.kt
--@@ -2,13 +2,14 @@ package com.example.figerprintconsole.app.ui.screen.enroll.utils
-- 
-- // Helper function for step instructions
-- object UtilsEnrollScreen {
---    fun getStepInstruction(step: Int, isEnrolling: Boolean): String {
--+    fun getStepInstruction(step: Int, isEnrolling: Boolean, isCompleted: Boolean): String {
--         return when {
--+            isCompleted -> "User Enrolled!"
--             !isEnrolling -> "Press Start to Enroll New User"
--             step == 1 -> "Enter User Information"
--             step == 2 -> "Place your finger on the fingerprint sensor"
--             step == 3 -> "Lift and place your finger again"
---            step == 4 -> "Enrolled Success"
--+            step == 4 -> "Verify"
--             else -> "Error While Enrolling New User"
--         }
--     }
--diff --git a/app/src/main/java/com/example/figerprintconsole/app/ui/screen/home/components/DashboardBottomNav.kt b/app/src/main/java/com/example/figerprintconsole/app/ui/screen/home/components/DashboardBottomNav.kt
--index fa81179..ef9731e 100644
----- a/app/src/main/java/com/example/figerprintconsole/app/ui/screen/home/components/DashboardBottomNav.kt
--+++ b/app/src/main/java/com/example/figerprintconsole/app/ui/screen/home/components/DashboardBottomNav.kt
--@@ -1,4 +1,4 @@
---package com.example.figerprintconsole.app.ui.home.components
--+package com.example.figerprintconsole.app.ui.screen.home.components
-- 
-- import androidx.compose.material.icons.Icons
-- import androidx.compose.material.icons.filled.Dashboard
--diff --git a/app/src/main/java/com/example/figerprintconsole/app/ui/screen/home/tests/TestDashboardBottomNav.kt b/app/src/main/java/com/example/figerprintconsole/app/ui/screen/home/tests/TestDashboardBottomNav.kt
--index 2b70497..222dd1e 100644
----- a/app/src/main/java/com/example/figerprintconsole/app/ui/screen/home/tests/TestDashboardBottomNav.kt
--+++ b/app/src/main/java/com/example/figerprintconsole/app/ui/screen/home/tests/TestDashboardBottomNav.kt
--@@ -2,7 +2,7 @@ package com.example.figerprintconsole.app.ui.home.tests
-- 
-- import androidx.compose.runtime.Composable
-- import androidx.compose.ui.tooling.preview.Preview
---import com.example.figerprintconsole.app.ui.home.components.DashboardBottomNav
--+import com.example.figerprintconsole.app.ui.screen.home.components.DashboardBottomNav
-- 
-- @Preview(showBackground = true)
-- @Composable
--diff --git a/project_change.txt b/project_change.txt
--index 31a9408..82c7569 100644
----- a/project_change.txt
--+++ b/project_change.txt
--@@ -1,1244 +0,0 @@
---diff --git a/app/src/main/java/com/example/figerprintconsole/app/domain/model/HomeState.kt b/app/src/main/java/com/example/figerprintconsole/app/domain/model/HomeState.kt
---index 1fa33a7..259aa27 100644
------ a/app/src/main/java/com/example/figerprintconsole/app/domain/model/HomeState.kt
---+++ b/app/src/main/java/com/example/figerprintconsole/app/domain/model/HomeState.kt
---@@ -1,4 +1,4 @@
----package com.example.figerprintconsole.app.ui.home.state
---+package com.example.figerprintconsole.app.domain.model
--- 
--- import androidx.compose.ui.graphics.Color
--- import androidx.compose.ui.graphics.vector.ImageVector
---diff --git a/app/src/main/java/com/example/figerprintconsole/app/domain/model/NewEnrollUser.kt b/app/src/main/java/com/example/figerprintconsole/app/domain/model/NewEnrollUser.kt
---index fd93119..d5a8690 100644
------ a/app/src/main/java/com/example/figerprintconsole/app/domain/model/NewEnrollUser.kt
---+++ b/app/src/main/java/com/example/figerprintconsole/app/domain/model/NewEnrollUser.kt
---@@ -1,2 +1,11 @@
----package com.example.figerprintconsole.app.domain.model 
---+package com.example.figerprintconsole.app.domain.model
--- 
---+data class NewEnrollUser(
---+    val name: String = "",
---+    val email: String = "",
---+    val employeeId: String = "",
---+    val phone: String = "",
---+    val department: String = "",
---+    val timeZone: String = "UTC",
---+    val isValid: Boolean = false
---+)
---diff --git a/app/src/main/java/com/example/figerprintconsole/app/ui/MainActivity.kt b/app/src/main/java/com/example/figerprintconsole/app/ui/MainActivity.kt
---index e289d9f..9acde99 100644
------ a/app/src/main/java/com/example/figerprintconsole/app/ui/MainActivity.kt
---+++ b/app/src/main/java/com/example/figerprintconsole/app/ui/MainActivity.kt
---@@ -3,6 +3,8 @@ package com.example.figerprintconsole.app.ui
--- import android.os.Bundle
--- import androidx.activity.compose.setContent
--- import androidx.appcompat.app.AppCompatActivity
---+import androidx.compose.runtime.getValue
---+import androidx.navigation.compose.currentBackStackEntryAsState
--- import androidx.navigation.compose.rememberNavController
--- import dagger.hilt.android.AndroidEntryPoint
--- 
---@@ -13,7 +15,9 @@ class MainActivity : AppCompatActivity() {
--- 
---         setContent {
---             val navController = rememberNavController()
----            MyAppScaffold(navController)
---+            val navBackStackEntry by navController.currentBackStackEntryAsState()
---+            val currentRoute = navBackStackEntry?.destination?.route
---+            MyAppScaffold(navController, currentRoute)
---         }
---     }
--- }
---\ No newline at end of file
---diff --git a/app/src/main/java/com/example/figerprintconsole/app/ui/MyAppScaffold.kt b/app/src/main/java/com/example/figerprintconsole/app/ui/MyAppScaffold.kt
---index 548c6be..91a0e4c 100644
------ a/app/src/main/java/com/example/figerprintconsole/app/ui/MyAppScaffold.kt
---+++ b/app/src/main/java/com/example/figerprintconsole/app/ui/MyAppScaffold.kt
---@@ -7,7 +7,6 @@ import androidx.compose.runtime.Composable
--- import androidx.compose.ui.Modifier
--- import androidx.navigation.NavHostController
--- import com.example.figerprintconsole.app.ui.home.components.DashboardBottomNav
----import com.example.figerprintconsole.app.ui.home.components.DashboardTopBar
--- import com.example.figerprintconsole.app.ui.navigation.MyAppNavHost
--- import com.example.figerprintconsole.app.ui.navigation.Route
--- 
---@@ -15,6 +14,7 @@ import com.example.figerprintconsole.app.ui.navigation.Route
--- @Composable
--- fun MyAppScaffold(
---     navController: NavHostController,
---+    currentRoute: String?,
---     modifier: Modifier = Modifier,
--- ) {
--- 
---@@ -25,6 +25,7 @@ fun MyAppScaffold(
--- 
---         bottomBar = {
---             DashboardBottomNav(
---+                currentRoute,
---                 onDashboardNavigationClick = {
---                     navController.navigate(Route.HOME_SCREEN) {
---                         popUpTo(Route.HOME_SCREEN) { inclusive = true }
---diff --git a/app/src/main/java/com/example/figerprintconsole/app/ui/navigation/MyAppNavHost.kt b/app/src/main/java/com/example/figerprintconsole/app/ui/navigation/MyAppNavHost.kt
---index fedcd79..2df473e 100644
------ a/app/src/main/java/com/example/figerprintconsole/app/ui/navigation/MyAppNavHost.kt
---+++ b/app/src/main/java/com/example/figerprintconsole/app/ui/navigation/MyAppNavHost.kt
---@@ -9,6 +9,9 @@ import androidx.navigation.compose.NavHost
--- import androidx.navigation.compose.composable
--- import com.example.figerprintconsole.app.ui.home.FingerprintDashboard
--- import com.example.figerprintconsole.app.ui.screen.devices.DeviceScreen
---+import com.example.figerprintconsole.app.ui.screen.enroll.StartEnrollmentProcess
---+import com.example.figerprintconsole.app.ui.screen.enroll.components.FingerprintEnrollmentScreen
---+import com.example.figerprintconsole.app.ui.screen.enroll.state.EnrollmentState
--- import com.example.figerprintconsole.app.ui.screen.users.UsersListScreen
--- 
--- @Composable
---@@ -38,9 +41,9 @@ fun MyAppNavHost(
---         }
--- 
---         composable(route = Route.ENROLL_SCREEN) {
----//            FingerprintEnrollmentScreen(
----//
----//            )
---+            StartEnrollmentProcess(
---+                onCompleteEnrollment = { navController.navigate(Route.USER_SCREEN) }
---+            )
---         }
--- 
---         composable(route = Route.USER_SCREEN) {
---diff --git a/app/src/main/java/com/example/figerprintconsole/app/ui/screen/devices/DevicesScreen.kt b/app/src/main/java/com/example/figerprintconsole/app/ui/screen/devices/DevicesScreen.kt
---index f6ddfb2..db18d60 100644
------ a/app/src/main/java/com/example/figerprintconsole/app/ui/screen/devices/DevicesScreen.kt
---+++ b/app/src/main/java/com/example/figerprintconsole/app/ui/screen/devices/DevicesScreen.kt
---@@ -1,26 +1,11 @@
--- package com.example.figerprintconsole.app.ui.screen.devices
--- 
----import androidx.compose.foundation.layout.Column
----import androidx.compose.foundation.layout.Row
----import androidx.compose.foundation.layout.Spacer
----import androidx.compose.foundation.layout.fillMaxWidth
----import androidx.compose.foundation.layout.padding
----import androidx.compose.foundation.layout.width
--- import androidx.compose.foundation.lazy.LazyColumn
--- import androidx.compose.foundation.lazy.items
----import androidx.compose.material3.Divider
----import androidx.compose.material3.MaterialTheme
----import androidx.compose.material3.Text
--- import androidx.compose.runtime.Composable
----import androidx.compose.ui.Alignment
----import androidx.compose.ui.Modifier
----import androidx.compose.ui.text.font.FontWeight
----import androidx.compose.ui.unit.dp
----import com.example.figerprintconsole.app.ui.home.state.DeviceStatus
----import com.example.figerprintconsole.app.ui.home.utils.HomeUtils
---+import com.example.figerprintconsole.app.domain.model.DeviceStatus
--- import com.example.figerprintconsole.app.ui.screen.devices.components.DeviceStatusRow
--- import com.example.figerprintconsole.app.ui.screen.devices.components.NoDevicesEmptyState
----import com.example.figerprintconsole.app.ui.screen.devices.components.StatusDot
--- 
--- 
--- @Composable
---diff --git a/app/src/main/java/com/example/figerprintconsole/app/ui/screen/devices/components/DeviceStatusRow.kt b/app/src/main/java/com/example/figerprintconsole/app/ui/screen/devices/components/DeviceStatusRow.kt
---index 08101d3..2758236 100644
------ a/app/src/main/java/com/example/figerprintconsole/app/ui/screen/devices/components/DeviceStatusRow.kt
---+++ b/app/src/main/java/com/example/figerprintconsole/app/ui/screen/devices/components/DeviceStatusRow.kt
---@@ -14,7 +14,7 @@ import androidx.compose.ui.Alignment
--- import androidx.compose.ui.Modifier
--- import androidx.compose.ui.text.font.FontWeight
--- import androidx.compose.ui.unit.dp
----import com.example.figerprintconsole.app.ui.home.state.DeviceStatus
---+import com.example.figerprintconsole.app.domain.model.DeviceStatus
--- import com.example.figerprintconsole.app.ui.home.utils.HomeUtils
--- 
--- 
---diff --git a/app/src/main/java/com/example/figerprintconsole/app/ui/screen/enroll/StartEnrollmentProcess.kt b/app/src/main/java/com/example/figerprintconsole/app/ui/screen/enroll/StartEnrollmentProcess.kt
---index cd2775e..cfe8353 100644
------ a/app/src/main/java/com/example/figerprintconsole/app/ui/screen/enroll/StartEnrollmentProcess.kt
---+++ b/app/src/main/java/com/example/figerprintconsole/app/ui/screen/enroll/StartEnrollmentProcess.kt
---@@ -1,4 +1,50 @@
--- package com.example.figerprintconsole.app.ui.screen.enroll
--- 
----class StartEnrollmentProcess {
---+import androidx.compose.runtime.Composable
---+import androidx.compose.runtime.LaunchedEffect
---+import androidx.compose.runtime.getValue
---+import androidx.compose.runtime.mutableIntStateOf
---+import androidx.compose.runtime.mutableStateOf
---+import androidx.compose.runtime.remember
---+import androidx.compose.runtime.setValue
---+import com.example.figerprintconsole.app.ui.screen.enroll.components.FingerprintEnrollmentScreen
---+import com.example.figerprintconsole.app.ui.screen.enroll.state.EnrollmentState
---+
---+@Composable
---+fun StartEnrollmentProcess(
---+    onCompleteEnrollment: () -> Unit
---+) {
---+    var currentStateStep by remember { mutableIntStateOf(0) }
---+    var state by remember { mutableStateOf(EnrollmentState()) }
---+
---+    LaunchedEffect(key1 = currentStateStep) {
---+
---+        if(currentStateStep == state.totalSteps) {
---+            state = state.copy(
---+                isCompleted = true,
---+                currentStep = currentStateStep,
---+                enrollmentProgress = 1f,
---+                enrollmentMessage = "Enrollment successful!"
---+            )
---+        } else {
---+            state = state.copy(
---+                currentStep = currentStateStep,
---+                enrollmentProgress = (currentStateStep) * 0.25f,
---+                enrollmentMessage = "Scanning... ${(currentStateStep) * 25}%"
---+            )
---+        }
---+    }
---+
---+    FingerprintEnrollmentScreen(
---+        state = state,
---+        onStartEnrollment = {
---+            state = state.copy(isEnrolling = true)
---+            currentStateStep = (currentStateStep + 1).coerceAtMost(state.totalSteps) // max(a, b)
---+        },
---+        onRetry = { state = EnrollmentState() },
---+        onComplete = {
---+            if(currentStateStep >= state.totalSteps) onCompleteEnrollment()
---+            currentStateStep += 1
---+        }
---+    )
--- }
---\ No newline at end of file
---diff --git a/app/src/main/java/com/example/figerprintconsole/app/ui/screen/enroll/components/EnrollmentActionOne.kt b/app/src/main/java/com/example/figerprintconsole/app/ui/screen/enroll/components/EnrollmentActionOne.kt
---index 528ccd6..7d03832 100644
------ a/app/src/main/java/com/example/figerprintconsole/app/ui/screen/enroll/components/EnrollmentActionOne.kt
---+++ b/app/src/main/java/com/example/figerprintconsole/app/ui/screen/enroll/components/EnrollmentActionOne.kt
---@@ -1,4 +1,105 @@
--- package com.example.figerprintconsole.app.ui.screen.enroll.components
--- 
----class EnrollmentActionOne {
----}
---\ No newline at end of file
---+import androidx.compose.foundation.layout.Arrangement
---+import androidx.compose.foundation.layout.Column
---+import androidx.compose.foundation.layout.Row
---+import androidx.compose.foundation.layout.Spacer
---+import androidx.compose.foundation.layout.fillMaxWidth
---+import androidx.compose.material3.Button
---+import androidx.compose.material3.MaterialTheme
---+import androidx.compose.material3.OutlinedButton
---+import androidx.compose.material3.OutlinedTextField
---+import androidx.compose.material3.Text
---+import androidx.compose.runtime.Composable
---+import androidx.compose.ui.Modifier
---+import androidx.compose.ui.text.font.FontWeight
---+import androidx.compose.ui.unit.dp
---+import androidx.compose.ui.unit.sp
---+import com.example.figerprintconsole.app.domain.model.NewEnrollUser
---+import com.example.figerprintconsole.app.ui.screen.enroll.state.EnrollmentState
---+
---+@Composable
---+fun EnrollmentActionOne(
---+    state: EnrollmentState,
---+    onRetry: () -> Unit,
---+    onComplete: () -> Unit,
---+    newUser: NewEnrollUser,
---+    onInputChanged: (NewEnrollUser) -> Unit
---+) {
---+    Column(verticalArrangement = Arrangement.spacedBy(12.dp)) {
---+
---+        OutlinedTextField(
---+            value = newUser.name,
---+            onValueChange = { onInputChanged(newUser.copy(name = it)) },
---+            label = { Text("Name") },
---+            modifier = Modifier.fillMaxWidth()
---+        )
---+
---+        OutlinedTextField(
---+            value = newUser.email,
---+            onValueChange = { onInputChanged(newUser.copy(email = it)) },
---+            label = { Text("Email") },
---+            modifier = Modifier.fillMaxWidth()
---+        )
---+
---+        OutlinedTextField(
---+            value = newUser.employeeId,
---+            onValueChange = { onInputChanged(newUser.copy(employeeId = it)) },
---+            label = { Text("Employee ID") },
---+            modifier = Modifier.fillMaxWidth()
---+        )
---+
---+        OutlinedTextField(
---+            value = newUser.phone,
---+            onValueChange = { onInputChanged(newUser.copy(phone = it)) },
---+            label = { Text("Phone") },
---+            modifier = Modifier.fillMaxWidth()
---+        )
---+
---+        OutlinedTextField(
---+            value = newUser.department,
---+            onValueChange = { onInputChanged(newUser.copy(department = it)) },
---+            label = { Text("Department") },
---+            modifier = Modifier.fillMaxWidth()
---+        )
---+
---+        // TimeZone (simple version for now)
---+        OutlinedTextField(
---+            value = newUser.timeZone,
---+            onValueChange = { onInputChanged(newUser.copy(timeZone = it)) },
---+            label = { Text("Time Zone") },
---+            modifier = Modifier.fillMaxWidth(),
---+            readOnly = true
---+        )
---+
---+        Spacer(modifier = Modifier.weight(1f))
---+
---+        Row(
---+            modifier = Modifier.fillMaxWidth(),
---+            horizontalArrangement = Arrangement.spacedBy(16.dp)
---+        ) {
---+            Button(
---+                onClick = onComplete,
---+                modifier = Modifier.weight(1f),
---+                shape = MaterialTheme.shapes.large,
---+                enabled = true
---+            ) {
---+                Text(
---+                    text = "Continue",
---+                    fontSize = 16.sp,
---+                    fontWeight = FontWeight.SemiBold
---+                )
---+            }
---+
---+            if (state.errorMessage != null) {
---+                OutlinedButton(
---+                    onClick = onRetry,
---+                    modifier = Modifier.weight(1f),
---+                    shape = MaterialTheme.shapes.large
---+                ) {
---+                    Text("Retry")
---+                }
---+            }
---+        }
---+    }
---+}
---diff --git a/app/src/main/java/com/example/figerprintconsole/app/ui/screen/enroll/components/EnrollmentActionTwo.kt b/app/src/main/java/com/example/figerprintconsole/app/ui/screen/enroll/components/EnrollmentActionTwo.kt
---index 7a879c1..76246e9 100644
------ a/app/src/main/java/com/example/figerprintconsole/app/ui/screen/enroll/components/EnrollmentActionTwo.kt
---+++ b/app/src/main/java/com/example/figerprintconsole/app/ui/screen/enroll/components/EnrollmentActionTwo.kt
---@@ -1,4 +1,51 @@
--- package com.example.figerprintconsole.app.ui.screen.enroll.components
--- 
----class EnrollmentActionTwo {
---+import androidx.compose.foundation.layout.Arrangement
---+import androidx.compose.foundation.layout.Column
---+import androidx.compose.foundation.layout.fillMaxSize
---+import androidx.compose.foundation.layout.fillMaxWidth
---+import androidx.compose.material3.CircularProgressIndicator
---+import androidx.compose.material3.MaterialTheme
---+import androidx.compose.material3.Text
---+import androidx.compose.runtime.Composable
---+import androidx.compose.runtime.LaunchedEffect
---+import androidx.compose.ui.Alignment
---+import androidx.compose.ui.Modifier
---+import androidx.compose.ui.text.font.FontWeight
---+import androidx.compose.ui.unit.dp
---+import com.example.figerprintconsole.app.ui.screen.enroll.state.EnrollmentState
---+import com.example.figerprintconsole.app.utils.AppConstant
---+import kotlinx.coroutines.delay
---+
---+@Composable
---+fun EnrollmentActionTwo(
---+    state: EnrollmentState,
---+    onRetry: () -> Unit,
---+    onComplete: () -> Unit
---+) {
---+
---+    // Handle Action Two and Three Collectively
---+    /* The animation(Just Add a text for now) + Update State + delay(5000) / Wait Infinite(with timeout) + Check if enrolled Success */
---+
---+    // We may experience some crash if we rotate the screen for now!!
---+    // I need structure like hell!!!(something i've never done before)
---+    LaunchedEffect(state) {
---+        if(state.currentStep == 2) {
---+            delay(4000)
---+            onComplete()
---+        }
---+        // At step 3 check from the websocket, if we get enrolled response!!
---+        if(state.currentStep == 3) {
---+            delay(5000)
---+            onComplete()
---+        }
---+    }
---+
---+    Column(
---+        modifier = Modifier.fillMaxSize(),
---+        horizontalAlignment = Alignment.CenterHorizontally,
---+        verticalArrangement = Arrangement.spacedBy(16.dp)
---+    ) {
---+        CircularProgressIndicator()
---+    }
--- }
---\ No newline at end of file
---diff --git a/app/src/main/java/com/example/figerprintconsole/app/ui/screen/enroll/components/EnrollmentActions.kt b/app/src/main/java/com/example/figerprintconsole/app/ui/screen/enroll/components/EnrollmentActions.kt
---index 5e8c629..889bc8b 100644
------ a/app/src/main/java/com/example/figerprintconsole/app/ui/screen/enroll/components/EnrollmentActions.kt
---+++ b/app/src/main/java/com/example/figerprintconsole/app/ui/screen/enroll/components/EnrollmentActions.kt
---@@ -1,18 +1,29 @@
----package com.example.figerprintconsole.app.ui.enroll.components
---+package com.example.figerprintconsole.app.ui.screen.enroll.components
--- 
--- import androidx.compose.foundation.layout.Arrangement
---+import androidx.compose.foundation.layout.Column
--- import androidx.compose.foundation.layout.Row
---+import androidx.compose.foundation.layout.Spacer
---+import androidx.compose.foundation.layout.fillMaxSize
--- import androidx.compose.foundation.layout.fillMaxWidth
---+import androidx.compose.foundation.layout.height
---+import androidx.compose.foundation.layout.padding
---+import androidx.compose.foundation.layout.size
---+import androidx.compose.material.icons.Icons
---+import androidx.compose.material.icons.filled.Check
---+import androidx.compose.material.icons.filled.PersonAdd
--- import androidx.compose.material3.Button
---+import androidx.compose.material3.Icon
--- import androidx.compose.material3.MaterialTheme
--- import androidx.compose.material3.OutlinedButton
--- import androidx.compose.material3.Text
--- import androidx.compose.runtime.Composable
---+import androidx.compose.ui.Alignment
--- import androidx.compose.ui.Modifier
--- import androidx.compose.ui.text.font.FontWeight
--- import androidx.compose.ui.unit.dp
--- import androidx.compose.ui.unit.sp
----import com.example.figerprintconsole.app.ui.enroll.state.EnrollmentState
---+import com.example.figerprintconsole.app.ui.screen.enroll.state.EnrollmentState
--- 
--- @Composable
--- fun EnrollmentActions(
---@@ -21,47 +32,98 @@ fun EnrollmentActions(
---     onRetry: () -> Unit,
---     onComplete: () -> Unit
--- ) {
----    Row(
----        modifier = Modifier.fillMaxWidth(),
----        horizontalArrangement = Arrangement.spacedBy(16.dp)
---+    Column(
---+        modifier = Modifier
---+            .fillMaxSize() // take full screen
---+            .padding(16.dp)
---     ) {
----        if (!state.isCompleted && !state.isEnrolling) {
----            Button(
----                onClick = onStartEnrollment,
----                modifier = Modifier.weight(1f),
----                shape = MaterialTheme.shapes.large,
----                enabled = !state.isEnrolling
----            ) {
----                Text(
----                    text = "Start Enrollment",
----                    fontSize = 16.sp,
----                    fontWeight = FontWeight.SemiBold
----                )
---+        // Status Section (takes remaining space)
---+        Column(
---+            modifier = Modifier
---+                .weight(1f) // fills available vertical space
---+                .fillMaxWidth(),
---+            verticalArrangement = Arrangement.Center,
---+            horizontalAlignment = Alignment.CenterHorizontally
---+        ) {
---+            when {
---+                // Add the current UI State -> Success / Failed
---+                state.isCompleted -> {
---+                    Icon(
---+                        imageVector = Icons.Default.Check,
---+                        contentDescription = "Completed",
---+                        tint = MaterialTheme.colorScheme.primary,
---+                        modifier = Modifier.size(64.dp)
---+                    )
---+                    Spacer(modifier = Modifier.height(8.dp))
---+                    Text(
---+                        text = "Enrollment Completed",
---+                        style = MaterialTheme.typography.titleMedium,
---+                        fontWeight = FontWeight.SemiBold
---+                    )
---+                }
---+
---+                !state.isEnrolling -> {
---+                    Icon(
---+                        imageVector = Icons.Default.PersonAdd,
---+                        contentDescription = "Start Enrollment",
---+                        tint = MaterialTheme.colorScheme.primary,
---+                        modifier = Modifier.size(64.dp)
---+                    )
---+                    Spacer(modifier = Modifier.height(8.dp))
---+                    Text(
---+                        text = "Ready to Start Enrollment",
---+                        style = MaterialTheme.typography.titleMedium,
---+                        fontWeight = FontWeight.SemiBold
---+                    )
---+                }
---             }
---         }
--- 
----        if (state.isCompleted) {
----            Button(
----                onClick = onComplete,
----                modifier = Modifier.weight(1f),
----                shape = MaterialTheme.shapes.large
----            ) {
----                Text(
----                    text = "Continue",
----                    fontSize = 16.sp,
----                    fontWeight = FontWeight.SemiBold
----                )
---+        Spacer(modifier = Modifier.weight(1f))
---+
---+        // Buttons Row
---+        Row(
---+            modifier = Modifier.fillMaxWidth(),
---+            horizontalArrangement = Arrangement.spacedBy(16.dp)
---+        ) {
---+            if (!state.isCompleted && !state.isEnrolling) {
---+                Button(
---+                    onClick = onStartEnrollment,
---+                    modifier = Modifier.weight(1f),
---+                    shape = MaterialTheme.shapes.large,
---+                    enabled = true
---+                ) {
---+                    Text(
---+                        text = "Start Enrollment",
---+                        fontSize = 16.sp,
---+                        fontWeight = FontWeight.SemiBold
---+                    )
---+                }
---+            }
---+
---+            if (state.isCompleted) {
---+                Button(
---+                    onClick = onComplete,
---+                    modifier = Modifier.weight(1f),
---+                    shape = MaterialTheme.shapes.large
---+                ) {
---+                    Text(
---+                        text = "Continue",
---+                        fontSize = 16.sp,
---+                        fontWeight = FontWeight.SemiBold
---+                    )
---+                }
---             }
----        }
--- 
----        if (state.errorMessage != null) {
----            OutlinedButton(
----                onClick = onRetry,
----                modifier = Modifier.weight(1f),
----                shape = MaterialTheme.shapes.large
----            ) {
----                Text("Retry")
---+            if (state.errorMessage != null) {
---+                OutlinedButton(
---+                    onClick = onRetry,
---+                    modifier = Modifier.weight(1f),
---+                    shape = MaterialTheme.shapes.large
---+                ) {
---+                    Text("Retry")
---+                }
---             }
---         }
---     }
----}
---\ No newline at end of file
---+}
---diff --git a/app/src/main/java/com/example/figerprintconsole/app/ui/screen/enroll/components/EnrollmentHeader.kt b/app/src/main/java/com/example/figerprintconsole/app/ui/screen/enroll/components/EnrollmentHeader.kt
---index 849cd40..86acf9f 100644
------ a/app/src/main/java/com/example/figerprintconsole/app/ui/screen/enroll/components/EnrollmentHeader.kt
---+++ b/app/src/main/java/com/example/figerprintconsole/app/ui/screen/enroll/components/EnrollmentHeader.kt
---@@ -1,4 +1,4 @@
----package com.example.figerprintconsole.app.ui.enroll.components
---+package com.example.figerprintconsole.app.ui.screen.enroll.components
--- 
--- import androidx.compose.material3.Text
--- import androidx.compose.foundation.layout.Column
---@@ -6,7 +6,7 @@ import androidx.compose.material3.MaterialTheme
--- import androidx.compose.runtime.Composable
--- import androidx.compose.ui.Alignment
--- import androidx.compose.ui.text.font.FontWeight
----import com.example.figerprintconsole.app.ui.enroll.state.EnrollmentState
---+import com.example.figerprintconsole.app.ui.screen.enroll.state.EnrollmentState
--- 
--- @Composable
--- fun EnrollmentHeader(
---@@ -16,9 +16,15 @@ fun EnrollmentHeader(
---         horizontalAlignment = Alignment.CenterHorizontally
---     ) {
--- 
---+        val text = if(state.isCompleted) {
---+            "Enrollment Complete!"// + state.enrollmentMessage + "Step: ${state.currentStep}"
---+        } else {
---+            "Fingerprint Enrollment"// + state.enrollmentMessage + "Step: ${state.currentStep}"
---+        }
---+
---         // Show Header
---         Text(
----            text = if (state.isCompleted) "Enrollment Complete!" else "Fingerprint Enrollment",
---+            text = text,
---             style = MaterialTheme.typography.headlineMedium,
---             fontWeight = FontWeight.Bold,
---             color = MaterialTheme.colorScheme.primary
---diff --git a/app/src/main/java/com/example/figerprintconsole/app/ui/screen/enroll/components/EnrollmentProgressSection.kt b/app/src/main/java/com/example/figerprintconsole/app/ui/screen/enroll/components/EnrollmentProgressSection.kt
---index a3d5eb2..e1080e9 100644
------ a/app/src/main/java/com/example/figerprintconsole/app/ui/screen/enroll/components/EnrollmentProgressSection.kt
---+++ b/app/src/main/java/com/example/figerprintconsole/app/ui/screen/enroll/components/EnrollmentProgressSection.kt
---@@ -1,4 +1,4 @@
----package com.example.figerprintconsole.app.ui.enroll.components
---+package com.example.figerprintconsole.app.ui.screen.enroll.components
--- 
--- import androidx.compose.foundation.layout.Column
--- import androidx.compose.foundation.layout.Spacer
---@@ -15,8 +15,8 @@ import androidx.compose.ui.Alignment
--- import androidx.compose.ui.Modifier
--- import androidx.compose.ui.text.style.TextAlign
--- import androidx.compose.ui.unit.dp
----import com.example.figerprintconsole.app.ui.enroll.state.EnrollmentState
----import com.example.figerprintconsole.app.ui.enroll.utils.UtilsEnrollScreen
---+import com.example.figerprintconsole.app.ui.screen.enroll.state.EnrollmentState
---+import com.example.figerprintconsole.app.ui.screen.enroll.utils.UtilsEnrollScreen
--- 
--- @Composable
--- fun EnrollmentProgressSection(
---diff --git a/app/src/main/java/com/example/figerprintconsole/app/ui/screen/enroll/components/FingerprintEnrollmentScreen.kt b/app/src/main/java/com/example/figerprintconsole/app/ui/screen/enroll/components/FingerprintEnrollmentScreen.kt
---index f077b02..48f671c 100644
------ a/app/src/main/java/com/example/figerprintconsole/app/ui/screen/enroll/components/FingerprintEnrollmentScreen.kt
---+++ b/app/src/main/java/com/example/figerprintconsole/app/ui/screen/enroll/components/FingerprintEnrollmentScreen.kt
---@@ -1,4 +1,4 @@
----package com.example.figerprintconsole.app.ui.screen.enroll
---+package com.example.figerprintconsole.app.ui.screen.enroll.components
--- 
--- import androidx.compose.foundation.layout.Column
--- import androidx.compose.foundation.layout.Spacer
---@@ -6,18 +6,14 @@ import androidx.compose.foundation.layout.fillMaxSize
--- import androidx.compose.foundation.layout.fillMaxWidth
--- import androidx.compose.foundation.layout.height
--- import androidx.compose.foundation.layout.padding
----import androidx.compose.foundation.layout.size
--- import androidx.compose.material3.MaterialTheme
--- import androidx.compose.material3.Surface
--- import androidx.compose.runtime.Composable
--- import androidx.compose.ui.Alignment
--- import androidx.compose.ui.Modifier
--- import androidx.compose.ui.unit.dp
----import com.example.figerprintconsole.app.ui.enroll.components.EnrollmentActions
----import com.example.figerprintconsole.app.ui.enroll.components.EnrollmentHeader
----import com.example.figerprintconsole.app.ui.enroll.components.EnrollmentProgressSection
---+import com.example.figerprintconsole.app.domain.model.NewEnrollUser
--- import com.example.figerprintconsole.app.ui.enroll.components.ErrorMessage
----import com.example.figerprintconsole.app.ui.enroll.components.FingerprintVisualization
--- import com.example.figerprintconsole.app.ui.screen.enroll.state.EnrollmentState
--- 
--- @Composable
---@@ -48,13 +44,47 @@ fun FingerprintEnrollmentScreen(
--- 
---             Spacer(modifier = Modifier.height(32.dp))
--- 
----            // Action buttons
----            EnrollmentActions(
----                state = state,
----                onStartEnrollment = onStartEnrollment,
----                onRetry = onRetry,
----                onComplete = onComplete
----            )
---+            // Enrollment actions -> handles start and stop
---+            // EnrollmentActionOne -> handles
---+
---+            when {
---+                (!state.isEnrolling) -> {
---+                    // This is most likely to call onStartEnrollment
---+                    EnrollmentActions(
---+                        state = state,
---+                        onStartEnrollment = onStartEnrollment,
---+                        onRetry = onRetry,
---+                        onComplete = onComplete
---+                    )
---+                }
---+
---+                (state.currentStep == 1) -> {
---+                    EnrollmentActionOne(
---+                        state = state,
---+                        onRetry = onRetry,
---+                        onComplete = onComplete,
---+                        newUser = NewEnrollUser(),
---+                        onInputChanged = {}
---+                    )
---+                }
---+
---+                (state.currentStep == 2 || state.currentStep == 3) -> {
---+                    EnrollmentActionTwo(
---+                        state = state,
---+                        onRetry = onRetry,
---+                        onComplete = onComplete
---+                    )
---+                }
---+
---+                (state.currentStep == 4) -> {
---+                    EnrollmentActions(
---+                        state = state,
---+                        onStartEnrollment = onStartEnrollment,
---+                        onRetry = onRetry,
---+                        onComplete = onComplete
---+                    )
---+                }
---+            }
--- 
---             // Error message if any
---             state.errorMessage?.let {
---diff --git a/app/src/main/java/com/example/figerprintconsole/app/ui/screen/enroll/event/EnrollScreenEvent.kt b/app/src/main/java/com/example/figerprintconsole/app/ui/screen/enroll/event/EnrollScreenEvent.kt
---index 8bc1143..d2fde5e 100644
------ a/app/src/main/java/com/example/figerprintconsole/app/ui/screen/enroll/event/EnrollScreenEvent.kt
---+++ b/app/src/main/java/com/example/figerprintconsole/app/ui/screen/enroll/event/EnrollScreenEvent.kt
---@@ -1,4 +1,7 @@
--- package com.example.figerprintconsole.app.ui.screen.enroll.event
--- 
----class EnrollScreenEvent {
---+import com.example.figerprintconsole.app.domain.model.NewEnrollUser
---+
---+sealed class EnrollScreenEvent {
---+
--- }
---\ No newline at end of file
---diff --git a/app/src/main/java/com/example/figerprintconsole/app/ui/screen/enroll/state/EnrollmentScreenState.kt b/app/src/main/java/com/example/figerprintconsole/app/ui/screen/enroll/state/EnrollmentScreenState.kt
---index 31f64f4..9177713 100644
------ a/app/src/main/java/com/example/figerprintconsole/app/ui/screen/enroll/state/EnrollmentScreenState.kt
---+++ b/app/src/main/java/com/example/figerprintconsole/app/ui/screen/enroll/state/EnrollmentScreenState.kt
---@@ -1,4 +1,12 @@
--- package com.example.figerprintconsole.app.ui.screen.enroll.state
--- 
----class EnrollmentScreenState {
---+import com.example.figerprintconsole.app.domain.model.NewEnrollUser
---+
---+sealed class EnrollmentScreenState {
---+    object Initial
---+    data class UserInput(val userData: NewEnrollUser): EnrollmentScreenState()
---+    object FingerprintScan: EnrollmentScreenState()
---+    object FingerprintScanAgain: EnrollmentScreenState()
---+    object Completed: EnrollmentScreenState()
---+    data class Error(val message: String) : EnrollmentScreenState()
--- }
---\ No newline at end of file
---diff --git a/app/src/main/java/com/example/figerprintconsole/app/ui/screen/enroll/state/EnrollmentState.kt b/app/src/main/java/com/example/figerprintconsole/app/ui/screen/enroll/state/EnrollmentState.kt
---index 51c8893..86141a3 100644
------ a/app/src/main/java/com/example/figerprintconsole/app/ui/screen/enroll/state/EnrollmentState.kt
---+++ b/app/src/main/java/com/example/figerprintconsole/app/ui/screen/enroll/state/EnrollmentState.kt
---@@ -1,4 +1,4 @@
----package com.example.figerprintconsole.app.ui.enroll.state
---+package com.example.figerprintconsole.app.ui.screen.enroll.state
--- 
--- data class EnrollmentState (
---     val currentStep: Int = 1,
---diff --git a/app/src/main/java/com/example/figerprintconsole/app/ui/screen/enroll/tests/TestEnrollmentActions.kt b/app/src/main/java/com/example/figerprintconsole/app/ui/screen/enroll/tests/TestEnrollmentActions.kt
---index 0237993..d241c6e 100644
------ a/app/src/main/java/com/example/figerprintconsole/app/ui/screen/enroll/tests/TestEnrollmentActions.kt
---+++ b/app/src/main/java/com/example/figerprintconsole/app/ui/screen/enroll/tests/TestEnrollmentActions.kt
---@@ -2,8 +2,8 @@ package com.example.figerprintconsole.app.ui.enroll.tests
--- 
--- import androidx.compose.runtime.Composable
--- import androidx.compose.ui.tooling.preview.Preview
----import com.example.figerprintconsole.app.ui.enroll.components.EnrollmentActions
----import com.example.figerprintconsole.app.ui.enroll.state.EnrollmentState
---+import com.example.figerprintconsole.app.ui.screen.enroll.components.EnrollmentActions
---+import com.example.figerprintconsole.app.ui.screen.enroll.state.EnrollmentState
--- 
--- @Preview(showBackground = true)
--- @Composable
---diff --git a/app/src/main/java/com/example/figerprintconsole/app/ui/screen/enroll/tests/TestEnrollmentHeader.kt b/app/src/main/java/com/example/figerprintconsole/app/ui/screen/enroll/tests/TestEnrollmentHeader.kt
---index 683dd85..23f231a 100644
------ a/app/src/main/java/com/example/figerprintconsole/app/ui/screen/enroll/tests/TestEnrollmentHeader.kt
---+++ b/app/src/main/java/com/example/figerprintconsole/app/ui/screen/enroll/tests/TestEnrollmentHeader.kt
---@@ -2,8 +2,8 @@ package com.example.figerprintconsole.app.ui.enroll.tests
--- 
--- import androidx.compose.runtime.Composable
--- import androidx.compose.ui.tooling.preview.Preview
----import com.example.figerprintconsole.app.ui.enroll.components.EnrollmentHeader
----import com.example.figerprintconsole.app.ui.enroll.state.EnrollmentState
---+import com.example.figerprintconsole.app.ui.screen.enroll.components.EnrollmentHeader
---+import com.example.figerprintconsole.app.ui.screen.enroll.state.EnrollmentState
--- 
--- @Preview(showBackground = true)
--- @Composable
---diff --git a/app/src/main/java/com/example/figerprintconsole/app/ui/screen/enroll/tests/TestEnrollmentProgressSection.kt b/app/src/main/java/com/example/figerprintconsole/app/ui/screen/enroll/tests/TestEnrollmentProgressSection.kt
---index 70a3bbe..b181da0 100644
------ a/app/src/main/java/com/example/figerprintconsole/app/ui/screen/enroll/tests/TestEnrollmentProgressSection.kt
---+++ b/app/src/main/java/com/example/figerprintconsole/app/ui/screen/enroll/tests/TestEnrollmentProgressSection.kt
---@@ -2,8 +2,8 @@ package com.example.figerprintconsole.app.ui.enroll.tests
--- 
--- import androidx.compose.runtime.Composable
--- import androidx.compose.ui.tooling.preview.Preview
----import com.example.figerprintconsole.app.ui.enroll.components.EnrollmentProgressSection
----import com.example.figerprintconsole.app.ui.enroll.state.EnrollmentState
---+import com.example.figerprintconsole.app.ui.screen.enroll.components.EnrollmentProgressSection
---+import com.example.figerprintconsole.app.ui.screen.enroll.state.EnrollmentState
--- 
--- @Preview(showBackground = true)
--- @Composable
---diff --git a/app/src/main/java/com/example/figerprintconsole/app/ui/screen/enroll/tests/TestFingerprintEnrollment.kt b/app/src/main/java/com/example/figerprintconsole/app/ui/screen/enroll/tests/TestFingerprintEnrollment.kt
---index 7664f8b..5d5aace 100644
------ a/app/src/main/java/com/example/figerprintconsole/app/ui/screen/enroll/tests/TestFingerprintEnrollment.kt
---+++ b/app/src/main/java/com/example/figerprintconsole/app/ui/screen/enroll/tests/TestFingerprintEnrollment.kt
---@@ -8,8 +8,8 @@ import androidx.compose.runtime.mutableStateOf
--- import androidx.compose.runtime.remember
--- import androidx.compose.runtime.setValue
--- import androidx.compose.ui.tooling.preview.Preview
----import com.example.figerprintconsole.app.ui.screen.enroll.FingerprintEnrollmentScreen
----import com.example.figerprintconsole.app.ui.enroll.state.EnrollmentState
---+import com.example.figerprintconsole.app.ui.screen.enroll.components.FingerprintEnrollmentScreen
---+import com.example.figerprintconsole.app.ui.screen.enroll.state.EnrollmentState
--- import kotlinx.coroutines.delay
--- 
--- @Preview(showBackground = true, showSystemUi = true)
---diff --git a/app/src/main/java/com/example/figerprintconsole/app/ui/screen/enroll/utils/UtilsEnrollScreen.kt b/app/src/main/java/com/example/figerprintconsole/app/ui/screen/enroll/utils/UtilsEnrollScreen.kt
---index fe0927c..a7026b0 100644
------ a/app/src/main/java/com/example/figerprintconsole/app/ui/screen/enroll/utils/UtilsEnrollScreen.kt
---+++ b/app/src/main/java/com/example/figerprintconsole/app/ui/screen/enroll/utils/UtilsEnrollScreen.kt
---@@ -1,15 +1,15 @@
----package com.example.figerprintconsole.app.ui.enroll.utils
---+package com.example.figerprintconsole.app.ui.screen.enroll.utils
--- 
--- // Helper function for step instructions
--- object UtilsEnrollScreen {
---     fun getStepInstruction(step: Int, isEnrolling: Boolean): String {
---         return when {
----            isEnrolling -> "Keep your finger on the sensor..."
----            step == 1 -> "Place your finger on the fingerprint sensor"
----            step == 2 -> "Lift and place your finger again"
----            step == 3 -> "Adjust finger position slightly"
----            step == 4 -> "One final scan for verification"
----            else -> "Follow the on-screen instructions"
---+            !isEnrolling -> "Press Start to Enroll New User"
---+            step == 1 -> "Enter User Information"
---+            step == 2 -> "Place your finger on the fingerprint sensor"
---+            step == 3 -> "Lift and place your finger again"
---+            step == 4 -> "Enrolled Success"
---+            else -> "Error While Enrolling New User"
---         }
---     }
--- }
---\ No newline at end of file
---diff --git a/app/src/main/java/com/example/figerprintconsole/app/ui/screen/home/FingerprintDashboard.kt b/app/src/main/java/com/example/figerprintconsole/app/ui/screen/home/FingerprintDashboard.kt
---index aab2aa3..6a0271b 100644
------ a/app/src/main/java/com/example/figerprintconsole/app/ui/screen/home/FingerprintDashboard.kt
---+++ b/app/src/main/java/com/example/figerprintconsole/app/ui/screen/home/FingerprintDashboard.kt
---@@ -15,13 +15,13 @@ import com.example.figerprintconsole.app.ui.home.components.DashboardTopBar
--- import com.example.figerprintconsole.app.ui.home.components.DevicesStatusSection
--- import com.example.figerprintconsole.app.ui.home.components.NotificationsPanel
--- import com.example.figerprintconsole.app.ui.home.components.RecentActivitiesSection
----import com.example.figerprintconsole.app.ui.home.state.ActivityAction
----import com.example.figerprintconsole.app.ui.home.state.DashboardStats
----import com.example.figerprintconsole.app.ui.home.state.DeviceStatus
----import com.example.figerprintconsole.app.ui.home.state.DeviceStatusType
----import com.example.figerprintconsole.app.ui.home.state.DeviceType
----import com.example.figerprintconsole.app.ui.home.state.QuickAction
----import com.example.figerprintconsole.app.ui.home.state.RecentActivity
---+import com.example.figerprintconsole.app.domain.model.ActivityAction
---+import com.example.figerprintconsole.app.domain.model.DashboardStats
---+import com.example.figerprintconsole.app.domain.model.DeviceStatus
---+import com.example.figerprintconsole.app.domain.model.DeviceStatusType
---+import com.example.figerprintconsole.app.domain.model.DeviceType
---+import com.example.figerprintconsole.app.domain.model.QuickAction
---+import com.example.figerprintconsole.app.domain.model.RecentActivity
--- import com.example.figerprintconsole.app.ui.screen.home.components.DashboardHeader
--- 
--- @OptIn(ExperimentalMaterial3Api::class)
---diff --git a/app/src/main/java/com/example/figerprintconsole/app/ui/screen/home/components/ActivityItem.kt b/app/src/main/java/com/example/figerprintconsole/app/ui/screen/home/components/ActivityItem.kt
---index 82fa0c5..ef01892 100644
------ a/app/src/main/java/com/example/figerprintconsole/app/ui/screen/home/components/ActivityItem.kt
---+++ b/app/src/main/java/com/example/figerprintconsole/app/ui/screen/home/components/ActivityItem.kt
---@@ -32,8 +32,8 @@ import androidx.compose.ui.graphics.Color
--- import androidx.compose.ui.text.font.FontWeight
--- import androidx.compose.ui.text.style.TextOverflow
--- import androidx.compose.ui.unit.dp
----import com.example.figerprintconsole.app.ui.home.state.ActivityAction
----import com.example.figerprintconsole.app.ui.home.state.RecentActivity
---+import com.example.figerprintconsole.app.domain.model.ActivityAction
---+import com.example.figerprintconsole.app.domain.model.RecentActivity
--- import com.example.figerprintconsole.app.ui.home.utils.HomeUtils
--- 
--- @Composable
---diff --git a/app/src/main/java/com/example/figerprintconsole/app/ui/screen/home/components/DashboardBottomNav.kt b/app/src/main/java/com/example/figerprintconsole/app/ui/screen/home/components/DashboardBottomNav.kt
---index 0deabe4..fa81179 100644
------ a/app/src/main/java/com/example/figerprintconsole/app/ui/screen/home/components/DashboardBottomNav.kt
---+++ b/app/src/main/java/com/example/figerprintconsole/app/ui/screen/home/components/DashboardBottomNav.kt
---@@ -13,15 +13,13 @@ import androidx.compose.material3.NavigationBarItem
--- import androidx.compose.material3.NavigationBarItemDefaults
--- import androidx.compose.material3.Text
--- import androidx.compose.runtime.Composable
----import androidx.compose.runtime.getValue
----import androidx.compose.runtime.mutableIntStateOf
----import androidx.compose.runtime.remember
----import androidx.compose.runtime.setValue
--- import androidx.compose.ui.graphics.Color
----import com.example.figerprintconsole.app.ui.home.state.BottomNavItem
---+import com.example.figerprintconsole.app.domain.model.BottomNavItem
---+import com.example.figerprintconsole.app.ui.navigation.Route
--- 
--- @Composable
--- fun DashboardBottomNav(
---+    currentRoute: String?,
---     onDashboardNavigationClick: () -> Unit,
---     onUsersNavigationClick: () -> Unit,
---     onDeviceNavigationClick: () -> Unit,
---@@ -29,23 +27,21 @@ fun DashboardBottomNav(
---     onSettingsNavigationClick: () -> Unit
--- 
--- ) {
----    var selectedItem by remember { mutableIntStateOf(0) }
--- 
---     NavigationBar(
---         containerColor = MaterialTheme.colorScheme.surfaceVariant
---     ) {
---         listOf(
----            BottomNavItem("Dashboard", Icons.Default.Dashboard),
----            BottomNavItem("Users", Icons.Default.People),
----            BottomNavItem("Devices", Icons.Default.Devices),
----            BottomNavItem("Logs", Icons.Default.History),
----            BottomNavItem("Settings", Icons.Default.Settings)
---+            BottomNavItem(Route.HOME_SCREEN, "Dashboard", Icons.Default.Dashboard),
---+            BottomNavItem(Route.USER_SCREEN, "Users", Icons.Default.People),
---+            BottomNavItem(Route.DEVICES_SCREEN, "Devices", Icons.Default.Devices),
---+            BottomNavItem(Route.LOGS_SCREEN, "Logs", Icons.Default.History),
---+            BottomNavItem(Route.SETTING_SCREEN, "Settings", Icons.Default.Settings)
---         ).forEachIndexed { index, item ->
---+
---             NavigationBarItem(
----                selected = selectedItem == index,
---+                selected = currentRoute == item.route,
---                 onClick = {
----                    selectedItem = index
----
---                     when (index) {
---                         0 -> onDashboardNavigationClick()
---                         1 -> onUsersNavigationClick()
---diff --git a/app/src/main/java/com/example/figerprintconsole/app/ui/screen/home/components/DeviceStatusCard.kt b/app/src/main/java/com/example/figerprintconsole/app/ui/screen/home/components/DeviceStatusCard.kt
---index 1208439..5bee56a 100644
------ a/app/src/main/java/com/example/figerprintconsole/app/ui/screen/home/components/DeviceStatusCard.kt
---+++ b/app/src/main/java/com/example/figerprintconsole/app/ui/screen/home/components/DeviceStatusCard.kt
---@@ -1,6 +1,5 @@
--- package com.example.figerprintconsole.app.ui.home.components
--- 
----import android.R
--- import androidx.compose.foundation.background
--- import androidx.compose.foundation.border
--- import androidx.compose.foundation.clickable
---@@ -27,7 +26,7 @@ import androidx.compose.ui.graphics.Color
--- import androidx.compose.ui.text.font.FontWeight
--- import androidx.compose.ui.text.style.TextOverflow
--- import androidx.compose.ui.unit.dp
----import com.example.figerprintconsole.app.ui.home.state.DeviceStatus
---+import com.example.figerprintconsole.app.domain.model.DeviceStatus
--- import com.example.figerprintconsole.app.ui.home.utils.HomeUtils
--- 
--- @Composable
---diff --git a/app/src/main/java/com/example/figerprintconsole/app/ui/screen/home/components/DeviceStatusSection.kt b/app/src/main/java/com/example/figerprintconsole/app/ui/screen/home/components/DeviceStatusSection.kt
---index 3b9a7fb..7e51cc7 100644
------ a/app/src/main/java/com/example/figerprintconsole/app/ui/screen/home/components/DeviceStatusSection.kt
---+++ b/app/src/main/java/com/example/figerprintconsole/app/ui/screen/home/components/DeviceStatusSection.kt
---@@ -5,7 +5,6 @@ import androidx.compose.foundation.layout.Box
--- import androidx.compose.foundation.layout.Column
--- import androidx.compose.foundation.layout.Row
--- import androidx.compose.foundation.layout.Spacer
----import androidx.compose.foundation.layout.fillMaxSize
--- import androidx.compose.foundation.layout.fillMaxWidth
--- import androidx.compose.foundation.layout.height
--- import androidx.compose.foundation.layout.padding
---@@ -14,9 +13,7 @@ import androidx.compose.foundation.lazy.LazyRow
--- import androidx.compose.foundation.lazy.items
--- import androidx.compose.material.icons.Icons
--- import androidx.compose.material.icons.filled.Devices
----import androidx.compose.material.icons.filled.History
--- import androidx.compose.material3.Card
----import androidx.compose.material3.Divider
--- import androidx.compose.material3.Icon
--- import androidx.compose.material3.MaterialTheme
--- import androidx.compose.material3.Text
---@@ -24,10 +21,9 @@ import androidx.compose.runtime.Composable
--- import androidx.compose.ui.Alignment
--- import androidx.compose.ui.Modifier
--- import androidx.compose.ui.graphics.Color
----import androidx.compose.ui.graphics.vector.Path
--- import androidx.compose.ui.text.font.FontWeight
--- import androidx.compose.ui.unit.dp
----import com.example.figerprintconsole.app.ui.home.state.DeviceStatus
---+import com.example.figerprintconsole.app.domain.model.DeviceStatus
--- 
--- @Composable
--- fun DevicesStatusSection(
---diff --git a/app/src/main/java/com/example/figerprintconsole/app/ui/screen/home/components/QuickActionCard.kt b/app/src/main/java/com/example/figerprintconsole/app/ui/screen/home/components/QuickActionCard.kt
---index 4f445cc..8bcda44 100644
------ a/app/src/main/java/com/example/figerprintconsole/app/ui/screen/home/components/QuickActionCard.kt
---+++ b/app/src/main/java/com/example/figerprintconsole/app/ui/screen/home/components/QuickActionCard.kt
---@@ -6,8 +6,6 @@ import androidx.compose.foundation.layout.Arrangement
--- import androidx.compose.foundation.layout.Box
--- import androidx.compose.foundation.layout.Column
--- import androidx.compose.foundation.layout.Spacer
----import androidx.compose.foundation.layout.aspectRatio
----import androidx.compose.foundation.layout.fillMaxSize
--- import androidx.compose.foundation.layout.fillMaxWidth
--- import androidx.compose.foundation.layout.height
--- import androidx.compose.foundation.layout.padding
---@@ -26,7 +24,7 @@ import androidx.compose.ui.text.font.FontWeight
--- import androidx.compose.ui.text.style.TextAlign
--- import androidx.compose.ui.text.style.TextOverflow
--- import androidx.compose.ui.unit.dp
----import com.example.figerprintconsole.app.ui.home.state.QuickAction
---+import com.example.figerprintconsole.app.domain.model.QuickAction
--- 
--- @Composable
--- fun QuickActionCard(
---diff --git a/app/src/main/java/com/example/figerprintconsole/app/ui/screen/home/components/QuickActionsSection.kt b/app/src/main/java/com/example/figerprintconsole/app/ui/screen/home/components/QuickActionsSection.kt
---index 5c17369..0161e02 100644
------ a/app/src/main/java/com/example/figerprintconsole/app/ui/screen/home/components/QuickActionsSection.kt
---+++ b/app/src/main/java/com/example/figerprintconsole/app/ui/screen/home/components/QuickActionsSection.kt
---@@ -8,9 +8,6 @@ import androidx.compose.foundation.layout.fillMaxWidth
--- import androidx.compose.foundation.layout.height
--- import androidx.compose.foundation.layout.padding
--- import androidx.compose.foundation.lazy.LazyRow
----import androidx.compose.foundation.lazy.grid.GridCells
----import androidx.compose.foundation.lazy.grid.LazyVerticalGrid
----import androidx.compose.foundation.lazy.grid.items
--- import androidx.compose.foundation.lazy.items
--- import androidx.compose.material3.Card
--- import androidx.compose.material3.MaterialTheme
---@@ -20,7 +17,7 @@ import androidx.compose.ui.Alignment
--- import androidx.compose.ui.Modifier
--- import androidx.compose.ui.text.font.FontWeight
--- import androidx.compose.ui.unit.dp
----import com.example.figerprintconsole.app.ui.home.state.QuickAction
---+import com.example.figerprintconsole.app.domain.model.QuickAction
--- 
--- @Composable
--- fun QuickActionsSection(
---diff --git a/app/src/main/java/com/example/figerprintconsole/app/ui/screen/home/components/RecentActivitiesSection.kt b/app/src/main/java/com/example/figerprintconsole/app/ui/screen/home/components/RecentActivitiesSection.kt
---index 784f15f..0e85921 100644
------ a/app/src/main/java/com/example/figerprintconsole/app/ui/screen/home/components/RecentActivitiesSection.kt
---+++ b/app/src/main/java/com/example/figerprintconsole/app/ui/screen/home/components/RecentActivitiesSection.kt
---@@ -17,7 +17,6 @@ import androidx.compose.material.icons.Icons
--- import androidx.compose.material.icons.filled.ChevronRight
--- import androidx.compose.material.icons.filled.History
--- import androidx.compose.material3.Card
----import androidx.compose.material3.Divider
--- import androidx.compose.material3.HorizontalDivider
--- import androidx.compose.material3.Icon
--- import androidx.compose.material3.MaterialTheme
---@@ -29,7 +28,7 @@ import androidx.compose.ui.Modifier
--- import androidx.compose.ui.graphics.Color
--- import androidx.compose.ui.text.font.FontWeight
--- import androidx.compose.ui.unit.dp
----import com.example.figerprintconsole.app.ui.home.state.RecentActivity
---+import com.example.figerprintconsole.app.domain.model.RecentActivity
--- 
--- @Composable
--- fun RecentActivitiesSection(
---diff --git a/app/src/main/java/com/example/figerprintconsole/app/ui/screen/home/components/StatCard.kt b/app/src/main/java/com/example/figerprintconsole/app/ui/screen/home/components/StatCard.kt
---index 6fa3e44..19ca80c 100644
------ a/app/src/main/java/com/example/figerprintconsole/app/ui/screen/home/components/StatCard.kt
---+++ b/app/src/main/java/com/example/figerprintconsole/app/ui/screen/home/components/StatCard.kt
---@@ -23,7 +23,7 @@ import androidx.compose.ui.draw.clip
--- import androidx.compose.ui.graphics.Color
--- import androidx.compose.ui.text.font.FontWeight
--- import androidx.compose.ui.unit.dp
----import com.example.figerprintconsole.app.ui.home.state.StatItem
---+import com.example.figerprintconsole.app.domain.model.StatItem
--- 
--- @Composable
--- fun StatCard(stat: StatItem) {
---diff --git a/app/src/main/java/com/example/figerprintconsole/app/ui/screen/home/components/StatsGrid.kt b/app/src/main/java/com/example/figerprintconsole/app/ui/screen/home/components/StatsGrid.kt
---index 22da910..fbfabe6 100644
------ a/app/src/main/java/com/example/figerprintconsole/app/ui/screen/home/components/StatsGrid.kt
---+++ b/app/src/main/java/com/example/figerprintconsole/app/ui/screen/home/components/StatsGrid.kt
---@@ -1,12 +1,8 @@
--- package com.example.figerprintconsole.app.ui.home.components
--- 
--- import androidx.compose.foundation.layout.Arrangement
----import androidx.compose.foundation.layout.Row
--- import androidx.compose.foundation.layout.fillMaxWidth
--- import androidx.compose.foundation.lazy.LazyRow
----import androidx.compose.foundation.lazy.grid.GridCells
----import androidx.compose.foundation.lazy.grid.LazyVerticalGrid
----import androidx.compose.foundation.lazy.grid.items
--- import androidx.compose.foundation.lazy.items
--- import androidx.compose.material.icons.Icons
--- import androidx.compose.material.icons.filled.Devices
---@@ -14,13 +10,12 @@ import androidx.compose.material.icons.filled.Fingerprint
--- import androidx.compose.material.icons.filled.People
--- import androidx.compose.material.icons.filled.TrendingUp
--- import androidx.compose.material3.MaterialTheme
----import androidx.compose.material3.Text
--- import androidx.compose.runtime.Composable
--- import androidx.compose.runtime.remember
--- import androidx.compose.ui.Modifier
--- import androidx.compose.ui.unit.dp
----import com.example.figerprintconsole.app.ui.home.state.DashboardStats
----import com.example.figerprintconsole.app.ui.home.state.StatItem
---+import com.example.figerprintconsole.app.domain.model.DashboardStats
---+import com.example.figerprintconsole.app.domain.model.StatItem
--- 
--- @Composable
--- fun StatsGrid(
---diff --git a/app/src/main/java/com/example/figerprintconsole/app/ui/screen/home/tests/TesetActivityItem.kt b/app/src/main/java/com/example/figerprintconsole/app/ui/screen/home/tests/TesetActivityItem.kt
---index 01f85a9..ba54ceb 100644
------ a/app/src/main/java/com/example/figerprintconsole/app/ui/screen/home/tests/TesetActivityItem.kt
---+++ b/app/src/main/java/com/example/figerprintconsole/app/ui/screen/home/tests/TesetActivityItem.kt
---@@ -2,9 +2,9 @@ package com.example.figerprintconsole.app.ui.home.tests
--- 
--- import androidx.compose.runtime.Composable
--- import androidx.compose.ui.tooling.preview.Preview
----import com.example.figerprintconsole.app.ui.home.state.RecentActivity
---+import com.example.figerprintconsole.app.domain.model.RecentActivity
--- import com.example.figerprintconsole.app.ui.home.components.ActivityItem
----import com.example.figerprintconsole.app.ui.home.state.ActivityAction
---+import com.example.figerprintconsole.app.domain.model.ActivityAction
--- import java.time.LocalDateTime
--- 
--- @Preview(showBackground = true)
---diff --git a/app/src/main/java/com/example/figerprintconsole/app/ui/screen/home/tests/TestDashboardBottomNav.kt b/app/src/main/java/com/example/figerprintconsole/app/ui/screen/home/tests/TestDashboardBottomNav.kt
---index b467835..2b70497 100644
------ a/app/src/main/java/com/example/figerprintconsole/app/ui/screen/home/tests/TestDashboardBottomNav.kt
---+++ b/app/src/main/java/com/example/figerprintconsole/app/ui/screen/home/tests/TestDashboardBottomNav.kt
---@@ -8,6 +8,7 @@ import com.example.figerprintconsole.app.ui.home.components.DashboardBottomNav
--- @Composable
--- fun TestDashboardBottomNav() {
---     DashboardBottomNav(
---+        null,
---         {},
---         {},
---         {},
---diff --git a/app/src/main/java/com/example/figerprintconsole/app/ui/screen/home/tests/TestDeviceStatusCard.kt b/app/src/main/java/com/example/figerprintconsole/app/ui/screen/home/tests/TestDeviceStatusCard.kt
---index c9cc173..63092fd 100644
------ a/app/src/main/java/com/example/figerprintconsole/app/ui/screen/home/tests/TestDeviceStatusCard.kt
---+++ b/app/src/main/java/com/example/figerprintconsole/app/ui/screen/home/tests/TestDeviceStatusCard.kt
---@@ -2,10 +2,10 @@ package com.example.figerprintconsole.app.ui.home.tests
--- 
--- import androidx.compose.runtime.Composable
--- import androidx.compose.ui.tooling.preview.Preview
----import com.example.figerprintconsole.app.ui.home.state.DeviceStatus
---+import com.example.figerprintconsole.app.domain.model.DeviceStatus
--- import com.example.figerprintconsole.app.ui.home.components.DeviceStatusCard
----import com.example.figerprintconsole.app.ui.home.state.DeviceStatusType
----import com.example.figerprintconsole.app.ui.home.state.DeviceType
---+import com.example.figerprintconsole.app.domain.model.DeviceStatusType
---+import com.example.figerprintconsole.app.domain.model.DeviceType
--- import java.time.LocalDateTime
--- 
--- @Preview(showBackground = true)
---diff --git a/app/src/main/java/com/example/figerprintconsole/app/ui/screen/home/tests/TestQuickActionCard.kt b/app/src/main/java/com/example/figerprintconsole/app/ui/screen/home/tests/TestQuickActionCard.kt
---index 5781220..dd0ab84 100644
------ a/app/src/main/java/com/example/figerprintconsole/app/ui/screen/home/tests/TestQuickActionCard.kt
---+++ b/app/src/main/java/com/example/figerprintconsole/app/ui/screen/home/tests/TestQuickActionCard.kt
---@@ -5,7 +5,7 @@ import androidx.compose.material.icons.filled.DeviceHub
--- import androidx.compose.runtime.Composable
--- import androidx.compose.ui.graphics.Color
--- import androidx.compose.ui.tooling.preview.Preview
----import com.example.figerprintconsole.app.ui.home.state.QuickAction
---+import com.example.figerprintconsole.app.domain.model.QuickAction
--- import com.example.figerprintconsole.app.ui.home.components.QuickActionCard
--- 
--- @Preview(showBackground = true)
---diff --git a/app/src/main/java/com/example/figerprintconsole/app/ui/screen/home/tests/TestQuickActionsSection.kt b/app/src/main/java/com/example/figerprintconsole/app/ui/screen/home/tests/TestQuickActionsSection.kt
---index f68b66a..73d8ae9 100644
------ a/app/src/main/java/com/example/figerprintconsole/app/ui/screen/home/tests/TestQuickActionsSection.kt
---+++ b/app/src/main/java/com/example/figerprintconsole/app/ui/screen/home/tests/TestQuickActionsSection.kt
---@@ -8,7 +8,7 @@ import androidx.compose.runtime.Composable
--- import androidx.compose.ui.graphics.Color
--- import androidx.compose.ui.tooling.preview.Preview
--- import com.example.figerprintconsole.app.ui.home.components.QuickActionsSection
----import com.example.figerprintconsole.app.ui.home.state.QuickAction
---+import com.example.figerprintconsole.app.domain.model.QuickAction
--- 
--- @Preview(showBackground = true)
--- @Composable
---diff --git a/app/src/main/java/com/example/figerprintconsole/app/ui/screen/home/tests/TestRecentActivitiesSection.kt b/app/src/main/java/com/example/figerprintconsole/app/ui/screen/home/tests/TestRecentActivitiesSection.kt
---index 6a357b2..096f21a 100644
------ a/app/src/main/java/com/example/figerprintconsole/app/ui/screen/home/tests/TestRecentActivitiesSection.kt
---+++ b/app/src/main/java/com/example/figerprintconsole/app/ui/screen/home/tests/TestRecentActivitiesSection.kt
---@@ -3,8 +3,8 @@ package com.example.figerprintconsole.app.ui.screen.home.tests
--- import androidx.compose.runtime.Composable
--- import androidx.compose.ui.tooling.preview.Preview
--- import com.example.figerprintconsole.app.ui.home.components.RecentActivitiesSection
----import com.example.figerprintconsole.app.ui.home.state.ActivityAction
----import com.example.figerprintconsole.app.ui.home.state.RecentActivity
---+import com.example.figerprintconsole.app.domain.model.ActivityAction
---+import com.example.figerprintconsole.app.domain.model.RecentActivity
--- import java.time.LocalDateTime
--- 
--- @Preview(showBackground = true)
---diff --git a/app/src/main/java/com/example/figerprintconsole/app/ui/screen/home/tests/TestStatCard.kt b/app/src/main/java/com/example/figerprintconsole/app/ui/screen/home/tests/TestStatCard.kt
---index cbca5ba..9a19026 100644
------ a/app/src/main/java/com/example/figerprintconsole/app/ui/screen/home/tests/TestStatCard.kt
---+++ b/app/src/main/java/com/example/figerprintconsole/app/ui/screen/home/tests/TestStatCard.kt
---@@ -5,7 +5,7 @@ import androidx.compose.material.icons.filled.People
--- import androidx.compose.material3.MaterialTheme
--- import androidx.compose.runtime.Composable
--- import androidx.compose.ui.tooling.preview.Preview
----import com.example.figerprintconsole.app.ui.home.state.StatItem
---+import com.example.figerprintconsole.app.domain.model.StatItem
--- import com.example.figerprintconsole.app.ui.home.components.StatCard
--- 
--- @Preview(showBackground = true)
---diff --git a/app/src/main/java/com/example/figerprintconsole/app/ui/screen/home/tests/TestStatsGrid.kt b/app/src/main/java/com/example/figerprintconsole/app/ui/screen/home/tests/TestStatsGrid.kt
---index 605d412..843fd05 100644
------ a/app/src/main/java/com/example/figerprintconsole/app/ui/screen/home/tests/TestStatsGrid.kt
---+++ b/app/src/main/java/com/example/figerprintconsole/app/ui/screen/home/tests/TestStatsGrid.kt
---@@ -3,7 +3,7 @@ package com.example.figerprintconsole.app.ui.home.tests
--- import androidx.compose.runtime.Composable
--- import androidx.compose.ui.tooling.preview.Preview
--- import com.example.figerprintconsole.app.ui.home.components.StatsGrid
----import com.example.figerprintconsole.app.ui.home.state.DashboardStats
---+import com.example.figerprintconsole.app.domain.model.DashboardStats
--- 
--- @Preview(showBackground = true)
--- @Composable
---diff --git a/app/src/main/java/com/example/figerprintconsole/app/ui/screen/home/utils/HomeUtils.kt b/app/src/main/java/com/example/figerprintconsole/app/ui/screen/home/utils/HomeUtils.kt
---index 68de709..0084a4c 100644
------ a/app/src/main/java/com/example/figerprintconsole/app/ui/screen/home/utils/HomeUtils.kt
---+++ b/app/src/main/java/com/example/figerprintconsole/app/ui/screen/home/utils/HomeUtils.kt
---@@ -7,8 +7,8 @@ import androidx.compose.material.icons.filled.PointOfSale
--- import androidx.compose.material.icons.filled.Smartphone
--- import androidx.compose.ui.graphics.Color
--- import androidx.compose.ui.graphics.vector.ImageVector
----import com.example.figerprintconsole.app.ui.home.state.DeviceStatusType
----import com.example.figerprintconsole.app.ui.home.state.DeviceType
---+import com.example.figerprintconsole.app.domain.model.DeviceStatusType
---+import com.example.figerprintconsole.app.domain.model.DeviceType
--- import java.time.LocalDateTime
--- import java.time.format.DateTimeFormatter
--- 
---diff --git a/app/src/main/java/com/example/figerprintconsole/app/utils/AppConstant.kt b/app/src/main/java/com/example/figerprintconsole/app/utils/AppConstant.kt
---index fe56c3d..a9c32ec 100644
------ a/app/src/main/java/com/example/figerprintconsole/app/utils/AppConstant.kt
---+++ b/app/src/main/java/com/example/figerprintconsole/app/utils/AppConstant.kt
---@@ -1,8 +1,26 @@
--- package com.example.figerprintconsole.app.utils
--- 
---+import android.util.Log
---+
--- object AppConstant {
---     const val BASE_URL = "http://137.97.126.110:4005/"
---     const val GET_ALL_USERS_API = "api/users"
---     const val USER_GET_URL = "api/users/fp" // add the ID of user
---     const val GET_USER_BY_ID_API = "api/users/fp"
---+
---+    const val DEBUG = true
---+
---+    fun debugMessage(msg: String, tag: String = "UNKNOWN", debugType: DebugType = DebugType.INFO) {
---+        if(DEBUG) {
---+            if(debugType == DebugType.INFO) Log.i(tag, msg)
---+            if(debugType == DebugType.ERROR) Log.e(tag, msg)
---+            if(debugType == DebugType.DESCRIPTION) Log.d(tag, msg)
---+        }
---+    }
---+}
---+
---+enum class DebugType {
---+    ERROR,
---+    INFO,
---+    DESCRIPTION
--- }
---\ No newline at end of file
